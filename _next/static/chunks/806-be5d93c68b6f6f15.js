"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[806],{73:(e,t,i)=>{let r,n,s,a,o;i.d(t,{A:()=>er,B:()=>D,C:()=>en,E:()=>I,F:()=>el,a:()=>F,b:()=>P,c:()=>eP,d:()=>eR,e:()=>ef,f:()=>eW,i:()=>T,o:()=>eD,q:()=>X,u:()=>R});var l=i(3264),u=i(7431),h=i(2115),c=i(1933),d=i(5643);let p=e=>{let t;let i=new Set,r=(e,r)=>{let n="function"==typeof e?e(t):e;if(!Object.is(n,t)){let e=t;t=(null!=r?r:"object"!=typeof n||null===n)?n:Object.assign({},t,n),i.forEach(i=>i(t,e))}},n=()=>t,s={setState:r,getState:n,getInitialState:()=>a,subscribe:e=>(i.add(e),()=>i.delete(e))},a=t=e(r,n,s);return s},f=e=>e?p(e):p,{useSyncExternalStoreWithSelector:m}=d,g=e=>e,v=(e,t)=>{let i=f(e),r=(e,r=t)=>(function(e,t=g,i){let r=m(e.subscribe,e.getState,e.getInitialState,t,i);return h.useDebugValue(r),r})(i,e,r);return Object.assign(r,i),r},A=(e,t)=>e?v(e,t):v;var y=i(5220),B=i.n(y),C=i(2407),b=i(228),x=i(5155),w=i(6354);function E(e){let t=e.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}i(1890),h.act;let M=e=>e&&e.isOrthographicCamera,T=e=>e&&e.hasOwnProperty("current"),S=e=>null!=e&&("string"==typeof e||"number"==typeof e||e.isColor),P=((e,t)=>"undefined"!=typeof window&&((null==(e=window.document)?void 0:e.createElement)||(null==(t=window.navigator)?void 0:t.product)==="ReactNative"))()?h.useLayoutEffect:h.useEffect;function F(e){let t=h.useRef(e);return P(()=>void(t.current=e),[e]),t}function R(){let e=(0,w.u5)(),t=(0,w.y3)();return h.useMemo(()=>({children:i})=>{let r=(0,w.Nz)(e,!0,e=>e.type===h.StrictMode)?h.StrictMode:h.Fragment;return(0,x.jsx)(r,{children:(0,x.jsx)(t,{children:i})})},[e,t])}function D({set:e}){return P(()=>(e(new Promise(()=>null)),()=>e(!1)),[e]),null}let I=(e=>((e=class extends h.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}).getDerivedStateFromError=()=>({error:!0}),e))();function O(e){var t;let i="undefined"!=typeof window?null!=(t=window.devicePixelRatio)?t:2:1;return Array.isArray(e)?Math.min(Math.max(e[0],i),e[1]):e}function G(e){var t;return null==(t=e.__r3f)?void 0:t.root.getState()}let L={obj:e=>e===Object(e)&&!L.arr(e)&&"function"!=typeof e,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,boo:e=>"boolean"==typeof e,und:e=>void 0===e,nul:e=>null===e,arr:e=>Array.isArray(e),equ(e,t,{arrays:i="shallow",objects:r="reference",strict:n=!0}={}){let s;if(typeof e!=typeof t||!!e!=!!t)return!1;if(L.str(e)||L.num(e)||L.boo(e))return e===t;let a=L.obj(e);if(a&&"reference"===r)return e===t;let o=L.arr(e);if(o&&"reference"===i)return e===t;if((o||a)&&e===t)return!0;for(s in e)if(!(s in t))return!1;if(a&&"shallow"===i&&"shallow"===r){for(s in n?t:e)if(!L.equ(e[s],t[s],{strict:n,objects:"reference"}))return!1}else for(s in n?t:e)if(e[s]!==t[s])return!1;if(L.und(s)){if(o&&0===e.length&&0===t.length||a&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}},k=["children","key","ref"];function H(e,t,i,r){let n=null==e?void 0:e.__r3f;return!n&&(n={root:t,type:i,parent:null,children:[],props:function(e){let t={};for(let i in e)k.includes(i)||(t[i]=e[i]);return t}(r),object:e,eventCount:0,handlers:{},isHidden:!1},e&&(e.__r3f=n)),n}function _(e,t){let i=e[t];if(!t.includes("-"))return{root:e,key:t,target:i};for(let n of(i=e,t.split("-"))){var r;t=n,e=i,i=null==(r=i)?void 0:r[t]}return{root:e,key:t,target:i}}let j=/-\d+$/;function U(e,t){if(L.str(t.props.attach)){if(j.test(t.props.attach)){let i=t.props.attach.replace(j,""),{root:r,key:n}=_(e.object,i);Array.isArray(r[n])||(r[n]=[])}let{root:i,key:r}=_(e.object,t.props.attach);t.previousAttach=i[r],i[r]=t.object}else L.fun(t.props.attach)&&(t.previousAttach=t.props.attach(e.object,t.object))}function V(e,t){if(L.str(t.props.attach)){let{root:i,key:r}=_(e.object,t.props.attach),n=t.previousAttach;void 0===n?delete i[r]:i[r]=n}else null==t.previousAttach||t.previousAttach(e.object,t.object);delete t.previousAttach}let J=[...k,"args","dispose","attach","object","onUpdate","dispose"],N=new Map,K=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],W=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function X(e,t){var i,r;let n=e.__r3f,s=n&&E(n).getState(),a=null==n?void 0:n.eventCount;for(let i in t){let a=t[i];if(J.includes(i))continue;if(n&&W.test(i)){"function"==typeof a?n.handlers[i]=a:delete n.handlers[i],n.eventCount=Object.keys(n.handlers).length;continue}if(void 0===a)continue;let{root:o,key:u,target:h}=_(e,i);h instanceof l.zgK&&a instanceof l.zgK?h.mask=a.mask:h instanceof l.Q1f&&S(a)?h.set(a):null!==h&&"object"==typeof h&&"function"==typeof h.set&&"function"==typeof h.copy&&null!=a&&a.constructor&&h.constructor===a.constructor?h.copy(a):null!==h&&"object"==typeof h&&"function"==typeof h.set&&Array.isArray(a)?"function"==typeof h.fromArray?h.fromArray(a):h.set(...a):null!==h&&"object"==typeof h&&"function"==typeof h.set&&"number"==typeof a?"function"==typeof h.setScalar?h.setScalar(a):h.set(a):(o[u]=a,s&&!s.linear&&K.includes(u)&&null!=(r=o[u])&&r.isTexture&&o[u].format===l.GWd&&o[u].type===l.OUM&&(o[u].colorSpace=l.er$))}if(null!=n&&n.parent&&null!=s&&s.internal&&null!=(i=n.object)&&i.isObject3D&&a!==n.eventCount){let e=n.object,t=s.internal.interaction.indexOf(e);t>-1&&s.internal.interaction.splice(t,1),n.eventCount&&null!==e.raycast&&s.internal.interaction.push(e)}return n&&void 0===n.props.attach&&(n.object.isBufferGeometry?n.props.attach="geometry":n.object.isMaterial&&(n.props.attach="material")),n&&Q(n),e}function Q(e){var t;if(!e.parent)return;null==e.props.onUpdate||e.props.onUpdate(e.object);let i=null==(t=e.root)?void 0:null==t.getState?void 0:t.getState();i&&0===i.internal.frames&&i.invalidate()}function Y(e,t){e.manual||(M(e)?(e.left=-(t.width/2),e.right=t.width/2,e.top=t.height/2,e.bottom=-(t.height/2)):e.aspect=t.width/t.height,e.updateProjectionMatrix())}let z=e=>null==e?void 0:e.isObject3D;function q(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function Z(e,t,i,r){let n=i.get(t);n&&(i.delete(t),0===i.size&&(e.delete(r),n.target.releasePointerCapture(r)))}let $=e=>!!(null!=e&&e.render),ee=h.createContext(null),et=(e,t)=>{let i=A((i,r)=>{let n;let s=new l.Pq0,a=new l.Pq0,o=new l.Pq0;function u(e=r().camera,t=a,i=r().size){let{width:n,height:l,top:h,left:c}=i,d=n/l;t.isVector3?o.copy(t):o.set(...t);let p=e.getWorldPosition(s).distanceTo(o);if(M(e))return{width:n/e.zoom,height:l/e.zoom,top:h,left:c,factor:1,distance:p,aspect:d};{let t=2*Math.tan(e.fov*Math.PI/180/2)*p,i=n/l*t;return{width:i,height:t,top:h,left:c,factor:n/i,distance:p,aspect:d}}}let c=e=>i(t=>({performance:{...t.performance,current:e}})),d=new l.I9Y;return{set:i,get:r,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(t=1)=>e(r(),t),advance:(e,i)=>t(e,i,r()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new l.zD7,pointer:d,mouse:d,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{let e=r();n&&clearTimeout(n),e.performance.current!==e.performance.min&&c(e.performance.min),n=setTimeout(()=>c(r().performance.max),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:u},setEvents:e=>i(t=>({...t,events:{...t.events,...e}})),setSize:(e,t,n=0,s=0)=>{let o=r().camera,l={width:e,height:t,top:n,left:s};i(e=>({size:l,viewport:{...e.viewport,...u(o,a,l)}}))},setDpr:e=>i(t=>{let i=O(e);return{viewport:{...t.viewport,dpr:i,initialDpr:t.viewport.initialDpr||i}}}),setFrameloop:(e="always")=>{let t=r().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),i(()=>({frameloop:e}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:h.createRef(),active:!1,frames:0,priority:0,subscribe:(e,t,i)=>{let n=r().internal;return n.priority=n.priority+ +(t>0),n.subscribers.push({ref:e,priority:t,store:i}),n.subscribers=n.subscribers.sort((e,t)=>e.priority-t.priority),()=>{let i=r().internal;null!=i&&i.subscribers&&(i.priority=i.priority-+(t>0),i.subscribers=i.subscribers.filter(t=>t.ref!==e))}}}}}),r=i.getState(),n=r.size,s=r.viewport.dpr,a=r.camera;return i.subscribe(()=>{let{camera:e,size:t,viewport:r,gl:o,set:l}=i.getState();if(t.width!==n.width||t.height!==n.height||r.dpr!==s){n=t,s=r.dpr,Y(e,t),r.dpr>0&&o.setPixelRatio(r.dpr);let i="undefined"!=typeof HTMLCanvasElement&&o.domElement instanceof HTMLCanvasElement;o.setSize(t.width,t.height,i)}e!==a&&(a=e,l(t=>({viewport:{...t.viewport,...t.viewport.getCurrentViewport(e)}})))}),i.subscribe(t=>e(t)),i};function ei(){let e=h.useContext(ee);if(!e)throw Error("R3F: Hooks can only be used within the Canvas component!");return e}function er(e=e=>e,t){return ei()(e,t)}function en(e,t=0){let i=ei(),r=i.getState().internal.subscribe,n=F(e);return P(()=>r(n,t,i),[t,r,i]),null}let es=new WeakMap,ea=e=>{var t;return"function"==typeof e&&(null==e?void 0:null==(t=e.prototype)?void 0:t.constructor)===e};function eo(e,t){return function(i,...r){let n;return ea(i)?(n=es.get(i))||(n=new i,es.set(i,n)):n=i,e&&e(n),Promise.all(r.map(e=>new Promise((i,r)=>n.load(e,e=>{z(null==e?void 0:e.scene)&&Object.assign(e,function(e){let t={nodes:{},materials:{},meshes:{}};return e&&e.traverse(e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material),e.isMesh&&!t.meshes[e.name]&&(t.meshes[e.name]=e)}),t}(e.scene)),i(e)},t,t=>r(Error(`Could not load ${e}: ${null==t?void 0:t.message}`))))))}}function el(e,t,i,r){let n=Array.isArray(t)?t:[t],s=(0,b.DY)(eo(i,r),[e,...n],{equal:L.equ});return Array.isArray(t)?s:s[0]}el.preload=function(e,t,i){let r=Array.isArray(t)?t:[t];return(0,b.uv)(eo(i),[e,...r])},el.clear=function(e,t){let i=Array.isArray(t)?t:[t];return(0,b.IU)([e,...i])};let eu={},eh=/^three(?=[A-Z])/,ec=e=>`${e[0].toUpperCase()}${e.slice(1)}`,ed=0,ep=e=>"function"==typeof e;function ef(e){if(ep(e)){let t=`${ed++}`;return eu[t]=e,t}Object.assign(eu,e)}function em(e,t){let i=ec(e),r=eu[i];if("primitive"!==e&&!r)throw Error(`R3F: ${i} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if("primitive"===e&&!t.object)throw Error("R3F: Primitives without 'object' are invalid!");if(void 0!==t.args&&!Array.isArray(t.args))throw Error("R3F: The args prop must be an array!")}function eg(e){if(e.isHidden){var t;e.props.attach&&null!=(t=e.parent)&&t.object?U(e.parent,e):z(e.object)&&!1!==e.props.visible&&(e.object.visible=!0),e.isHidden=!1,Q(e)}}function ev(e,t,i){let r=t.root.getState();if(e.parent||e.object===r.scene){if(!t.object){var n,s;let e=eu[ec(t.type)];t.object=null!=(n=t.props.object)?n:new e(...null!=(s=t.props.args)?s:[]),t.object.__r3f=t}if(X(t.object,t.props),t.props.attach)U(e,t);else if(z(t.object)&&z(e.object)){let r=e.object.children.indexOf(null==i?void 0:i.object);if(i&&-1!==r){let i=e.object.children.indexOf(t.object);-1!==i?(e.object.children.splice(i,1),e.object.children.splice(i<r?r-1:r,0,t.object)):(t.object.parent=e.object,e.object.children.splice(r,0,t.object),t.object.dispatchEvent({type:"added"}),e.object.dispatchEvent({type:"childadded",child:t.object}))}else e.object.add(t.object)}for(let e of t.children)ev(t,e);Q(t)}}function eA(e,t){t&&(t.parent=e,e.children.push(t),ev(e,t))}function ey(e,t,i){if(!t||!i)return;t.parent=e;let r=e.children.indexOf(i);-1!==r?e.children.splice(r,0,t):e.children.push(t),ev(e,t,i)}function eB(e){if("function"==typeof e.dispose){let t=()=>{try{e.dispose()}catch{}};"undefined"!=typeof IS_REACT_ACT_ENVIRONMENT?t():(0,C.unstable_scheduleCallback)(C.unstable_IdlePriority,t)}}function eC(e,t,i){if(!t)return;t.parent=null;let r=e.children.indexOf(t);-1!==r&&e.children.splice(r,1),t.props.attach?V(e,t):z(t.object)&&z(e.object)&&(e.object.remove(t.object),function(e,t){let{internal:i}=e.getState();i.interaction=i.interaction.filter(e=>e!==t),i.initialHits=i.initialHits.filter(e=>e!==t),i.hovered.forEach((e,r)=>{(e.eventObject===t||e.object===t)&&i.hovered.delete(r)}),i.capturedMap.forEach((e,r)=>{Z(i.capturedMap,t,e,r)})}(E(t),t.object));let n=null!==t.props.dispose&&!1!==i;for(let e=t.children.length-1;e>=0;e--){let i=t.children[e];eC(t,i,n)}t.children.length=0,delete t.object.__r3f,n&&"primitive"!==t.type&&"Scene"!==t.object.type&&eB(t.object),void 0===i&&Q(t)}let eb=[],ex=()=>{},ew={},eE=0,eM=function(e){let t=B()(e);return t.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:h.version}),t}({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:function(e,t,i){var r;return em(e=ec(e)in eu?e:e.replace(eh,""),t),"primitive"===e&&null!=(r=t.object)&&r.__r3f&&delete t.object.__r3f,H(t.object,i,e,t)},removeChild:eC,appendChild:eA,appendInitialChild:eA,insertBefore:ey,appendChildToContainer(e,t){let i=e.getState().scene.__r3f;t&&i&&eA(i,t)},removeChildFromContainer(e,t){let i=e.getState().scene.__r3f;t&&i&&eC(i,t)},insertInContainerBefore(e,t,i){let r=e.getState().scene.__r3f;t&&i&&r&&ey(r,t,i)},getRootHostContext:()=>ew,getChildHostContext:()=>ew,commitUpdate(e,t,i,r,n){var s,a,o;em(t,r);let l=!1;if("primitive"===e.type&&i.object!==r.object?l=!0:(null==(s=r.args)?void 0:s.length)!==(null==(a=i.args)?void 0:a.length)?l=!0:null!=(o=r.args)&&o.some((e,t)=>{var r;return e!==(null==(r=i.args)?void 0:r[t])})&&(l=!0),l)eb.push([e,{...r},n]);else{let t=function(e,t){let i={};for(let r in t)if(!J.includes(r)&&!L.equ(t[r],e.props[r]))for(let e in i[r]=t[r],t)e.startsWith(`${r}-`)&&(i[e]=t[e]);for(let r in e.props){if(J.includes(r)||t.hasOwnProperty(r))continue;let{root:n,key:s}=_(e.object,r);if(n.constructor&&0===n.constructor.length){let e=function(e){let t=N.get(e.constructor);try{t||(t=new e.constructor,N.set(e.constructor,t))}catch(e){}return t}(n);L.und(e)||(i[s]=e[s])}else i[s]=0}return i}(e,r);Object.keys(t).length&&(Object.assign(e.props,t),X(e.object,t))}(null===n.sibling||(4&n.flags)==0)&&function(){for(let[e]of eb){let t=e.parent;if(t)for(let i of(e.props.attach?V(t,e):z(e.object)&&z(t.object)&&t.object.remove(e.object),e.children))i.props.attach?V(e,i):z(i.object)&&z(e.object)&&e.object.remove(i.object);e.isHidden&&eg(e),e.object.__r3f&&delete e.object.__r3f,"primitive"!==e.type&&eB(e.object)}for(let[i,r,n]of eb){i.props=r;let s=i.parent;if(s){var e,t;let r=eu[ec(i.type)];for(let a of(i.object=null!=(e=i.props.object)?e:new r(...null!=(t=i.props.args)?t:[]),i.object.__r3f=i,!function(e,t){for(let i of[e,e.alternate])if(null!==i){if("function"==typeof i.ref){null==i.refCleanup||i.refCleanup();let e=i.ref(t);"function"==typeof e&&(i.refCleanup=e)}else i.ref&&(i.ref.current=t)}}(n,i.object),X(i.object,i.props),i.props.attach?U(s,i):z(i.object)&&z(s.object)&&s.object.add(i.object),i.children))a.props.attach?U(i,a):z(a.object)&&z(i.object)&&i.object.add(a.object);Q(i)}}eb.length=0}()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:e=>null==e?void 0:e.object,prepareForCommit:()=>null,preparePortalMount:e=>H(e.getState().scene,e,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:function(e){if(!e.isHidden){var t;e.props.attach&&null!=(t=e.parent)&&t.object?V(e.parent,e):z(e.object)&&(e.object.visible=!1),e.isHidden=!0,Q(e)}},unhideInstance:eg,createTextInstance:ex,hideTextInstance:ex,unhideTextInstance:ex,scheduleTimeout:"function"==typeof setTimeout?setTimeout:void 0,cancelTimeout:"function"==typeof clearTimeout?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:h.createContext(null),setCurrentUpdatePriority(e){eE=e},getCurrentUpdatePriority:()=>eE,resolveUpdatePriority(){var e;if(0!==eE)return eE;switch("undefined"!=typeof window&&(null==(e=window.event)?void 0:e.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return c.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return c.ContinuousEventPriority;default:return c.DefaultEventPriority}},resetFormInstance(){}}),eT=new Map,eS={objects:"shallow",strict:!1};function eP(e){let t,i;let r=eT.get(e),n=null==r?void 0:r.fiber,s=null==r?void 0:r.store;r&&console.warn("R3F.createRoot should only be called once!");let a="function"==typeof reportError?reportError:console.error,o=s||et(eJ,eN),h=n||eM.createContainer(o,c.ConcurrentRoot,null,!1,null,"",a,a,a,null);r||eT.set(e,{fiber:h,store:o});let d=!1,p=null;return{async configure(r={}){var n,s;let a;p=new Promise(e=>a=e);let{gl:h,size:c,scene:f,events:m,onCreated:g,shadows:v=!1,linear:A=!1,flat:y=!1,legacy:B=!1,orthographic:C=!1,frameloop:b="always",dpr:x=[1,2],performance:w,raycaster:E,camera:M,onPointerMissed:T}=r,S=o.getState(),P=S.gl;if(!S.gl){let t={canvas:e,powerPreference:"high-performance",antialias:!0,alpha:!0},i="function"==typeof h?await h(t):h;P=$(i)?i:new u.WebGLRenderer({...t,...h}),S.set({gl:P})}let F=S.raycaster;F||S.set({raycaster:F=new l.tBo});let{params:R,...D}=E||{};if(L.equ(D,F,eS)||X(F,{...D}),L.equ(R,F.params,eS)||X(F,{params:{...F.params,...R}}),!S.camera||S.camera===i&&!L.equ(i,M,eS)){i=M;let e=null==M?void 0:M.isCamera,t=e?M:C?new l.qUd(0,0,0,0,.1,1e3):new l.ubm(75,0,.1,1e3);e||(t.position.z=5,M&&(X(t,M),!t.manual&&("aspect"in M||"left"in M||"right"in M||"bottom"in M||"top"in M)&&(t.manual=!0,t.updateProjectionMatrix())),S.camera||null!=M&&M.rotation||t.lookAt(0,0,0)),S.set({camera:t}),F.camera=t}if(!S.scene){let e;null!=f&&f.isScene?H(e=f,o,"",{}):(H(e=new l.Z58,o,"",{}),f&&X(e,f)),S.set({scene:e})}m&&!S.events.handlers&&S.set({events:m(o)});let I=function(e,t){if(!t&&"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){let{width:t,height:i,top:r,left:n}=e.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:n}}return!t&&"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0}:{width:0,height:0,top:0,left:0,...t}}(e,c);if(L.equ(I,S.size,eS)||S.setSize(I.width,I.height,I.top,I.left),x&&S.viewport.dpr!==O(x)&&S.setDpr(x),S.frameloop!==b&&S.setFrameloop(b),S.onPointerMissed||S.set({onPointerMissed:T}),w&&!L.equ(w,S.performance,eS)&&S.set(e=>({performance:{...e.performance,...w}})),!S.xr){let e=(e,t)=>{let i=o.getState();"never"!==i.frameloop&&eN(e,!0,i,t)},t=()=>{let t=o.getState();t.gl.xr.enabled=t.gl.xr.isPresenting,t.gl.xr.setAnimationLoop(t.gl.xr.isPresenting?e:null),t.gl.xr.isPresenting||eJ(t)},i={connect(){let e=o.getState().gl;e.xr.addEventListener("sessionstart",t),e.xr.addEventListener("sessionend",t)},disconnect(){let e=o.getState().gl;e.xr.removeEventListener("sessionstart",t),e.xr.removeEventListener("sessionend",t)}};"function"==typeof(null==(n=P.xr)?void 0:n.addEventListener)&&i.connect(),S.set({xr:i})}if(P.shadowMap){let e=P.shadowMap.enabled,t=P.shadowMap.type;if(P.shadowMap.enabled=!!v,L.boo(v))P.shadowMap.type=l.Wk7;else if(L.str(v)){let e={basic:l.bTm,percentage:l.QP0,soft:l.Wk7,variance:l.RyA};P.shadowMap.type=null!=(s=e[v])?s:l.Wk7}else L.obj(v)&&Object.assign(P.shadowMap,v);(e!==P.shadowMap.enabled||t!==P.shadowMap.type)&&(P.shadowMap.needsUpdate=!0)}return l.ppV.enabled=!B,d||(P.outputColorSpace=A?l.Zr2:l.er$,P.toneMapping=y?l.y_p:l.FV),S.legacy!==B&&S.set(()=>({legacy:B})),S.linear!==A&&S.set(()=>({linear:A})),S.flat!==y&&S.set(()=>({flat:y})),!h||L.fun(h)||$(h)||L.equ(h,P,eS)||X(P,h),t=g,d=!0,a(),this},render(i){return d||p||this.configure(),p.then(()=>{eM.updateContainer((0,x.jsx)(eF,{store:o,children:i,onCreated:t,rootElement:e}),h,null,()=>void 0)}),o},unmount(){eR(e)}}}function eF({store:e,children:t,onCreated:i,rootElement:r}){return P(()=>{let t=e.getState();t.set(e=>({internal:{...e.internal,active:!0}})),i&&i(t),e.getState().events.connected||null==t.events.connect||t.events.connect(r)},[]),(0,x.jsx)(ee.Provider,{value:e,children:t})}function eR(e,t){let i=eT.get(e),r=null==i?void 0:i.fiber;if(r){let n=null==i?void 0:i.store.getState();n&&(n.internal.active=!1),eM.updateContainer(null,r,null,()=>{n&&setTimeout(()=>{try{var i,r,s,a;null==n.events.disconnect||n.events.disconnect(),null==(i=n.gl)||null==(r=i.renderLists)||null==r.dispose||r.dispose(),null==(s=n.gl)||null==s.forceContextLoss||s.forceContextLoss(),null!=(a=n.gl)&&a.xr&&n.xr.disconnect(),function(e){for(let t in"Scene"!==e.type&&(null==e.dispose||e.dispose()),e){let i=e[t];(null==i?void 0:i.type)!=="Scene"&&(null==i||null==i.dispose||i.dispose())}}(n.scene),eT.delete(e),t&&t(e)}catch(e){}},500)})}}function eD(e,t,i){return(0,x.jsx)(eI,{children:e,container:t,state:i})}function eI({state:e={},children:t,container:i}){let{events:r,size:n,...s}=e,a=ei(),[o]=h.useState(()=>new l.tBo),[u]=h.useState(()=>new l.I9Y),c=F((e,t)=>{let s;if(t.camera&&n){let i=t.camera;s=e.viewport.getCurrentViewport(i,new l.Pq0,n),i!==e.camera&&Y(i,n)}return{...e,...t,scene:i,raycaster:o,pointer:u,mouse:u,previousRoot:a,events:{...e.events,...t.events,...r},size:{...e.size,...n},viewport:{...e.viewport,...s},setEvents:e=>t.set(t=>({...t,events:{...t.events,...e}}))}}),d=h.useMemo(()=>{let e=A((e,t)=>({...s,set:e,get:t})),t=t=>e.setState(e=>c.current(t,e));return t(a.getState()),a.subscribe(t),e},[a,i]);return(0,x.jsx)(x.Fragment,{children:eM.createPortal((0,x.jsx)(ee.Provider,{value:d,children:t}),d,null)})}let eO=new Set,eG=new Set,eL=new Set;function ek(e,t){if(e.size)for(let{callback:i}of e.values())i(t)}function eH(e,t){switch(e){case"before":return ek(eO,t);case"after":return ek(eG,t);case"tail":return ek(eL,t)}}function e_(e,t,i){let s=t.clock.getDelta();"never"===t.frameloop&&"number"==typeof e&&(s=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),r=t.internal.subscribers;for(let e=0;e<r.length;e++)(n=r[e]).ref.current(n.store.getState(),s,i);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}let ej=!1,eU=!1;function eV(e){for(let i of(a=requestAnimationFrame(eV),ej=!0,s=0,eH("before",e),eU=!0,eT.values())){var t;(o=i.store.getState()).internal.active&&("always"===o.frameloop||o.internal.frames>0)&&!(null!=(t=o.gl.xr)&&t.isPresenting)&&(s+=e_(e,o))}if(eU=!1,eH("after",e),0===s)return eH("tail",e),ej=!1,cancelAnimationFrame(a)}function eJ(e,t=1){var i;if(!e)return eT.forEach(e=>eJ(e.store.getState(),t));null!=(i=e.gl.xr)&&i.isPresenting||!e.internal.active||"never"===e.frameloop||(t>1?e.internal.frames=Math.min(60,e.internal.frames+t):eU?e.internal.frames=2:e.internal.frames=1,ej||(ej=!0,requestAnimationFrame(eV)))}function eN(e,t=!0,i,r){if(t&&eH("before",e),i)e_(e,i,r);else for(let t of eT.values())e_(e,t.store.getState());t&&eH("after",e)}let eK={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function eW(e){let{handlePointer:t}=function(e){function t(e){return e.filter(e=>["Move","Over","Enter","Out","Leave"].some(t=>{var i;return null==(i=e.__r3f)?void 0:i.handlers["onPointer"+t]}))}function i(t){let{internal:i}=e.getState();for(let e of i.hovered.values())if(!t.length||!t.find(t=>t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId)){let r=e.eventObject.__r3f;if(i.hovered.delete(q(e)),null!=r&&r.eventCount){let i=r.handlers,n={...e,intersections:t};null==i.onPointerOut||i.onPointerOut(n),null==i.onPointerLeave||i.onPointerLeave(n)}}}function r(e,t){for(let i=0;i<t.length;i++){let r=t[i].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(n){switch(n){case"onPointerLeave":case"onPointerCancel":return()=>i([]);case"onLostPointerCapture":return t=>{let{internal:r}=e.getState();"pointerId"in t&&r.capturedMap.has(t.pointerId)&&requestAnimationFrame(()=>{r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),i([]))})}}return function(s){let{onPointerMissed:a,internal:o}=e.getState();o.lastEvent.current=s;let u="onPointerMove"===n,h="onClick"===n||"onContextMenu"===n||"onDoubleClick"===n,c=function(t,i){let r=e.getState(),n=new Set,s=[],a=i?i(r.internal.interaction):r.internal.interaction;for(let e=0;e<a.length;e++){let t=G(a[e]);t&&(t.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);let o=a.flatMap(function(e){let i=G(e);if(!i||!i.events.enabled||null===i.raycaster.camera)return[];if(void 0===i.raycaster.camera){var r;null==i.events.compute||i.events.compute(t,i,null==(r=i.previousRoot)?void 0:r.getState()),void 0===i.raycaster.camera&&(i.raycaster.camera=null)}return i.raycaster.camera?i.raycaster.intersectObject(e,!0):[]}).sort((e,t)=>{let i=G(e.object),r=G(t.object);return i&&r&&r.events.priority-i.events.priority||e.distance-t.distance}).filter(e=>{let t=q(e);return!n.has(t)&&(n.add(t),!0)});for(let e of(r.events.filter&&(o=r.events.filter(o,r)),o)){let t=e.object;for(;t;){var l;null!=(l=t.__r3f)&&l.eventCount&&s.push({...e,eventObject:t}),t=t.parent}}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId))for(let e of r.internal.capturedMap.get(t.pointerId).values())n.has(q(e.intersection))||s.push(e.intersection);return s}(s,u?t:void 0),d=h?function(t){let{internal:i}=e.getState(),r=t.offsetX-i.initialClick[0],n=t.offsetY-i.initialClick[1];return Math.round(Math.sqrt(r*r+n*n))}(s):0;"onPointerDown"===n&&(o.initialClick=[s.offsetX,s.offsetY],o.initialHits=c.map(e=>e.eventObject)),h&&!c.length&&d<=2&&(r(s,o.interaction),a&&a(s)),u&&i(c),!function(e,t,r,n){if(e.length){let s={stopped:!1};for(let a of e){let o=G(a.object);if(o||a.object.traverseAncestors(e=>{let t=G(e);if(t)return o=t,!1}),o){let{raycaster:u,pointer:h,camera:c,internal:d}=o,p=new l.Pq0(h.x,h.y,0).unproject(c),f=e=>{var t,i;return null!=(t=null==(i=d.capturedMap.get(e))?void 0:i.has(a.eventObject))&&t},m=e=>{let i={intersection:a,target:t.target};d.capturedMap.has(e)?d.capturedMap.get(e).set(a.eventObject,i):d.capturedMap.set(e,new Map([[a.eventObject,i]])),t.target.setPointerCapture(e)},g=e=>{let t=d.capturedMap.get(e);t&&Z(d.capturedMap,a.eventObject,t,e)},v={};for(let e in t){let i=t[e];"function"!=typeof i&&(v[e]=i)}let A={...a,...v,pointer:h,intersections:e,stopped:s.stopped,delta:r,unprojectedPoint:p,ray:u.ray,camera:c,stopPropagation(){let r="pointerId"in t&&d.capturedMap.get(t.pointerId);(!r||r.has(a.eventObject))&&(A.stopped=s.stopped=!0,d.hovered.size&&Array.from(d.hovered.values()).find(e=>e.eventObject===a.eventObject)&&i([...e.slice(0,e.indexOf(a)),a]))},target:{hasPointerCapture:f,setPointerCapture:m,releasePointerCapture:g},currentTarget:{hasPointerCapture:f,setPointerCapture:m,releasePointerCapture:g},nativeEvent:t};if(n(A),!0===s.stopped)break}}}}(c,s,d,function(e){let t=e.eventObject,i=t.__r3f;if(!(null!=i&&i.eventCount))return;let a=i.handlers;if(u){if(a.onPointerOver||a.onPointerEnter||a.onPointerOut||a.onPointerLeave){let t=q(e),i=o.hovered.get(t);i?i.stopped&&e.stopPropagation():(o.hovered.set(t,e),null==a.onPointerOver||a.onPointerOver(e),null==a.onPointerEnter||a.onPointerEnter(e))}null==a.onPointerMove||a.onPointerMove(e)}else{let i=a[n];i?(!h||o.initialHits.includes(t))&&(r(s,o.interaction.filter(e=>!o.initialHits.includes(e))),i(e)):h&&o.initialHits.includes(t)&&r(s,o.interaction.filter(e=>!o.initialHits.includes(e)))}})}}}}(e);return{priority:1,enabled:!0,compute(e,t,i){t.pointer.set(e.offsetX/t.size.width*2-1,-(2*(e.offsetY/t.size.height))+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(eK).reduce((e,i)=>({...e,[i]:t(i)}),{}),update:()=>{var t;let{events:i,internal:r}=e.getState();null!=(t=r.lastEvent)&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{let{set:i,events:r}=e.getState();if(null==r.disconnect||r.disconnect(),i(e=>({events:{...e.events,connected:t}})),r.handlers)for(let e in r.handlers){let i=r.handlers[e],[n,s]=eK[e];t.addEventListener(n,i,{passive:s})}},disconnect:()=>{let{set:t,events:i}=e.getState();if(i.connected){if(i.handlers)for(let e in i.handlers){let t=i.handlers[e],[r]=eK[e];i.connected.removeEventListener(r,t)}t(e=>({events:{...e.events,connected:void 0}}))}}}}},228:(e,t,i)=>{i.d(t,{DY:()=>o,IU:()=>u,uv:()=>l});let r=e=>"object"==typeof e&&"function"==typeof e.then,n=[];function s(e,t,i=(e,t)=>e===t){if(e===t)return!0;if(!e||!t)return!1;let r=e.length;if(t.length!==r)return!1;for(let n=0;n<r;n++)if(!i(e[n],t[n]))return!1;return!0}function a(e,t=null,i=!1,o={}){for(let r of(null===t&&(t=[e]),n))if(s(t,r.keys,r.equal)){if(i)return;if(Object.prototype.hasOwnProperty.call(r,"error"))throw r.error;if(Object.prototype.hasOwnProperty.call(r,"response"))return o.lifespan&&o.lifespan>0&&(r.timeout&&clearTimeout(r.timeout),r.timeout=setTimeout(r.remove,o.lifespan)),r.response;if(!i)throw r.promise}let l={keys:t,equal:o.equal,remove:()=>{let e=n.indexOf(l);-1!==e&&n.splice(e,1)},promise:(r(e)?e:e(...t)).then(e=>{l.response=e,o.lifespan&&o.lifespan>0&&(l.timeout=setTimeout(l.remove,o.lifespan))}).catch(e=>l.error=e)};if(n.push(l),!i)throw l.promise}let o=(e,t,i)=>a(e,t,!1,i),l=(e,t,i)=>void a(e,t,!0,i),u=e=>{if(void 0===e||0===e.length)n.splice(0,n.length);else{let t=n.find(t=>s(e,t.keys,t.equal));t&&t.remove()}}},430:(e,t,i)=>{i.d(t,{t:()=>r});let r=(0,i(2115).createContext)(null)},567:(e,t,i)=>{i.d(t,{V:()=>r});let r=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2},584:(e,t,i)=>{function r(e){let t=e[0],i=e[1],r=e[2];return Math.sqrt(t*t+i*i+r*r)}function n(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function s(e,t,i,r){return e[0]=t,e[1]=i,e[2]=r,e}function a(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e}function o(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e}function l(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e}function u(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],e}function h(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function c(e,t){let i=t[0]-e[0],r=t[1]-e[1],n=t[2]-e[2];return Math.sqrt(i*i+r*r+n*n)}function d(e,t){let i=t[0]-e[0],r=t[1]-e[1],n=t[2]-e[2];return i*i+r*r+n*n}function p(e){let t=e[0],i=e[1],r=e[2];return t*t+i*i+r*r}function f(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function m(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function g(e,t){let i=t[0],r=t[1],n=t[2],s=i*i+r*r+n*n;return s>0&&(s=1/Math.sqrt(s)),e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s,e}function v(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function A(e,t,i){let r=t[0],n=t[1],s=t[2],a=i[0],o=i[1],l=i[2];return e[0]=n*l-s*o,e[1]=s*a-r*l,e[2]=r*o-n*a,e}function y(e,t,i,r){let n=t[0],s=t[1],a=t[2];return e[0]=n+r*(i[0]-n),e[1]=s+r*(i[1]-s),e[2]=a+r*(i[2]-a),e}function B(e,t,i,r,n){let s=Math.exp(-r*n),a=t[0],o=t[1],l=t[2];return e[0]=i[0]+(a-i[0])*s,e[1]=i[1]+(o-i[1])*s,e[2]=i[2]+(l-i[2])*s,e}function C(e,t,i){let r=t[0],n=t[1],s=t[2],a=i[3]*r+i[7]*n+i[11]*s+i[15];return a=a||1,e[0]=(i[0]*r+i[4]*n+i[8]*s+i[12])/a,e[1]=(i[1]*r+i[5]*n+i[9]*s+i[13])/a,e[2]=(i[2]*r+i[6]*n+i[10]*s+i[14])/a,e}function b(e,t,i){let r=t[0],n=t[1],s=t[2],a=i[3]*r+i[7]*n+i[11]*s+i[15];return a=a||1,e[0]=(i[0]*r+i[4]*n+i[8]*s)/a,e[1]=(i[1]*r+i[5]*n+i[9]*s)/a,e[2]=(i[2]*r+i[6]*n+i[10]*s)/a,e}function x(e,t,i){let r=t[0],n=t[1],s=t[2];return e[0]=r*i[0]+n*i[3]+s*i[6],e[1]=r*i[1]+n*i[4]+s*i[7],e[2]=r*i[2]+n*i[5]+s*i[8],e}function w(e,t,i){let r=t[0],n=t[1],s=t[2],a=i[0],o=i[1],l=i[2],u=i[3],h=o*s-l*n,c=l*r-a*s,d=a*n-o*r,p=o*d-l*c,f=l*h-a*d,m=a*c-o*h,g=2*u;return h*=g,c*=g,d*=g,p*=2,f*=2,m*=2,e[0]=r+h+p,e[1]=n+c+f,e[2]=s+d+m,e}i.d(t,{$A:()=>A,Bw:()=>r,C:()=>n,Cc:()=>y,DI:()=>m,Io:()=>c,Om:()=>v,Qr:()=>u,Re:()=>o,S8:()=>g,Sc:()=>b,WQ:()=>a,YO:()=>B,Z0:()=>C,ei:()=>x,g7:()=>E,gL:()=>w,hG:()=>d,hZ:()=>s,hs:()=>h,lw:()=>l,m3:()=>p,t2:()=>M,ze:()=>f});let E=function(){let e=[0,0,0],t=[0,0,0];return function(i,r){n(e,i),n(t,r),g(e,e),g(t,t);let s=v(e,t);return s>1?0:s<-1?Math.PI:Math.acos(s)}}();function M(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}},760:(e,t,i)=>{i.d(t,{N:()=>v});var r=i(5155),n=i(2115),s=i(869),a=i(2885),o=i(7494),l=i(845),u=i(1508);class h extends n.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,i=e instanceof HTMLElement&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=i-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function c(e){let{children:t,isPresent:i,anchorX:s}=e,a=(0,n.useId)(),o=(0,n.useRef)(null),l=(0,n.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,n.useContext)(u.Q);return(0,n.useInsertionEffect)(()=>{let{width:e,height:t,top:r,left:n,right:u}=l.current;if(i||!o.current||!e||!t)return;o.current.dataset.motionPopId=a;let h=document.createElement("style");return c&&(h.nonce=c),document.head.appendChild(h),h.sheet&&h.sheet.insertRule('\n          [data-motion-pop-id="'.concat(a,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===s?"left: ".concat(n):"right: ".concat(u),"px !important;\n            top: ").concat(r,"px !important;\n          }\n        ")),()=>{document.head.removeChild(h)}},[i]),(0,r.jsx)(h,{isPresent:i,childRef:o,sizeRef:l,children:n.cloneElement(t,{ref:o})})}let d=e=>{let{children:t,initial:i,isPresent:s,onExitComplete:o,custom:u,presenceAffectsLayout:h,mode:d,anchorX:f}=e,m=(0,a.M)(p),g=(0,n.useId)(),v=(0,n.useCallback)(e=>{for(let t of(m.set(e,!0),m.values()))if(!t)return;o&&o()},[m,o]),A=(0,n.useMemo)(()=>({id:g,initial:i,isPresent:s,custom:u,onExitComplete:v,register:e=>(m.set(e,!1),()=>m.delete(e))}),h?[Math.random(),v]:[s,v]);return(0,n.useMemo)(()=>{m.forEach((e,t)=>m.set(t,!1))},[s]),n.useEffect(()=>{s||m.size||!o||o()},[s]),"popLayout"===d&&(t=(0,r.jsx)(c,{isPresent:s,anchorX:f,children:t})),(0,r.jsx)(l.t.Provider,{value:A,children:t})};function p(){return new Map}var f=i(2082);let m=e=>e.key||"";function g(e){let t=[];return n.Children.forEach(e,e=>{(0,n.isValidElement)(e)&&t.push(e)}),t}let v=e=>{let{children:t,custom:i,initial:l=!0,onExitComplete:u,presenceAffectsLayout:h=!0,mode:c="sync",propagate:p=!1,anchorX:v="left"}=e,[A,y]=(0,f.xQ)(p),B=(0,n.useMemo)(()=>g(t),[t]),C=p&&!A?[]:B.map(m),b=(0,n.useRef)(!0),x=(0,n.useRef)(B),w=(0,a.M)(()=>new Map),[E,M]=(0,n.useState)(B),[T,S]=(0,n.useState)(B);(0,o.E)(()=>{b.current=!1,x.current=B;for(let e=0;e<T.length;e++){let t=m(T[e]);C.includes(t)?w.delete(t):!0!==w.get(t)&&w.set(t,!1)}},[T,C.length,C.join("-")]);let P=[];if(B!==E){let e=[...B];for(let t=0;t<T.length;t++){let i=T[t],r=m(i);C.includes(r)||(e.splice(t,0,i),P.push(i))}return"wait"===c&&P.length&&(e=P),S(g(e)),M(B),null}let{forceRender:F}=(0,n.useContext)(s.L);return(0,r.jsx)(r.Fragment,{children:T.map(e=>{let t=m(e),n=(!p||!!A)&&(B===T||C.includes(t));return(0,r.jsx)(d,{isPresent:n,initial:(!b.current||!!l)&&void 0,custom:i,presenceAffectsLayout:h,mode:c,onExitComplete:n?void 0:()=>{if(!w.has(t))return;w.set(t,!0);let e=!0;w.forEach(t=>{t||(e=!1)}),e&&(null==F||F(),S(x.current),p&&(null==y||y()),u&&u())},anchorX:v,children:e},t)})})}},793:(e,t,i)=>{i.d(t,{K:()=>r});function r(e,t,i){var r;if(e instanceof EventTarget)return[e];if("string"==typeof e){let n=document;t&&(n=t.current);let s=null!==(r=null==i?void 0:i[e])&&void 0!==r?r:n.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}},845:(e,t,i)=>{i.d(t,{t:()=>r});let r=(0,i(2115).createContext)(null)},856:(e,t,i)=>{i.d(t,{o:()=>G,L:()=>L});var r=i(5443),n=i(4331),s=i(8203),a=i(7782),o=i(7437),l=i(7007);function u(e,t,i){let r=Math.max(t-5,0);return(0,n.fj)(i-e(r),t-r)}let h={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1};function c(e,t){return e*Math.sqrt(1-t*t)}let d=["duration","bounce"],p=["stiffness","damping","mass"];function f(e,t){return t.some(t=>void 0!==e[t])}function m(e=h.visualDuration,t=h.bounce){let i;let s="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e,{restSpeed:o,restDelta:l}=s,g=s.keyframes[0],v=s.keyframes[s.keyframes.length-1],A={done:!1,value:g},{stiffness:y,damping:B,mass:C,duration:b,velocity:x,isResolvedFromDuration:w}=function(e){let t={velocity:h.velocity,stiffness:h.stiffness,damping:h.damping,mass:h.mass,isResolvedFromDuration:!1,...e};if(!f(e,p)&&f(e,d)){if(e.visualDuration){let i=2*Math.PI/(1.2*e.visualDuration),r=i*i,n=2*(0,a.q)(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:h.mass,stiffness:r,damping:n}}else{let i=function({duration:e=h.duration,bounce:t=h.bounce,velocity:i=h.velocity,mass:r=h.mass}){let s,o;(0,n.$e)(e<=(0,n.fD)(h.maxDuration),"Spring duration must be 10 seconds or less");let l=1-t;l=(0,a.q)(h.minDamping,h.maxDamping,l),e=(0,a.q)(h.minDuration,h.maxDuration,(0,n.Xu)(e)),l<1?(s=t=>{let r=t*l,n=r*e;return .001-(r-i)/c(t,l)*Math.exp(-n)},o=t=>{let r=t*l*e,n=Math.pow(l,2)*Math.pow(t,2)*e,a=Math.exp(-r),o=c(Math.pow(t,2),l);return(r*i+i-n)*a*(-s(t)+.001>0?-1:1)/o}):(s=t=>-.001+Math.exp(-t*e)*((t-i)*e+1),o=t=>e*e*(i-t)*Math.exp(-t*e));let u=function(e,t,i){let r=i;for(let i=1;i<12;i++)r-=e(r)/t(r);return r}(s,o,5/e);if(e=(0,n.fD)(e),isNaN(u))return{stiffness:h.stiffness,damping:h.damping,duration:e};{let t=Math.pow(u,2)*r;return{stiffness:t,damping:2*l*Math.sqrt(r*t),duration:e}}}(e);(t={...t,...i,mass:h.mass}).isResolvedFromDuration=!0}}return t}({...s,velocity:-(0,n.Xu)(s.velocity||0)}),E=x||0,M=B/(2*Math.sqrt(y*C)),T=v-g,S=(0,n.Xu)(Math.sqrt(y/C)),P=5>Math.abs(T);if(o||(o=P?h.restSpeed.granular:h.restSpeed.default),l||(l=P?h.restDelta.granular:h.restDelta.default),M<1){let e=c(S,M);i=t=>v-Math.exp(-M*S*t)*((E+M*S*T)/e*Math.sin(e*t)+T*Math.cos(e*t))}else if(1===M)i=e=>v-Math.exp(-S*e)*(T+(E+S*T)*e);else{let e=S*Math.sqrt(M*M-1);i=t=>{let i=Math.exp(-M*S*t),r=Math.min(e*t,300);return v-i*((E+M*S*T)*Math.sinh(r)+e*T*Math.cosh(r))/e}}let F={calculatedDuration:w&&b||null,next:e=>{let t=i(e);if(w)A.done=e>=b;else{let r=0;M<1&&(r=0===e?(0,n.fD)(E):u(i,e,t));let s=Math.abs(v-t)<=l;A.done=Math.abs(r)<=o&&s}return A.value=A.done?v:t,A},toString:()=>{let e=Math.min((0,r.tu)(F),r.YE),t=(0,r.KZ)(t=>F.next(e*t).value,e,30);return e+"ms "+t}};return F}function g({keyframes:e,velocity:t=0,power:i=.8,timeConstant:r=325,bounceDamping:n=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:h=.5,restSpeed:c}){let d,p;let f=e[0],g={done:!1,value:f},v=e=>void 0!==o&&e<o||void 0!==l&&e>l,A=e=>void 0===o?l:void 0===l?o:Math.abs(o-e)<Math.abs(l-e)?o:l,y=i*t,B=f+y,C=void 0===a?B:a(B);C!==B&&(y=C-f);let b=e=>-y*Math.exp(-e/r),x=e=>C+b(e),w=e=>{let t=b(e),i=x(e);g.done=Math.abs(t)<=h,g.value=g.done?C:i},E=e=>{v(g.value)&&(d=e,p=m({keyframes:[g.value,A(g.value)],velocity:u(x,e,g.value),damping:n,stiffness:s,restDelta:h,restSpeed:c}))};return E(0),{calculatedDuration:null,next:e=>{let t=!1;return(p||void 0!==d||(t=!0,w(e),E(e)),void 0!==d&&e>=d)?p.next(e-d):(t||w(e),g)}}}var v=i(3945);let A=(0,v.A)(.42,0,1,1),y=(0,v.A)(0,0,.58,1),B=(0,v.A)(.42,0,.58,1),C=e=>Array.isArray(e)&&"number"!=typeof e[0];var b=i(6660),x=i(5190),w=i(9282);let E={linear:n.lQ,easeIn:A,easeInOut:B,easeOut:y,circIn:w.po,circInOut:w.tn,circOut:w.yT,backIn:x.dg,backInOut:x.ZZ,backOut:x.Sz,anticipate:b.b},M=e=>{if((0,r.DW)(e)){(0,n.V1)(4===e.length,"Cubic bezier arrays must contain four numerical values.");let[t,i,r,s]=e;return(0,v.A)(t,i,r,s)}return"string"==typeof e?((0,n.V1)(void 0!==E[e],`Invalid easing type '${e}'`),E[e]):e};var T=i(7846),S=i(7345);function P({duration:e=300,keyframes:t,times:i,ease:r="easeInOut"}){let n=C(r)?r.map(M):M(r),s={done:!1,value:t[0]},a=(i&&i.length===t.length?i:(0,S.Z)(t)).map(t=>t*e),o=(0,T.G)(a,t,{ease:Array.isArray(n)?n:t.map(()=>n||B).splice(0,t.length-1)});return{calculatedDuration:e,next:t=>(s.value=o(t),s.done=t>=e,s)}}var F=i(6111);let R=e=>{let t=({timestamp:t})=>e(t);return{start:()=>r.Gt.update(t,!0),stop:()=>(0,r.WG)(t),now:()=>r.uv.isProcessing?r.uv.timestamp:r.kB.now()}};var D=i(1232);let I={decay:g,inertia:g,tween:P,keyframes:P,spring:m},O=e=>e/100;class G extends F.i{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();let{onStop:e}=this.options;e&&e()};let{name:t,motionValue:i,element:r,keyframes:n}=this.options,a=(null==r?void 0:r.KeyframeResolver)||s.h;this.resolver=new a(n,(e,t)=>this.onKeyframesResolved(e,t),t,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){let t,i;let{type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:u,velocity:h=0}=this.options,c=(0,r.WH)(n)?n:I[n]||P;c!==P&&"number"!=typeof e[0]&&(t=(0,l.F)(O,(0,o.j)(e[0],e[1])),e=[0,100]);let d=c({...this.options,keyframes:e});"mirror"===u&&(i=c({...this.options,keyframes:[...e].reverse(),velocity:-h})),null===d.calculatedDuration&&(d.calculatedDuration=(0,r.tu)(d));let{calculatedDuration:p}=d,f=p+a;return{generator:d,mirroredGenerator:i,mapPercentToKeyframes:t,calculatedDuration:p,resolvedDuration:f,totalDuration:f*(s+1)-a}}onPostResolved(){let{autoplay:e=!0}=this.options;r.qU.mainThread++,this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e,t=!1){let{resolved:i}=this;if(!i){let{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}let{finalKeyframe:r,generator:n,mirroredGenerator:s,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:u,totalDuration:h,resolvedDuration:c}=i;if(null===this.startTime)return n.next(0);let{delay:d,repeat:p,repeatType:f,repeatDelay:m,onUpdate:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;let v=this.currentTime-d*(this.speed>=0?1:-1),A=this.speed>=0?v<0:v>h;this.currentTime=Math.max(v,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=h);let y=this.currentTime,B=n;if(p){let e=Math.min(this.currentTime,h)/c,t=Math.floor(e),i=e%1;!i&&e>=1&&(i=1),1===i&&t--,(t=Math.min(t,p+1))%2&&("reverse"===f?(i=1-i,m&&(i-=m/c)):"mirror"===f&&(B=s)),y=(0,a.q)(0,1,i)*c}let C=A?{done:!1,value:l[0]}:B.next(y);o&&(C.value=o(C.value));let{done:b}=C;A||null===u||(b=this.speed>=0?this.currentTime>=h:this.currentTime<=0);let x=null===this.holdTime&&("finished"===this.state||"running"===this.state&&b);return x&&void 0!==r&&(C.value=(0,D.X)(l,this.options,r)),g&&g(C.value),x&&this.finish(),C}get duration(){let{resolved:e}=this;return e?(0,n.Xu)(e.calculatedDuration):0}get time(){return(0,n.Xu)(this.currentTime)}set time(e){e=(0,n.fD)(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=(0,n.Xu)(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;let{driver:e=R,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),t&&t();let r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=null!=i?i:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";let{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel(),r.qU.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}function L(e){return new G(e)}},869:(e,t,i)=>{i.d(t,{L:()=>r});let r=(0,i(2115).createContext)({})},881:(e,t,i)=>{i.d(t,{G:()=>c});var r=i(7846);let n=e=>e&&"object"==typeof e&&e.mix,s=e=>n(e)?e.mix:void 0;var a=i(2885),o=i(5443),l=i(7494),u=i(8619);function h(e,t){let i=(0,u.d)(t()),r=()=>i.set(t());return r(),(0,l.E)(()=>{let t=()=>o.Gt.preRender(r,!1,!0),i=e.map(e=>e.on("change",t));return()=>{i.forEach(e=>e()),(0,o.WG)(r)}}),i}function c(e,t,i,n){if("function"==typeof e)return function(e){o.bt.current=[],e();let t=h(o.bt.current,e);return o.bt.current=void 0,t}(e);let a="function"==typeof t?t:function(...e){let t=!Array.isArray(e[0]),i=t?0:-1,n=e[0+i],a=e[1+i],o=e[2+i],l=e[3+i],u=(0,r.G)(a,o,{mixer:s(o[0]),...l});return t?u(n):u}(t,i,n);return Array.isArray(e)?d(e,a):d([e],([e])=>a(e))}function d(e,t){let i=(0,a.M)(()=>[]);return h(e,()=>{i.length=0;let r=e.length;for(let t=0;t<r;t++)i[t]=e[t].get();return t(i)})}},1088:(e,t,i)=>{i.d(t,{AQ:()=>et,Ux:()=>eC,Xc:()=>em,Y7:()=>eM,hE:()=>eE,wV:()=>eg});var r=i(618),n=i(73),s=i(2115),a=i(3264),o=i(228),l=i(6176);function u(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,r)}return i}function h(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?u(Object(i),!0).forEach(function(t){!function(e,t,i){var r;(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}let c=new a.PTz;new a.O9p;let d=new a.Pq0;new a.B69;let p=new a.kn4,f=new a.Pq0,m=new a.PTz,g=new a.Pq0,v=e=>{let[t,i,r]=e;return new a.Pq0(t,i,r)},A=({x:e,y:t,z:i,w:r})=>c.set(e,t,i,r),y=e=>Array.isArray(e)?new r.Vector3(e[0],e[1],e[2]):"number"==typeof e?new r.Vector3(e,e,e):new r.Vector3(e.x,e.y,e.z),B={fixed:1,dynamic:0,kinematicPosition:2,kinematicVelocity:3},C=e=>B[e],b=(e,t)=>{let i=Array.from(e);for(let r=0;r<e.length/3;r++)i[3*r]*=t.x,i[3*r+1]*=t.y,i[3*r+2]*=t.z;return i},x=e=>e?e instanceof a.PTz?[e.x,e.y,e.z,e.w]:e instanceof a.Pq0||e instanceof a.O9p?[e.x,e.y,e.z]:Array.isArray(e)?e:[e]:[0];function w(e){let t=(0,s.useRef)(void 0);return void 0===t.current&&(t.current={value:"function"==typeof e?e():e}),t.current.value}let E=e=>{let t=(0,s.useRef)(e),i=(0,s.useRef)(0),r=(0,s.useRef)(0);(0,s.useEffect)(()=>{t.current=e},[e]),(0,s.useEffect)(()=>{let e=()=>{let n=performance.now(),s=n-r.current;i.current=requestAnimationFrame(e),t.current(s/1e3),r.current=n};return i.current=requestAnimationFrame(e),()=>cancelAnimationFrame(i.current)},[])},M=({onStep:e,updatePriority:t})=>((0,n.C)((t,i)=>{e(i)},t),null),T=({onStep:e})=>(E(t=>{e(t)}),null);var S=(0,s.memo)(({onStep:e,type:t,updatePriority:i})=>"independent"===t?s.createElement(T,{onStep:e}):s.createElement(M,{onStep:e,updatePriority:i}));function P(e,t){if(null==e)return{};var i,r,n=function(e,t){if(null==e)return{};var i={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;i[r]=e[r]}return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)i=s[r],-1===t.indexOf(i)&&({}).propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}let F=["mass","linearDamping","angularDamping","type","onCollisionEnter","onCollisionExit","onIntersectionEnter","onIntersectionExit","onContactForce","children","canSleep","ccd","gravityScale","softCcdPrediction","ref"],R=(e,t,i)=>{let r=t.slice();if("heightfield"===e){let e=r[3];return e.x*=i.x,e.x*=i.y,e.x*=i.z,r}if("trimesh"===e||"convexHull"===e)return r[0]=b(r[0],i),r;let n=[i.x,i.y,i.z,i.x,i.x];return r.map((e,t)=>n[t]*e)},D=(e,t,i,n)=>{let s=R(e.shape,e.args,i),a=r.ColliderDesc[e.shape](...s);return t.createCollider(a,null==n?void 0:n())},I=["shape","args"],O="Please pick ONLY ONE of the `density`, `mass` and `massProperties` options.",G=(e,t)=>{if(void 0!==t.density){if(void 0!==t.mass||void 0!==t.massProperties)throw Error(O);e.setDensity(t.density);return}if(void 0!==t.mass){if(void 0!==t.massProperties)throw Error(O);e.setMass(t.mass);return}void 0!==t.massProperties&&e.setMassProperties(t.massProperties.mass,t.massProperties.centerOfMass,t.massProperties.principalAngularInertia,t.massProperties.angularInertiaLocalFrame)},L={sensor:(e,t)=>{e.setSensor(t)},collisionGroups:(e,t)=>{e.setCollisionGroups(t)},solverGroups:(e,t)=>{e.setSolverGroups(t)},friction:(e,t)=>{e.setFriction(t)},frictionCombineRule:(e,t)=>{e.setFrictionCombineRule(t)},restitution:(e,t)=>{e.setRestitution(t)},restitutionCombineRule:(e,t)=>{e.setRestitutionCombineRule(t)},activeCollisionTypes:(e,t)=>{e.setActiveCollisionTypes(t)},contactSkin:(e,t)=>{e.setContactSkin(t)},quaternion:()=>{},position:()=>{},rotation:()=>{},scale:()=>{}},k=Object.keys(L),H=(e,t,i)=>{let r=i.get(e.handle);if(r){var n;let i=r.object.parent.getWorldScale(d),s=null===(n=r.worldParent)||void 0===n?void 0:n.matrixWorld.clone().invert();r.object.updateWorldMatrix(!0,!1),p.copy(r.object.matrixWorld),s&&p.premultiply(s),p.decompose(f,m,g),e.parent()?(e.setTranslationWrtParent({x:f.x*i.x,y:f.y*i.y,z:f.z*i.z}),e.setRotationWrtParent(m)):(e.setTranslation({x:f.x*i.x,y:f.y*i.y,z:f.z*i.z}),e.setRotation(m)),k.forEach(i=>{if(i in t){let r=t[i];L[i](e,r,t)}}),G(e,t)}},_=(e,t,i)=>{let r=(0,s.useMemo)(()=>k.flatMap(e=>x(t[e])),[t]);(0,s.useEffect)(()=>{H(e(),t,i)},[...r,e])},j=e=>{let t=!1;return e.traverseAncestors(e=>{"MeshCollider"===e.userData.r3RapierType&&(t=!0)}),t},U=(e,t,i)=>({collider:e,worldParent:i||void 0,object:t}),V={cuboid:"cuboid",ball:"ball",hull:"convexHull",trimesh:"trimesh"},J=({object:e,ignoreMeshColliders:t=!0,options:i})=>{let r=[];e.updateWorldMatrix(!0,!1);let n=e.matrixWorld.clone().invert(),s=e=>{if("isMesh"in e){if(t&&j(e))return;let s=e.getWorldScale(g),o=V[i.colliders||"cuboid"];e.updateWorldMatrix(!0,!1),p.copy(e.matrixWorld).premultiply(n).decompose(f,m,g);let l=new a.O9p().setFromQuaternion(m,"XYZ"),{geometry:u}=e,{args:c,offset:d}=N(u,i.colliders||"cuboid"),v=h(h({},X(i)),{},{args:c,shape:o,rotation:[l.x,l.y,l.z],position:[f.x+d.x*s.x,f.y+d.y*s.y,f.z+d.z*s.z],scale:[s.x,s.y,s.z]});r.push(v)}};return i.includeInvisible?e.traverse(s):e.traverseVisible(s),r},N=(e,t)=>{switch(t){case"cuboid":{e.computeBoundingBox();let{boundingBox:t}=e,i=t.getSize(new a.Pq0);return{args:[i.x/2,i.y/2,i.z/2],offset:t.getCenter(new a.Pq0)}}case"ball":{e.computeBoundingSphere();let{boundingSphere:t}=e;return{args:[t.radius],offset:t.center}}case"trimesh":{var i;let t=e.index?e.clone():(0,l.ec)(e);return{args:[t.attributes.position.array,null===(i=t.index)||void 0===i?void 0:i.array],offset:new a.Pq0}}case"hull":return{args:[e.clone().attributes.position.array],offset:new a.Pq0}}return{args:[],offset:new a.Pq0}},K=e=>({collision:!!(null!=e&&e.onCollisionEnter||null!=e&&e.onCollisionExit||null!=e&&e.onIntersectionEnter||null!=e&&e.onIntersectionExit),contactForce:!!(null!=e&&e.onContactForce)}),W=(e,t,i,n={})=>{let{onCollisionEnter:a,onCollisionExit:o,onIntersectionEnter:l,onIntersectionExit:u,onContactForce:h}=t;(0,s.useEffect)(()=>{let s=e();if(s){let{collision:e,contactForce:c}=K(t),d=e||n.collision,p=c||n.contactForce;d&&p?s.setActiveEvents(r.ActiveEvents.COLLISION_EVENTS|r.ActiveEvents.CONTACT_FORCE_EVENTS):d?s.setActiveEvents(r.ActiveEvents.COLLISION_EVENTS):p&&s.setActiveEvents(r.ActiveEvents.CONTACT_FORCE_EVENTS),i.set(s.handle,{onCollisionEnter:a,onCollisionExit:o,onIntersectionEnter:l,onIntersectionExit:u,onContactForce:h})}return()=>{s&&i.delete(s.handle)}},[a,o,l,u,h,n])},X=(e={})=>P(e,F),Q=()=>{let e=(0,s.useContext)(Z);if(!e)throw Error("react-three-rapier: useRapier must be used within <Physics />!");return e},Y=(e,t,i=!0)=>{let[r,n]=(0,s.useState)([]);return(0,s.useEffect)(()=>{e.current&&!1!==t.colliders&&n(J({object:e.current,options:t,ignoreMeshColliders:i}))},[t.colliders]),r},z=(0,s.memo)(()=>{let{world:e}=Q(),t=(0,s.useRef)(null);return(0,n.C)(()=>{let i=t.current;if(!i)return;let r=e.debugRender();i.geometry.setAttribute("position",new a.THS(r.vertices,3)),i.geometry.setAttribute("color",new a.THS(r.colors,4))}),s.createElement("group",null,s.createElement("lineSegments",{ref:t,frustumCulled:!1},s.createElement("lineBasicMaterial",{color:0xffffff,vertexColors:!0}),s.createElement("bufferGeometry",null)))}),q=e=>{let t;return{proxy:new Proxy({},{get:(i,r)=>(t||(t=e()),Reflect.get(t,r)),set:(i,r,n)=>(t||(t=e()),Reflect.set(t,r,n))}),reset:()=>{t=void 0},set:e=>{t=e}}},Z=(0,s.createContext)(void 0),$=(e,t)=>{var i,r,n,s,a,o;return{target:{rigidBody:e.rigidBody.object,collider:e.collider.object,colliderObject:null===(i=e.collider.state)||void 0===i?void 0:i.object,rigidBodyObject:null===(r=e.rigidBody.state)||void 0===r?void 0:r.object},other:{rigidBody:t.rigidBody.object,collider:t.collider.object,colliderObject:null===(n=t.collider.state)||void 0===n?void 0:n.object,rigidBodyObject:null===(s=t.rigidBody.state)||void 0===s?void 0:s.object},rigidBody:t.rigidBody.object,collider:t.collider.object,colliderObject:null===(a=t.collider.state)||void 0===a?void 0:a.object,rigidBodyObject:null===(o=t.rigidBody.state)||void 0===o?void 0:o.object}},ee=async()=>{let e=await Promise.resolve().then(i.bind(i,618));return await e.init(),e},et=e=>{let{colliders:t="cuboid",children:i,timeStep:l=1/60,paused:u=!1,interpolate:c=!0,updatePriority:d,updateLoop:B="follow",debug:C=!1,gravity:b=[0,-9.81,0],allowedLinearError:x=.001,predictionDistance:E=.002,numSolverIterations:M=4,numAdditionalFrictionIterations:T=4,numInternalPgsIterations:P=1,minIslandSize:F=128,maxCcdSubsteps:R=1,contactNaturalFrequency:D=30,lengthUnit:I=1}=e,O=(0,o.DY)(ee,["@react-thee/rapier",ee]),{invalidate:G}=(0,n.A)(),L=w(()=>new Map),k=w(()=>new Map),H=w(()=>new Map),_=w(()=>new Map),j=w(()=>new r.EventQueue(!1)),U=w(()=>new Set),V=w(()=>new Set),{proxy:J,reset:N,set:K}=w(()=>q(()=>new O.World(v(b))));(0,s.useEffect)(()=>()=>{J.free(),N()},[]),(0,s.useEffect)(()=>{J.gravity=y(b),J.integrationParameters.numSolverIterations=M,J.integrationParameters.numAdditionalFrictionIterations=T,J.integrationParameters.numInternalPgsIterations=P,J.integrationParameters.normalizedAllowedLinearError=x,J.integrationParameters.minIslandSize=F,J.integrationParameters.maxCcdSubsteps=R,J.integrationParameters.normalizedPredictionDistance=E,J.lengthUnit=I,J.integrationParameters.contact_natural_frequency=D},[J,...b,M,T,P,x,F,R,E,I,D]);let W=(0,s.useCallback)(e=>{var t;let i=J.getCollider(e),r=_.get(e),n=k.get(e),s=null==i?void 0:null===(t=i.parent())||void 0===t?void 0:t.handle,a=void 0!==s?J.getRigidBody(s):void 0,o=a&&void 0!==s?H.get(s):void 0;return{collider:{object:i,events:r,state:n},rigidBody:{object:a,events:o,state:void 0!==s?L.get(s):void 0}}},[]),[X]=(0,s.useState)({previousState:{},accumulator:0}),Q=(0,s.useCallback)(e=>{let t="vary"===l,i=a.cj9.clamp(e,0,.5),r=e=>{U.forEach(e=>{e.current(J)}),J.timestep=e,J.step(j),V.forEach(e=>{e.current(J)})};if(t)r(i);else for(X.accumulator+=i;X.accumulator>=l;)c&&(X.previousState={},J.forEachRigidBody(e=>{X.previousState[e.handle]={position:e.translation(),rotation:e.rotation()}})),r(l),X.accumulator-=l;let n=t||!c||u?1:X.accumulator/l;L.forEach((e,t)=>{let i=J.getRigidBody(t),r=H.get(t);if(null!=r&&r.onSleep||null!=r&&r.onWake){var s,a;i.isSleeping()&&!e.isSleeping&&(null==r||null===(s=r.onSleep)||void 0===s||s.call(r)),!i.isSleeping()&&e.isSleeping&&(null==r||null===(a=r.onWake)||void 0===a||a.call(r)),e.isSleeping=i.isSleeping()}if(!i||i.isSleeping()&&!("isInstancedMesh"in e.object)||!e.setMatrix)return;let o=i.translation(),l=i.rotation(),u=X.previousState[t];u&&(p.compose(u.position,A(u.rotation),e.scale).premultiply(e.invertedWorldMatrix).decompose(f,m,g),"mesh"==e.meshType&&(e.object.position.copy(f),e.object.quaternion.copy(m))),p.compose(o,A(l),e.scale).premultiply(e.invertedWorldMatrix).decompose(f,m,g),"instancedMesh"==e.meshType?e.setMatrix(p):(e.object.position.lerp(f,n),e.object.quaternion.slerp(m,n))}),j.drainCollisionEvents((e,t,i)=>{var r,n,s,a,o,l,u,c,d,p,f,m,g,v,A,y,B,C,b,x,w,E,M,T;let S=W(e),P=W(t);if(!(null!=S&&S.collider.object)||!(null!=P&&P.collider.object))return;let F=$(S,P),R=$(P,S);i?J.contactPair(S.collider.object,P.collider.object,(e,t)=>{var i,r,n,s,a,o,l,u;null===(i=S.rigidBody.events)||void 0===i||null===(r=i.onCollisionEnter)||void 0===r||r.call(i,h(h({},F),{},{manifold:e,flipped:t})),null===(n=P.rigidBody.events)||void 0===n||null===(s=n.onCollisionEnter)||void 0===s||s.call(n,h(h({},R),{},{manifold:e,flipped:t})),null===(a=S.collider.events)||void 0===a||null===(o=a.onCollisionEnter)||void 0===o||o.call(a,h(h({},F),{},{manifold:e,flipped:t})),null===(l=P.collider.events)||void 0===l||null===(u=l.onCollisionEnter)||void 0===u||u.call(l,h(h({},R),{},{manifold:e,flipped:t}))}):(null===(r=S.rigidBody.events)||void 0===r||null===(n=r.onCollisionExit)||void 0===n||n.call(r,F),null===(s=P.rigidBody.events)||void 0===s||null===(a=s.onCollisionExit)||void 0===a||a.call(s,R),null===(o=S.collider.events)||void 0===o||null===(l=o.onCollisionExit)||void 0===l||l.call(o,F),null===(u=P.collider.events)||void 0===u||null===(c=u.onCollisionExit)||void 0===c||c.call(u,R)),i?J.intersectionPair(S.collider.object,P.collider.object)&&(null===(d=S.rigidBody.events)||void 0===d||null===(p=d.onIntersectionEnter)||void 0===p||p.call(d,F),null===(f=P.rigidBody.events)||void 0===f||null===(m=f.onIntersectionEnter)||void 0===m||m.call(f,R),null===(g=S.collider.events)||void 0===g||null===(v=g.onIntersectionEnter)||void 0===v||v.call(g,F),null===(A=P.collider.events)||void 0===A||null===(y=A.onIntersectionEnter)||void 0===y||y.call(A,R)):(null===(B=S.rigidBody.events)||void 0===B||null===(C=B.onIntersectionExit)||void 0===C||C.call(B,F),null===(b=P.rigidBody.events)||void 0===b||null===(x=b.onIntersectionExit)||void 0===x||x.call(b,R),null===(w=S.collider.events)||void 0===w||null===(E=w.onIntersectionExit)||void 0===E||E.call(w,F),null===(M=P.collider.events)||void 0===M||null===(T=M.onIntersectionExit)||void 0===T||T.call(M,R))}),j.drainContactForceEvents(e=>{var t,i,r,n,s,a,o,l;let u=W(e.collider1()),c=W(e.collider2());if(!(null!=u&&u.collider.object)||!(null!=c&&c.collider.object))return;let d=$(u,c),p=$(c,u);null===(t=u.rigidBody.events)||void 0===t||null===(i=t.onContactForce)||void 0===i||i.call(t,h(h({},d),{},{totalForce:e.totalForce(),totalForceMagnitude:e.totalForceMagnitude(),maxForceDirection:e.maxForceDirection(),maxForceMagnitude:e.maxForceMagnitude()})),null===(r=c.rigidBody.events)||void 0===r||null===(n=r.onContactForce)||void 0===n||n.call(r,h(h({},p),{},{totalForce:e.totalForce(),totalForceMagnitude:e.totalForceMagnitude(),maxForceDirection:e.maxForceDirection(),maxForceMagnitude:e.maxForceMagnitude()})),null===(s=u.collider.events)||void 0===s||null===(a=s.onContactForce)||void 0===a||a.call(s,h(h({},d),{},{totalForce:e.totalForce(),totalForceMagnitude:e.totalForceMagnitude(),maxForceDirection:e.maxForceDirection(),maxForceMagnitude:e.maxForceMagnitude()})),null===(o=c.collider.events)||void 0===o||null===(l=o.onContactForce)||void 0===l||l.call(o,h(h({},p),{},{totalForce:e.totalForce(),totalForceMagnitude:e.totalForceMagnitude(),maxForceDirection:e.maxForceDirection(),maxForceMagnitude:e.maxForceMagnitude()}))}),J.forEachActiveRigidBody(()=>{G()})},[u,l,c,J]),Y=(0,s.useMemo)(()=>({rapier:O,world:J,setWorld:e=>{K(e)},physicsOptions:{colliders:t,gravity:b},rigidBodyStates:L,colliderStates:k,rigidBodyEvents:H,colliderEvents:_,beforeStepCallbacks:U,afterStepCallbacks:V,isPaused:u,isDebug:C,step:Q}),[u,Q,C,t,b]),et=(0,s.useCallback)(e=>{u||Q(e)},[u,Q]);return s.createElement(Z.Provider,{value:Y},s.createElement(S,{onStep:et,type:B,updatePriority:d}),C&&s.createElement(z,null),i)};function ei(){return(ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)({}).hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(null,arguments)}let er=(e,t=null)=>{let i=(0,s.useRef)(t);return e&&"function"!=typeof e?(e.current||(e.current=i.current),e):i},en=(e,t,i)=>{let r=(0,s.useRef)(void 0),n=(0,s.useCallback)(()=>(r.current||(r.current=e()),r.current),i);return(0,s.useEffect)(()=>{let e=n(),i=()=>t(e);return()=>{i(),r.current=void 0}},[n]),n},es=e=>{var t;let i=C((null==e?void 0:e.type)||"dynamic"),n=new r.RigidBodyDesc(i);return n.canSleep=null===(t=null==e?void 0:e.canSleep)||void 0===t||t,n},ea=({rigidBody:e,object:t,setMatrix:i,getMatrix:r,worldScale:n,meshType:s="mesh"})=>{t.updateWorldMatrix(!0,!1);let a=t.parent.matrixWorld.clone().invert();return{object:t,rigidBody:e,invertedWorldMatrix:a,setMatrix:i||(e=>{t.matrix.copy(e)}),getMatrix:r||(e=>e.copy(t.matrix)),scale:n||t.getWorldScale(g).clone(),isSleeping:!1,meshType:s}},eo=["args","colliders","canSleep"],el={gravityScale:(e,t)=>{e.setGravityScale(t,!0)},additionalSolverIterations(e,t){e.setAdditionalSolverIterations(t)},linearDamping:(e,t)=>{e.setLinearDamping(t)},angularDamping:(e,t)=>{e.setAngularDamping(t)},dominanceGroup:(e,t)=>{e.setDominanceGroup(t)},enabledRotations:(e,[t,i,r])=>{e.setEnabledRotations(t,i,r,!0)},enabledTranslations:(e,[t,i,r])=>{e.setEnabledTranslations(t,i,r,!0)},lockRotations:(e,t)=>{e.lockRotations(t,!0)},lockTranslations:(e,t)=>{e.lockTranslations(t,!0)},angularVelocity:(e,[t,i,r])=>{e.setAngvel({x:t,y:i,z:r},!0)},linearVelocity:(e,[t,i,r])=>{e.setLinvel({x:t,y:i,z:r},!0)},ccd:(e,t)=>{e.enableCcd(t)},softCcdPrediction:(e,t)=>{e.setSoftCcdPrediction(t)},userData:(e,t)=>{e.userData=t},type(e,t){e.setBodyType(C(t),!0)},position:()=>{},rotation:()=>{},quaternion:()=>{},scale:()=>{}},eu=Object.keys(el),eh=(e,t,i,r=!0)=>{if(!e)return;let n=i.get(e.handle);n&&(r&&(n.object.updateWorldMatrix(!0,!1),p.copy(n.object.matrixWorld).decompose(f,m,g),e.setTranslation(f,!1),e.setRotation(m,!1)),eu.forEach(i=>{i in t&&el[i](e,t[i])}))},ec=(e,t,i,r=!0)=>{let n=(0,s.useMemo)(()=>eu.flatMap(e=>x(t[e])),[t]);(0,s.useEffect)(()=>{eh(e(),t,i,r)},n)},ed=(e,t,i)=>{let{onWake:r,onSleep:n,onCollisionEnter:a,onCollisionExit:o,onIntersectionEnter:l,onIntersectionExit:u,onContactForce:h}=t,c={onWake:r,onSleep:n,onCollisionEnter:a,onCollisionExit:o,onIntersectionEnter:l,onIntersectionExit:u,onContactForce:h};(0,s.useEffect)(()=>{let t=e();return i.set(t.handle,c),()=>{i.delete(t.handle)}},[r,n,a,o,l,u,h])},ep=({x:e,y:t,z:i}={x:0,y:0,z:0})=>new a.Pq0(e,t,i),ef=(0,s.memo)(e=>{let{children:t,position:i,rotation:r,quaternion:n,scale:a,name:o}=e,{world:l,colliderEvents:u,colliderStates:c}=Q(),d=eB(),p=er(e.ref),f=(0,s.useRef)(null),m=en(()=>{let t=D(e,l,f.current.getWorldScale(ep()),null==d?void 0:d.getRigidBody);return"function"==typeof e.ref&&e.ref(t),p.current=t,t},e=>{l.getCollider(e.handle)&&l.removeCollider(e,!0)},[...I.flatMap(t=>Array.isArray(e[t])?e[t]:[e[t]]),d]);(0,s.useEffect)(()=>{let e=m();return c.set(e.handle,U(e,f.current,null==d?void 0:d.ref.current)),()=>{c.delete(e.handle)}},[m]);let g=(0,s.useMemo)(()=>h(h({},X(null==d?void 0:d.options)),e),[e,null==d?void 0:d.options]);return _(m,g,c),W(m,g,u,K(null==d?void 0:d.options)),s.createElement("object3D",{position:i,rotation:r,quaternion:n,scale:a,ref:f,name:o},t)}),em=s.forwardRef((e,t)=>s.createElement(ef,ei({},e,{shape:"cuboid",ref:t})));em.displayName="CuboidCollider",s.forwardRef((e,t)=>s.createElement(ef,ei({},e,{shape:"roundCuboid",ref:t}))).displayName="RoundCuboidCollider";let eg=s.forwardRef((e,t)=>s.createElement(ef,ei({},e,{shape:"ball",ref:t})));eg.displayName="BallCollider",s.forwardRef((e,t)=>s.createElement(ef,ei({},e,{shape:"capsule",ref:t}))).displayName="CapsuleCollider",s.forwardRef((e,t)=>s.createElement(ef,ei({},e,{shape:"heightfield",ref:t}))).displayName="HeightfieldCollider",s.forwardRef((e,t)=>s.createElement(ef,ei({},e,{shape:"trimesh",ref:t}))).displayName="TrimeshCollider",s.forwardRef((e,t)=>s.createElement(ef,ei({},e,{shape:"cone",ref:t}))).displayName="ConeCollider",s.forwardRef((e,t)=>s.createElement(ef,ei({},e,{shape:"roundCone",ref:t}))).displayName="RoundConeCollider";let ev=s.forwardRef((e,t)=>s.createElement(ef,ei({},e,{shape:"cylinder",ref:t})));ev.displayName="CylinderCollider",ev.displayName="RoundCylinderCollider",s.forwardRef((e,t)=>s.createElement(ef,ei({},e,{shape:"convexHull",ref:t}))).displayName="ConvexHullCollider";let eA=["ref","children","type","position","rotation","scale","quaternion","transformState"],ey=(0,s.createContext)(void 0),eB=()=>(0,s.useContext)(ey),eC=(0,s.memo)(e=>{let{ref:t,children:i,type:r,position:n,rotation:a,scale:o,quaternion:l,transformState:u}=e,c=P(e,eA),d=(0,s.useRef)(null),p=er(t),{world:f,rigidBodyStates:m,physicsOptions:g,rigidBodyEvents:v}=Q(),A=(0,s.useMemo)(()=>h(h(h({},g),e),{},{children:void 0}),[g,e]),y=eo.flatMap(e=>Array.isArray(A[e])?[...A[e]]:A[e]),B=Y(d,A),C=en(()=>{let e=es(A),i=f.createRigidBody(e);return"function"==typeof t&&t(i),p.current=i,i},e=>{f.getRigidBody(e.handle)&&f.removeRigidBody(e)},y);(0,s.useEffect)(()=>{let t=C(),i=ea({rigidBody:t,object:d.current});return m.set(t.handle,e.transformState?e.transformState(i):i),()=>{m.delete(t.handle)}},[C]),ec(C,A,m),ed(C,A,v);let b=(0,s.useMemo)(()=>({ref:d,getRigidBody:C,options:A}),[C]);return s.createElement(ey.Provider,{value:b},s.createElement("object3D",ei({ref:d},c,{position:n,rotation:a,quaternion:l,scale:o}),i,B.map((e,t)=>s.createElement(ef,ei({key:t},e)))))});eC.displayName="RigidBody",(0,s.memo)(e=>{let{children:t,type:i}=e,{physicsOptions:r}=Q(),n=(0,s.useRef)(null),{options:a}=eB(),o=Y(n,(0,s.useMemo)(()=>h(h(h({},r),a),{},{children:void 0,colliders:i}),[r,a]),!1);return s.createElement("object3D",{ref:n,userData:{r3RapierType:"MeshCollider"}},t,o.map((e,t)=>s.createElement(ef,ei({key:t},e))))}).displayName="MeshCollider";let eb=["ref"],ex=["children","instances","colliderNodes","position","rotation","quaternion","scale"];(0,s.memo)(e=>{let{ref:t}=e,i=P(e,eb),r=er(t,[]),n=(0,s.useRef)(null),o=(0,s.useRef)(null),{children:l,instances:u,colliderNodes:c=[],position:d,rotation:p,quaternion:f,scale:m}=i,g=P(i,ex),v=Y(n,h(h({},i),{},{children:void 0})),A=()=>{let e=o.current.children[0];if(e&&"isInstancedMesh"in e)return e};(0,s.useEffect)(()=>{let e=A();e?e.instanceMatrix.setUsage(a.Vnu):console.warn("InstancedRigidBodies expects exactly one child, which must be an InstancedMesh")},[]);let y=(e,t)=>{let i=A();return i?h(h({},e),{},{getMatrix:e=>(i.getMatrixAt(t,e),e),setMatrix:e=>{i.setMatrixAt(t,e),i.instanceMatrix.needsUpdate=!0},meshType:"instancedMesh"}):e};return s.createElement("object3D",ei({ref:n},g,{position:d,rotation:p,quaternion:f,scale:m}),s.createElement("object3D",{ref:o},l),null==u?void 0:u.map((e,t)=>s.createElement(eC,ei({},g,e,{ref:e=>{r.current[t]=e},transformState:e=>y(e,t)}),s.createElement(s.Fragment,null,c.map((e,t)=>s.createElement(s.Fragment,{key:t},e)),v.map((e,t)=>s.createElement(ef,ei({key:t},e)))))))}).displayName="InstancedRigidBodies";let ew=(e,t,i)=>{let{world:r}=Q(),n=(0,s.useRef)(void 0);return en(()=>{if(e.current&&t.current){let s=r.createImpulseJoint(i,e.current,t.current,!0);return n.current=s,s}},e=>{e&&(n.current=void 0,r.getImpulseJoint(e.handle)&&r.removeImpulseJoint(e,!0))},[]),n},eE=(e,t,[i,r])=>{let{rapier:n}=Q();return ew(e,t,n.JointData.spherical(y(i),y(r)))},eM=(e,t,[i,r,n])=>{let{rapier:s}=Q(),a=y(i),o=y(r);return ew(e,t,s.JointData.rope(n,a,o))}},1109:(e,t,i)=>{i.d(t,{k:()=>r});let r=(e,t,i)=>e+(t-e)*i},1232:(e,t,i)=>{i.d(t,{X:()=>n});let r=e=>null!==e;function n(e,{repeat:t,repeatType:i="loop"},n){let s=e.filter(r),a=t&&"loop"!==i&&t%2==1?0:s.length-1;return a&&void 0!==n?n:s[a]}},1508:(e,t,i)=>{i.d(t,{Q:()=>r});let r=(0,i(2115).createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"})},1780:(e,t,i)=>{let r,n;i.d(t,{L:()=>k});var s=i(5443),a=i(4331),o=i(2115);function l(e,t){let i;let r=()=>{let{currentTime:r}=t,n=(null===r?0:r.value)/100;i!==n&&e(n),i=n};return s.Gt.update(r,!0),()=>(0,s.WG)(r)}let u=new WeakMap;function h({target:e,contentRect:t,borderBoxSize:i}){var r;null===(r=u.get(e))||void 0===r||r.forEach(r=>{r({target:e,contentSize:t,get size(){return function(e,t){if(t){let{inlineSize:e,blockSize:i}=t[0];return{width:e,height:i}}return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}(e,i)}})})}function c(e){e.forEach(h)}let d=new Set,p=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),f=()=>({time:0,x:p(),y:p()}),m={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function g(e,t,i,r){let n=i[t],{length:s,position:o}=m[t],l=n.current,u=i.time;n.current=e[`scroll${o}`],n.scrollLength=e[`scroll${s}`]-e[`client${s}`],n.offset.length=0,n.offset[0]=0,n.offset[1]=n.scrollLength,n.progress=(0,a.qB)(0,n.scrollLength,n.current);let h=r-u;n.velocity=h>50?0:(0,a.fj)(n.current-l,h)}var v=i(7782),A=i(7846),y=i(7345);let B={start:0,center:.5,end:1};function C(e,t,i=0){let r=0;if(e in B&&(e=B[e]),"string"==typeof e){let t=parseFloat(e);e.endsWith("px")?r=t:e.endsWith("%")?e=t/100:e.endsWith("vw")?r=t/100*document.documentElement.clientWidth:e.endsWith("vh")?r=t/100*document.documentElement.clientHeight:e=t}return"number"==typeof e&&(r=t*e),i+r}let b=[0,0],x={All:[[0,0],[1,1]]},w={x:0,y:0},E=new WeakMap,M=new WeakMap,T=new WeakMap,S=e=>e===document.documentElement?window:e;function P(e,{container:t=document.documentElement,...i}={}){let a=T.get(t);a||(a=new Set,T.set(t,a));let o=function(e,t,i,r={}){return{measure:()=>(function(e,t=e,i){if(i.x.targetOffset=0,i.y.targetOffset=0,t!==e){let r=t;for(;r&&r!==e;)i.x.targetOffset+=r.offsetLeft,i.y.targetOffset+=r.offsetTop,r=r.offsetParent}i.x.targetLength=t===e?t.scrollWidth:t.clientWidth,i.y.targetLength=t===e?t.scrollHeight:t.clientHeight,i.x.containerLength=e.clientWidth,i.y.containerLength=e.clientHeight})(e,r.target,i),update:t=>{g(e,"x",i,t),g(e,"y",i,t),i.time=t,(r.offset||r.target)&&function(e,t,i){let{offset:r=x.All}=i,{target:n=e,axis:s="y"}=i,a="y"===s?"height":"width",o=n!==e?function(e,t){let i={x:0,y:0},r=e;for(;r&&r!==t;)if(r instanceof HTMLElement)i.x+=r.offsetLeft,i.y+=r.offsetTop,r=r.offsetParent;else if("svg"===r.tagName){let e=r.getBoundingClientRect(),t=(r=r.parentElement).getBoundingClientRect();i.x+=e.left-t.left,i.y+=e.top-t.top}else if(r instanceof SVGGraphicsElement){let{x:e,y:t}=r.getBBox();i.x+=e,i.y+=t;let n=null,s=r.parentNode;for(;!n;)"svg"===s.tagName&&(n=s),s=r.parentNode;r=n}else break;return i}(n,e):w,l=n===e?{width:e.scrollWidth,height:e.scrollHeight}:"getBBox"in n&&"svg"!==n.tagName?n.getBBox():{width:n.clientWidth,height:n.clientHeight},u={width:e.clientWidth,height:e.clientHeight};t[s].offset.length=0;let h=!t[s].interpolate,c=r.length;for(let e=0;e<c;e++){let i=function(e,t,i,r){let n=Array.isArray(e)?e:b,s=0,a=0;return"number"==typeof e?n=[e,e]:"string"==typeof e&&(n=(e=e.trim()).includes(" ")?e.split(" "):[e,B[e]?e:"0"]),(s=C(n[0],i,r))-C(n[1],t)}(r[e],u[a],l[a],o[s]);h||i===t[s].interpolatorOffsets[e]||(h=!0),t[s].offset[e]=i}h&&(t[s].interpolate=(0,A.G)(t[s].offset,(0,y.Z)(r),{clamp:!1}),t[s].interpolatorOffsets=[...t[s].offset]),t[s].progress=(0,v.q)(0,1,t[s].interpolate(t[s].current))}(e,i,r)},notify:()=>t(i)}}(t,e,f(),i);if(a.add(o),!E.has(t)){let e=()=>{for(let e of a)e.measure()},i=()=>{for(let e of a)e.update(s.uv.timestamp)},o=()=>{for(let e of a)e.notify()},l=()=>{s.Gt.read(e,!1,!0),s.Gt.read(i,!1,!0),s.Gt.update(o,!1,!0)};E.set(t,l);let h=S(t);if(window.addEventListener("resize",l,{passive:!0}),t!==document.documentElement)M.set(t,"function"==typeof t?(d.add(t),n||(n=()=>{let e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};d.forEach(e=>e(t))},window.addEventListener("resize",n)),()=>{d.delete(t),!d.size&&n&&(n=void 0)}):function(e,t){r||"undefined"==typeof ResizeObserver||(r=new ResizeObserver(c));let i=(0,s.KJ)(e);return i.forEach(e=>{let i=u.get(e);i||(i=new Set,u.set(e,i)),i.add(t),null==r||r.observe(e)}),()=>{i.forEach(e=>{let i=u.get(e);null==i||i.delete(t),(null==i?void 0:i.size)||null==r||r.unobserve(e)})}}(t,l));h.addEventListener("scroll",l,{passive:!0})}let l=E.get(t);return s.Gt.read(l,!1,!0),()=>{var e;(0,s.WG)(l);let i=T.get(t);if(!i||(i.delete(o),i.size))return;let r=E.get(t);E.delete(t),r&&(S(t).removeEventListener("scroll",r),null===(e=M.get(t))||void 0===e||e(),window.removeEventListener("resize",r))}}let F=new Map;function R({source:e,container:t=document.documentElement,axis:i="y"}={}){e&&(t=e),F.has(t)||F.set(t,{});let r=F.get(t);return r[i]||(r[i]=(0,s.Jb)()?new ScrollTimeline({source:t,axis:i}):function({source:e,container:t,axis:i="y"}){e&&(t=e);let r={value:0},n=P(e=>{r.value=100*e[i].progress},{container:t,axis:i});return{currentTime:r,cancel:n}}({source:t,axis:i})),r[i]}function D(e){return e&&(e.target||e.offset)}var I=i(2885),O=i(7494);function G(e,t){(0,a.$e)(!!(!t||t.current),`You have defined a ${e} options but the provided ref is not yet hydrated, probably because it's defined higher up the tree. Try calling useScroll() in the same component as the ref, or setting its \`layoutEffect: false\` option.`)}let L=()=>({scrollX:(0,s.OQ)(0),scrollY:(0,s.OQ)(0),scrollXProgress:(0,s.OQ)(0),scrollYProgress:(0,s.OQ)(0)});function k({container:e,target:t,layoutEffect:i=!0,...r}={}){let n=(0,I.M)(L);return(i?O.E:o.useEffect)(()=>(G("target",t),G("container",e),function(e,{axis:t="y",...i}={}){var r,n;let s={axis:t,...i};return"function"==typeof e?(r=e,n=s,2===r.length||D(n)?P(e=>{r(e[n.axis].progress,e)},n):l(r,R(n))):function(e,t){if(e.flatten(),D(t))return e.pause(),P(i=>{e.time=e.duration*i[t.axis].progress},t);{let i=R(t);return e.attachTimeline?e.attachTimeline(i,e=>(e.pause(),l(t=>{e.time=e.duration*t},i))):a.lQ}}(e,s)}((e,{x:t,y:i})=>{n.scrollX.set(t.current),n.scrollXProgress.set(t.progress),n.scrollY.set(i.current),n.scrollYProgress.set(i.progress)},{...r,container:(null==e?void 0:e.current)||void 0,target:(null==t?void 0:t.current)||void 0})),[e,t,JSON.stringify(r.offset)]),n}},1933:(e,t,i)=>{e.exports=i(6500)},1972:(e,t,i)=>{i.d(t,{e:()=>C});var r=i(4851);function n(e,t,i){let r=t[0],n=t[1],s=t[2],a=t[3],o=i[0],l=i[1],u=i[2],h=i[3];return e[0]=r*h+a*o+n*u-s*l,e[1]=n*h+a*l+s*o-r*u,e[2]=s*h+a*u+r*l-n*o,e[3]=a*h-r*o-n*l-s*u,e}let s=function(e,t){let i=t[0],r=t[1],n=t[2],s=t[3],a=i*i+r*r+n*n+s*s;return a>0&&(a=1/Math.sqrt(a)),e[0]=i*a,e[1]=r*a,e[2]=n*a,e[3]=s*a,e};class a extends Array{constructor(e=0,t=0,i=0,r=1){super(e,t,i,r),this.onChange=()=>{},this._target=this;let n=["0","1","2","3"];return new Proxy(this,{set(e,t){let i=Reflect.set(...arguments);return i&&n.includes(t)&&e.onChange(),i}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set w(e){this._target[3]=e,this.onChange()}identity(){var e;return(e=this._target)[0]=0,e[1]=0,e[2]=0,e[3]=1,this.onChange(),this}set(e,t,i,r){var n;return e.length?this.copy(e):((n=this._target)[0]=e,n[1]=t,n[2]=i,n[3]=r,this.onChange(),this)}rotateX(e){var t,i,r;let n,s,a,o,l,u;return t=this._target,i=this._target,r=.5*e,n=i[0],s=i[1],a=i[2],o=i[3],l=Math.sin(r),u=Math.cos(r),t[0]=n*u+o*l,t[1]=s*u+a*l,t[2]=a*u-s*l,t[3]=o*u-n*l,this.onChange(),this}rotateY(e){var t,i,r;let n,s,a,o,l,u;return t=this._target,i=this._target,r=.5*e,n=i[0],s=i[1],a=i[2],o=i[3],l=Math.sin(r),u=Math.cos(r),t[0]=n*u-a*l,t[1]=s*u+o*l,t[2]=a*u+n*l,t[3]=o*u-s*l,this.onChange(),this}rotateZ(e){var t,i,r;let n,s,a,o,l,u;return t=this._target,i=this._target,r=.5*e,n=i[0],s=i[1],a=i[2],o=i[3],l=Math.sin(r),u=Math.cos(r),t[0]=n*u+s*l,t[1]=s*u-n*l,t[2]=a*u+o*l,t[3]=o*u-a*l,this.onChange(),this}inverse(e=this._target){var t;let i,r,n,s,a,o;return t=this._target,i=e[0],r=e[1],o=(a=i*i+r*r+(n=e[2])*n+(s=e[3])*s)?1/a:0,t[0]=-i*o,t[1]=-r*o,t[2]=-n*o,t[3]=s*o,this.onChange(),this}conjugate(e=this._target){var t;return(t=this._target)[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],this.onChange(),this}copy(e){var t;return(t=this._target)[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],this.onChange(),this}normalize(e=this._target){return s(this._target,e),this.onChange(),this}multiply(e,t){return t?n(this._target,e,t):n(this._target,this._target,e),this.onChange(),this}dot(e){var t;return(t=this._target)[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}fromMatrix3(e){return!function(e,t){let i,r=t[0]+t[4]+t[8];if(r>0)i=Math.sqrt(r+1),e[3]=.5*i,i=.5/i,e[0]=(t[5]-t[7])*i,e[1]=(t[6]-t[2])*i,e[2]=(t[1]-t[3])*i;else{let r=0;t[4]>t[0]&&(r=1),t[8]>t[3*r+r]&&(r=2);let n=(r+1)%3,s=(r+2)%3;i=Math.sqrt(t[3*r+r]-t[3*n+n]-t[3*s+s]+1),e[r]=.5*i,i=.5/i,e[3]=(t[3*n+s]-t[3*s+n])*i,e[n]=(t[3*n+r]+t[3*r+n])*i,e[s]=(t[3*s+r]+t[3*r+s])*i}}(this._target,e),this.onChange(),this}fromEuler(e,t){return!function(e,t,i="YXZ"){let r=Math.sin(.5*t[0]),n=Math.cos(.5*t[0]),s=Math.sin(.5*t[1]),a=Math.cos(.5*t[1]),o=Math.sin(.5*t[2]),l=Math.cos(.5*t[2]);"XYZ"===i?(e[0]=r*a*l+n*s*o,e[1]=n*s*l-r*a*o,e[2]=n*a*o+r*s*l,e[3]=n*a*l-r*s*o):"YXZ"===i?(e[0]=r*a*l+n*s*o,e[1]=n*s*l-r*a*o,e[2]=n*a*o-r*s*l,e[3]=n*a*l+r*s*o):"ZXY"===i?(e[0]=r*a*l-n*s*o,e[1]=n*s*l+r*a*o,e[2]=n*a*o+r*s*l,e[3]=n*a*l-r*s*o):"ZYX"===i?(e[0]=r*a*l-n*s*o,e[1]=n*s*l+r*a*o,e[2]=n*a*o-r*s*l,e[3]=n*a*l+r*s*o):"YZX"===i?(e[0]=r*a*l+n*s*o,e[1]=n*s*l+r*a*o,e[2]=n*a*o-r*s*l,e[3]=n*a*l-r*s*o):"XZY"===i&&(e[0]=r*a*l-n*s*o,e[1]=n*s*l-r*a*o,e[2]=n*a*o+r*s*l,e[3]=n*a*l+r*s*o)}(this._target,e,e.order),t||this.onChange(),this}fromAxisAngle(e,t){var i,r;let n;return i=this._target,n=Math.sin(r=.5*t),i[0]=n*e[0],i[1]=n*e[1],i[2]=n*e[2],i[3]=Math.cos(r),this.onChange(),this}slerp(e,t){var i,r;let n,s,a,o,l,u,h,c,d,p,f,m,g;return i=this._target,u=(r=this._target)[0],h=r[1],c=r[2],d=r[3],p=e[0],f=e[1],(s=u*p+h*f+c*(m=e[2])+d*(g=e[3]))<0&&(s=-s,p=-p,f=-f,m=-m,g=-g),1-s>1e-6?(a=Math.sin(n=Math.acos(s)),o=Math.sin((1-t)*n)/a,l=Math.sin(t*n)/a):(o=1-t,l=t),i[0]=o*u+l*p,i[1]=o*h+l*f,i[2]=o*c+l*m,i[3]=o*d+l*g,this.onChange(),this}fromArray(e,t=0){return this._target[0]=e[t],this._target[1]=e[t+1],this._target[2]=e[t+2],this._target[3]=e[t+3],this.onChange(),this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e[t+3]=this[3],e}}var o=i(584);function l(e){let t=e[0],i=e[1],r=e[2],n=e[3],s=e[4],a=e[5],o=e[6],l=e[7],u=e[8],h=e[9],c=e[10],d=e[11],p=e[12],f=e[13],m=e[14],g=e[15];return(t*a-i*s)*(c*g-d*m)-(t*o-r*s)*(h*g-d*f)+(t*l-n*s)*(h*m-c*f)+(i*o-r*a)*(u*g-d*p)-(i*l-n*a)*(u*m-c*p)+(r*l-n*o)*(u*f-h*p)}function u(e,t,i){let r=t[0],n=t[1],s=t[2],a=t[3],o=t[4],l=t[5],u=t[6],h=t[7],c=t[8],d=t[9],p=t[10],f=t[11],m=t[12],g=t[13],v=t[14],A=t[15],y=i[0],B=i[1],C=i[2],b=i[3];return e[0]=y*r+B*o+C*c+b*m,e[1]=y*n+B*l+C*d+b*g,e[2]=y*s+B*u+C*p+b*v,e[3]=y*a+B*h+C*f+b*A,y=i[4],B=i[5],C=i[6],b=i[7],e[4]=y*r+B*o+C*c+b*m,e[5]=y*n+B*l+C*d+b*g,e[6]=y*s+B*u+C*p+b*v,e[7]=y*a+B*h+C*f+b*A,y=i[8],B=i[9],C=i[10],b=i[11],e[8]=y*r+B*o+C*c+b*m,e[9]=y*n+B*l+C*d+b*g,e[10]=y*s+B*u+C*p+b*v,e[11]=y*a+B*h+C*f+b*A,y=i[12],B=i[13],C=i[14],b=i[15],e[12]=y*r+B*o+C*c+b*m,e[13]=y*n+B*l+C*d+b*g,e[14]=y*s+B*u+C*p+b*v,e[15]=y*a+B*h+C*f+b*A,e}function h(e,t){let i=t[0],r=t[1],n=t[2],s=t[4],a=t[5],o=t[6],l=t[8],u=t[9],h=t[10];return e[0]=Math.hypot(i,r,n),e[1]=Math.hypot(s,a,o),e[2]=Math.hypot(l,u,h),e}let c=function(){let e=[1,1,1];return function(t,i){h(e,i);let r=1/e[0],n=1/e[1],s=1/e[2],a=i[0]*r,o=i[1]*n,l=i[2]*s,u=i[4]*r,c=i[5]*n,d=i[6]*s,p=i[8]*r,f=i[9]*n,m=i[10]*s,g=a+c+m,v=0;return g>0?(v=2*Math.sqrt(g+1),t[3]=.25*v,t[0]=(d-f)/v,t[1]=(p-l)/v,t[2]=(o-u)/v):a>c&&a>m?(v=2*Math.sqrt(1+a-c-m),t[3]=(d-f)/v,t[0]=.25*v,t[1]=(o+u)/v,t[2]=(p+l)/v):c>m?(v=2*Math.sqrt(1+c-a-m),t[3]=(p-l)/v,t[0]=(o+u)/v,t[1]=.25*v,t[2]=(d+f)/v):(v=2*Math.sqrt(1+m-a-c),t[3]=(o-u)/v,t[0]=(p+l)/v,t[1]=(d+f)/v,t[2]=.25*v),t}}();function d(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e[8]=t[8]+i[8],e[9]=t[9]+i[9],e[10]=t[10]+i[10],e[11]=t[11]+i[11],e[12]=t[12]+i[12],e[13]=t[13]+i[13],e[14]=t[14]+i[14],e[15]=t[15]+i[15],e}function p(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e[6]=t[6]-i[6],e[7]=t[7]-i[7],e[8]=t[8]-i[8],e[9]=t[9]-i[9],e[10]=t[10]-i[10],e[11]=t[11]-i[11],e[12]=t[12]-i[12],e[13]=t[13]-i[13],e[14]=t[14]-i[14],e[15]=t[15]-i[15],e}class f extends Array{constructor(e=1,t=0,i=0,r=0,n=0,s=1,a=0,o=0,l=0,u=0,h=1,c=0,d=0,p=0,f=0,m=1){return super(e,t,i,r,n,s,a,o,l,u,h,c,d,p,f,m),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,t,i,r,n,s,a,o,l,u,h,c,d,p,f,m){return e.length?this.copy(e):(this[0]=e,this[1]=t,this[2]=i,this[3]=r,this[4]=n,this[5]=s,this[6]=a,this[7]=o,this[8]=l,this[9]=u,this[10]=h,this[11]=c,this[12]=d,this[13]=p,this[14]=f,this[15]=m,this)}translate(e,t=this){let i,r,n,s,a,o,l,u,h,c,d,p,f,m,g;return f=e[0],m=e[1],g=e[2],t===this?(this[12]=t[0]*f+t[4]*m+t[8]*g+t[12],this[13]=t[1]*f+t[5]*m+t[9]*g+t[13],this[14]=t[2]*f+t[6]*m+t[10]*g+t[14],this[15]=t[3]*f+t[7]*m+t[11]*g+t[15]):(i=t[0],r=t[1],n=t[2],s=t[3],a=t[4],o=t[5],l=t[6],u=t[7],h=t[8],c=t[9],d=t[10],p=t[11],this[0]=i,this[1]=r,this[2]=n,this[3]=s,this[4]=a,this[5]=o,this[6]=l,this[7]=u,this[8]=h,this[9]=c,this[10]=d,this[11]=p,this[12]=i*f+a*m+h*g+t[12],this[13]=r*f+o*m+c*g+t[13],this[14]=n*f+l*m+d*g+t[14],this[15]=s*f+u*m+p*g+t[15]),this}rotate(e,t,i=this){let r,n,s,a,o,l,u,h,c,d,p,f,m,g,v,A,y,B,C,b,x,w,E,M,T,S,P,F;return T=t[0],1e-6>Math.abs(F=Math.hypot(T,S=t[1],P=t[2]))||(T*=F=1/F,S*=F,P*=F,r=Math.sin(e),s=1-(n=Math.cos(e)),a=i[0],o=i[1],l=i[2],u=i[3],h=i[4],c=i[5],d=i[6],p=i[7],f=i[8],m=i[9],g=i[10],v=i[11],A=T*T*s+n,y=S*T*s+P*r,B=P*T*s-S*r,C=T*S*s-P*r,b=S*S*s+n,x=P*S*s+T*r,w=T*P*s+S*r,E=S*P*s-T*r,M=P*P*s+n,this[0]=a*A+h*y+f*B,this[1]=o*A+c*y+m*B,this[2]=l*A+d*y+g*B,this[3]=u*A+p*y+v*B,this[4]=a*C+h*b+f*x,this[5]=o*C+c*b+m*x,this[6]=l*C+d*b+g*x,this[7]=u*C+p*b+v*x,this[8]=a*w+h*E+f*M,this[9]=o*w+c*E+m*M,this[10]=l*w+d*E+g*M,this[11]=u*w+p*E+v*M,i!==this&&(this[12]=i[12],this[13]=i[13],this[14]=i[14],this[15]=i[15])),this}scale(e,t=this){var i;let r,n,s;return r=(i="number"==typeof e?[e,e,e]:e)[0],n=i[1],s=i[2],this[0]=t[0]*r,this[1]=t[1]*r,this[2]=t[2]*r,this[3]=t[3]*r,this[4]=t[4]*n,this[5]=t[5]*n,this[6]=t[6]*n,this[7]=t[7]*n,this[8]=t[8]*s,this[9]=t[9]*s,this[10]=t[10]*s,this[11]=t[11]*s,this[12]=t[12],this[13]=t[13],this[14]=t[14],this[15]=t[15],this}add(e,t){return t?d(this,e,t):d(this,this,e),this}sub(e,t){return t?p(this,e,t):p(this,this,e),this}multiply(e,t){if(e.length)t?u(this,e,t):u(this,this,e);else this[0]=this[0]*e,this[1]=this[1]*e,this[2]=this[2]*e,this[3]=this[3]*e,this[4]=this[4]*e,this[5]=this[5]*e,this[6]=this[6]*e,this[7]=this[7]*e,this[8]=this[8]*e,this[9]=this[9]*e,this[10]=this[10]*e,this[11]=this[11]*e,this[12]=this[12]*e,this[13]=this[13]*e,this[14]=this[14]*e,this[15]=this[15]*e;return this}identity(){return this[0]=1,this[1]=0,this[2]=0,this[3]=0,this[4]=0,this[5]=1,this[6]=0,this[7]=0,this[8]=0,this[9]=0,this[10]=1,this[11]=0,this[12]=0,this[13]=0,this[14]=0,this[15]=1,this}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this}fromPerspective({fov:e,aspect:t,near:i,far:r}={}){let n,s;return n=1/Math.tan(e/2),s=1/(i-r),this[0]=n/t,this[1]=0,this[2]=0,this[3]=0,this[4]=0,this[5]=n,this[6]=0,this[7]=0,this[8]=0,this[9]=0,this[10]=(r+i)*s,this[11]=-1,this[12]=0,this[13]=0,this[14]=2*r*i*s,this[15]=0,this}fromOrthogonal({left:e,right:t,bottom:i,top:r,near:n,far:s}){let a,o,l;return a=1/(e-t),o=1/(i-r),l=1/(n-s),this[0]=-2*a,this[1]=0,this[2]=0,this[3]=0,this[4]=0,this[5]=-2*o,this[6]=0,this[7]=0,this[8]=0,this[9]=0,this[10]=2*l,this[11]=0,this[12]=(e+t)*a,this[13]=(r+i)*o,this[14]=(s+n)*l,this[15]=1,this}fromQuaternion(e){let t,i,r,n,s,a,o,l,u,h,c,d,p,f,m,g;return t=e[0],i=e[1],r=e[2],n=e[3],s=t+t,a=i+i,o=r+r,l=t*s,u=i*s,h=i*a,c=r*s,d=r*a,p=r*o,f=n*s,m=n*a,g=n*o,this[0]=1-h-p,this[1]=u+g,this[2]=c-m,this[3]=0,this[4]=u-g,this[5]=1-l-p,this[6]=d+f,this[7]=0,this[8]=c+m,this[9]=d-f,this[10]=1-l-h,this[11]=0,this[12]=0,this[13]=0,this[14]=0,this[15]=1,this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){let t,i,r,n,s,a,o,l,u,h,c,d,p,f,m,g,v,A,y,B,C,b,x,w,E,M,T,S,P;return t=e[0],i=e[1],r=e[2],n=e[3],s=e[4],a=e[5],o=e[6],l=e[7],u=e[8],h=e[9],c=e[10],d=e[11],p=e[12],f=e[13],m=e[14],g=e[15],v=t*a-i*s,A=t*o-r*s,y=t*l-n*s,B=i*o-r*a,C=i*l-n*a,b=r*l-n*o,x=u*f-h*p,w=u*m-c*p,E=u*g-d*p,M=h*m-c*f,T=h*g-d*f,(P=v*(S=c*g-d*m)-A*T+y*M+B*E-C*w+b*x)&&(P=1/P,this[0]=(a*S-o*T+l*M)*P,this[1]=(r*T-i*S-n*M)*P,this[2]=(f*b-m*C+g*B)*P,this[3]=(c*C-h*b-d*B)*P,this[4]=(o*E-s*S-l*w)*P,this[5]=(t*S-r*E+n*w)*P,this[6]=(m*y-p*b-g*A)*P,this[7]=(u*b-c*y+d*A)*P,this[8]=(s*T-a*E+l*x)*P,this[9]=(i*E-t*T-n*x)*P,this[10]=(p*C-f*y+g*v)*P,this[11]=(h*y-u*C-d*v)*P,this[12]=(a*w-s*M-o*x)*P,this[13]=(t*M-i*w+r*x)*P,this[14]=(f*A-p*B-m*v)*P,this[15]=(u*B-h*A+c*v)*P),this}compose(e,t,i){return!function(e,t,i,r){let n=t[0],s=t[1],a=t[2],o=t[3],l=n+n,u=s+s,h=a+a,c=n*l,d=n*u,p=n*h,f=s*u,m=s*h,g=a*h,v=o*l,A=o*u,y=o*h,B=r[0],C=r[1],b=r[2];e[0]=(1-(f+g))*B,e[1]=(d+y)*B,e[2]=(p-A)*B,e[3]=0,e[4]=(d-y)*C,e[5]=(1-(c+g))*C,e[6]=(m+v)*C,e[7]=0,e[8]=(p+A)*b,e[9]=(m-v)*b,e[10]=(1-(c+f))*b,e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1}(this,e,t,i),this}decompose(e,t,i){return!function(e,t,i,r){let n=o.Bw([e[0],e[1],e[2]]),s=o.Bw([e[4],e[5],e[6]]),a=o.Bw([e[8],e[9],e[10]]);0>l(e)&&(n=-n),i[0]=e[12],i[1]=e[13],i[2]=e[14];let u=e.slice(),h=1/n,d=1/s,p=1/a;u[0]*=h,u[1]*=h,u[2]*=h,u[4]*=d,u[5]*=d,u[6]*=d,u[8]*=p,u[9]*=p,u[10]*=p,c(t,u),r[0]=n,r[1]=s,r[2]=a}(this,e,t,i),this}getRotation(e){return c(e,this),this}getTranslation(e){return e[0]=this[12],e[1]=this[13],e[2]=this[14],this}getScaling(e){return h(e,this),this}getMaxScaleOnAxis(){let e,t,i,r,n,s,a,o,l;return e=this[0],t=this[1],i=this[2],r=this[4],n=this[5],s=this[6],a=this[8],Math.sqrt(Math.max(e*e+t*t+i*i,r*r+n*n+s*s,a*a+(o=this[9])*o+(l=this[10])*l))}lookAt(e,t,i){let r,n,s,a,o,l,u,h,c,d,p,f,m;return r=e[0],n=e[1],s=e[2],a=i[0],o=i[1],l=i[2],u=r-t[0],0==(d=u*u+(h=n-t[1])*h+(c=s-t[2])*c)?c=1:(u*=d=1/Math.sqrt(d),h*=d,c*=d),0==(d=(p=o*c-l*h)*p+(f=l*u-a*c)*f+(m=a*h-o*u)*m)&&(l?a+=1e-6:o?l+=1e-6:o+=1e-6,d=(p=o*c-l*h)*p+(f=l*u-a*c)*f+(m=a*h-o*u)*m),p*=d=1/Math.sqrt(d),f*=d,m*=d,this[0]=p,this[1]=f,this[2]=m,this[3]=0,this[4]=h*m-c*f,this[5]=c*p-u*m,this[6]=u*f-h*p,this[7]=0,this[8]=u,this[9]=h,this[10]=c,this[11]=0,this[12]=r,this[13]=n,this[14]=s,this[15]=1,this}determinant(){return l(this)}fromArray(e,t=0){return this[0]=e[t],this[1]=e[t+1],this[2]=e[t+2],this[3]=e[t+3],this[4]=e[t+4],this[5]=e[t+5],this[6]=e[t+6],this[7]=e[t+7],this[8]=e[t+8],this[9]=e[t+9],this[10]=e[t+10],this[11]=e[t+11],this[12]=e[t+12],this[13]=e[t+13],this[14]=e[t+14],this[15]=e[t+15],this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e[t+3]=this[3],e[t+4]=this[4],e[t+5]=this[5],e[t+6]=this[6],e[t+7]=this[7],e[t+8]=this[8],e[t+9]=this[9],e[t+10]=this[10],e[t+11]=this[11],e[t+12]=this[12],e[t+13]=this[13],e[t+14]=this[14],e[t+15]=this[15],e}}let m=new f;class g extends Array{constructor(e=0,t=e,i=e,r="YXZ"){super(e,t,i),this.order=r,this.onChange=()=>{},this._target=this;let n=["0","1","2"];return new Proxy(this,{set(e,t){let i=Reflect.set(...arguments);return i&&n.includes(t)&&e.onChange(),i}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set(e,t=e,i=e){return e.length?this.copy(e):(this._target[0]=e,this._target[1]=t,this._target[2]=i,this.onChange(),this)}copy(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}reorder(e){return this._target.order=e,this.onChange(),this}fromRotationMatrix(e,t=this.order){return!function(e,t,i="YXZ"){"XYZ"===i?(e[1]=Math.asin(Math.min(Math.max(t[8],-1),1)),.99999>Math.abs(t[8])?(e[0]=Math.atan2(-t[9],t[10]),e[2]=Math.atan2(-t[4],t[0])):(e[0]=Math.atan2(t[6],t[5]),e[2]=0)):"YXZ"===i?(e[0]=Math.asin(-Math.min(Math.max(t[9],-1),1)),.99999>Math.abs(t[9])?(e[1]=Math.atan2(t[8],t[10]),e[2]=Math.atan2(t[1],t[5])):(e[1]=Math.atan2(-t[2],t[0]),e[2]=0)):"ZXY"===i?(e[0]=Math.asin(Math.min(Math.max(t[6],-1),1)),.99999>Math.abs(t[6])?(e[1]=Math.atan2(-t[2],t[10]),e[2]=Math.atan2(-t[4],t[5])):(e[1]=0,e[2]=Math.atan2(t[1],t[0]))):"ZYX"===i?(e[1]=Math.asin(-Math.min(Math.max(t[2],-1),1)),.99999>Math.abs(t[2])?(e[0]=Math.atan2(t[6],t[10]),e[2]=Math.atan2(t[1],t[0])):(e[0]=0,e[2]=Math.atan2(-t[4],t[5]))):"YZX"===i?(e[2]=Math.asin(Math.min(Math.max(t[1],-1),1)),.99999>Math.abs(t[1])?(e[0]=Math.atan2(-t[9],t[5]),e[1]=Math.atan2(-t[2],t[0])):(e[0]=0,e[1]=Math.atan2(t[8],t[10]))):"XZY"===i&&(e[2]=Math.asin(-Math.min(Math.max(t[4],-1),1)),.99999>Math.abs(t[4])?(e[0]=Math.atan2(t[6],t[5]),e[1]=Math.atan2(t[8],t[0])):(e[0]=Math.atan2(-t[9],t[10]),e[1]=0))}(this._target,e,t),this.onChange(),this}fromQuaternion(e,t=this.order,i){return m.fromQuaternion(e),this._target.fromRotationMatrix(m,t),i||this.onChange(),this}fromArray(e,t=0){return this._target[0]=e[t],this._target[1]=e[t+1],this._target[2]=e[t+2],this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e}}class v{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new f,this.worldMatrix=new f,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new r.e,this.quaternion=new a,this.scale=new r.e(1),this.rotation=new g,this.up=new r.e(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(e,t=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,t&&e&&e.addChild(this,!1)}addChild(e,t=!0){~this.children.indexOf(e)||this.children.push(e),t&&e.setParent(this,!1)}removeChild(e,t=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),t&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(null===this.parent?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let t=0,i=this.children.length;t<i;t++)this.children[t].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let t=0,i=this.children.length;t<i;t++)this.children[t].traverse(e)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,t=!1){t?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function A(e,t,i){let r=t[0],n=t[1],s=t[2],a=t[3],o=t[4],l=t[5],u=t[6],h=t[7],c=t[8],d=i[0],p=i[1],f=i[2],m=i[3],g=i[4],v=i[5],A=i[6],y=i[7],B=i[8];return e[0]=d*r+p*a+f*u,e[1]=d*n+p*o+f*h,e[2]=d*s+p*l+f*c,e[3]=m*r+g*a+v*u,e[4]=m*n+g*o+v*h,e[5]=m*s+g*l+v*c,e[6]=A*r+y*a+B*u,e[7]=A*n+y*o+B*h,e[8]=A*s+y*l+B*c,e}class y extends Array{constructor(e=1,t=0,i=0,r=0,n=1,s=0,a=0,o=0,l=1){return super(e,t,i,r,n,s,a,o,l),this}set(e,t,i,r,n,s,a,o,l){return e.length?this.copy(e):(this[0]=e,this[1]=t,this[2]=i,this[3]=r,this[4]=n,this[5]=s,this[6]=a,this[7]=o,this[8]=l,this)}translate(e,t=this){let i,r,n,s,a,o,l,u,h,c,d;return i=t[0],r=t[1],n=t[2],s=t[3],a=t[4],o=t[5],l=t[6],u=t[7],h=t[8],c=e[0],d=e[1],this[0]=i,this[1]=r,this[2]=n,this[3]=s,this[4]=a,this[5]=o,this[6]=c*i+d*s+l,this[7]=c*r+d*a+u,this[8]=c*n+d*o+h,this}rotate(e,t=this){let i,r,n,s,a,o,l,u,h,c,d;return i=t[0],r=t[1],n=t[2],s=t[3],a=t[4],o=t[5],l=t[6],u=t[7],h=t[8],c=Math.sin(e),d=Math.cos(e),this[0]=d*i+c*s,this[1]=d*r+c*a,this[2]=d*n+c*o,this[3]=d*s-c*i,this[4]=d*a-c*r,this[5]=d*o-c*n,this[6]=l,this[7]=u,this[8]=h,this}scale(e,t=this){let i,r;return i=e[0],r=e[1],this[0]=i*t[0],this[1]=i*t[1],this[2]=i*t[2],this[3]=r*t[3],this[4]=r*t[4],this[5]=r*t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this}multiply(e,t){return t?A(this,e,t):A(this,this,e),this}identity(){return this[0]=1,this[1]=0,this[2]=0,this[3]=0,this[4]=1,this[5]=0,this[6]=0,this[7]=0,this[8]=1,this}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this}fromMatrix4(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[4],this[4]=e[5],this[5]=e[6],this[6]=e[8],this[7]=e[9],this[8]=e[10],this}fromQuaternion(e){let t,i,r,n,s,a,o,l,u,h,c,d,p,f,m,g;return t=e[0],i=e[1],r=e[2],n=e[3],s=t+t,a=i+i,o=r+r,l=t*s,u=i*s,h=i*a,c=r*s,d=r*a,p=r*o,f=n*s,m=n*a,g=n*o,this[0]=1-h-p,this[3]=u-g,this[6]=c+m,this[1]=u+g,this[4]=1-l-p,this[7]=d-f,this[2]=c-m,this[5]=d+f,this[8]=1-l-h,this}fromBasis(e,t,i){return this.set(e[0],e[1],e[2],t[0],t[1],t[2],i[0],i[1],i[2]),this}inverse(e=this){let t,i,r,n,s,a,o,l,u,h,c,d,p;return t=e[0],i=e[1],r=e[2],n=e[3],s=e[4],a=e[5],o=e[6],l=e[7],(p=t*(h=(u=e[8])*s-a*l)+i*(c=-u*n+a*o)+r*(d=l*n-s*o))&&(p=1/p,this[0]=h*p,this[1]=(-u*i+r*l)*p,this[2]=(a*i-r*s)*p,this[3]=c*p,this[4]=(u*t-r*o)*p,this[5]=(-a*t+r*n)*p,this[6]=d*p,this[7]=(-l*t+i*o)*p,this[8]=(s*t-i*n)*p),this}getNormalMatrix(e){let t,i,r,n,s,a,o,l,u,h,c,d,p,f,m,g,v,A,y,B,C,b,x,w,E,M,T,S,P;return t=e[0],i=e[1],r=e[2],n=e[3],s=e[4],a=e[5],o=e[6],l=e[7],u=e[8],h=e[9],c=e[10],d=e[11],p=e[12],f=e[13],m=e[14],g=e[15],v=t*a-i*s,A=t*o-r*s,y=t*l-n*s,B=i*o-r*a,C=i*l-n*a,b=r*l-n*o,x=u*f-h*p,w=u*m-c*p,E=u*g-d*p,M=h*m-c*f,T=h*g-d*f,(P=v*(S=c*g-d*m)-A*T+y*M+B*E-C*w+b*x)&&(P=1/P,this[0]=(a*S-o*T+l*M)*P,this[1]=(o*E-s*S-l*w)*P,this[2]=(s*T-a*E+l*x)*P,this[3]=(r*T-i*S-n*M)*P,this[4]=(t*S-r*E+n*w)*P,this[5]=(i*E-t*T-n*x)*P,this[6]=(f*b-m*C+g*B)*P,this[7]=(m*y-p*b-g*A)*P,this[8]=(p*C-f*y+g*v)*P),this}}let B=0;class C extends v{constructor(e,{geometry:t,program:i,mode:r=e.TRIANGLES,frustumCulled:n=!0,renderOrder:s=0}={}){super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=B++,this.geometry=t,this.program=i,this.mode=r,this.frustumCulled=n,this.renderOrder=s,this.modelViewMatrix=new f,this.normalMatrix=new y,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(t=>t&&t({mesh:this,camera:e}));let t=this.program.cullFace&&0>this.worldMatrix.determinant();this.program.use({flipFaces:t}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(t=>t&&t({mesh:this,camera:e}))}}},2082:(e,t,i)=>{i.d(t,{xQ:()=>s});var r=i(2115),n=i(845);function s(e=!0){let t=(0,r.useContext)(n.t);if(null===t)return[!0,null];let{isPresent:i,onExitComplete:a,register:o}=t,l=(0,r.useId)();(0,r.useEffect)(()=>{if(e)return o(l)},[e]);let u=(0,r.useCallback)(()=>e&&a&&a(l),[l,a,e]);return!i&&a?[!1,u]:[!0]}},2083:(e,t,i)=>{i.d(t,{V:()=>o});var r=i(3082),n=i(5471),s=i(2282),a=i(7219);let o={test:(0,a.$)("hsl","hue"),parse:(0,a.q)("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:i,alpha:a=1})=>"hsla("+Math.round(e)+", "+n.KN.transform((0,s.a)(t))+", "+n.KN.transform((0,s.a)(i))+", "+(0,s.a)(r.X4.transform(a))+")"}},2282:(e,t,i)=>{i.d(t,{a:()=>r});let r=e=>Math.round(1e5*e)/1e5},2407:(e,t,i)=>{e.exports=i(6892)},2436:(e,t,i)=>{var r=i(2115),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=r.useState,a=r.useEffect,o=r.useLayoutEffect,l=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!n(e,i)}catch(e){return!0}}var h="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var i=t(),r=s({inst:{value:i,getSnapshot:t}}),n=r[0].inst,h=r[1];return o(function(){n.value=i,n.getSnapshot=t,u(n)&&h({inst:n})},[e,i,t]),a(function(){return u(n)&&h({inst:n}),e(function(){u(n)&&h({inst:n})})},[e]),l(i),i};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:h},2515:(e,t,i)=>{let r;i.d(t,{OH:()=>e7});var n=i(9630),s=i(2115),a=i(73),o=i(3264),l=i(3625);let u=e=>e&&e.isCubeTexture;class h extends o.eaF{constructor(e,t){var i,r;let n=u(e),s=Math.floor(Math.log2((null!=(r=n?null==(i=e.image[0])?void 0:i.width:e.image.width)?r:1024)/4)),a=Math.pow(2,s),h=3*Math.max(a,112),c=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,d=[n?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/h}`,`#define CUBEUV_TEXEL_HEIGHT ${1/(4*a)}`,`#define CUBEUV_MAX_MIP ${s}.0`].join("\n")+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${l.r>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,p={map:{value:e},height:{value:(null==t?void 0:t.height)||15},radius:{value:(null==t?void 0:t.radius)||100}};super(new o.WBB(1,16),new o.BKk({uniforms:p,fragmentShader:d,vertexShader:c,side:o.$EB}))}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}class c extends o.BRH{constructor(e){super(e),this.type=o.ix0}parse(e){let t,i,r;let n=function(e,t){switch(e){case 1:throw Error("THREE.RGBELoader: Read Error: "+(t||""));case 2:throw Error("THREE.RGBELoader: Write Error: "+(t||""));case 3:throw Error("THREE.RGBELoader: Bad File Format: "+(t||""));default:throw Error("THREE.RGBELoader: Memory Error: "+(t||""))}},s=function(e,t,i){t=t||1024;let r=e.pos,n=-1,s=0,a="",o=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));for(;0>(n=o.indexOf("\n"))&&s<t&&r<e.byteLength;)a+=o,s+=o.length,r+=128,o+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));return -1<n&&(!1!==i&&(e.pos+=s+n+1),a+o.slice(0,n))},a=new Uint8Array(e);a.pos=0;let l=function(e){let t,i;let r=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,a=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,o=/^\s*FORMAT=(\S+)\s*$/,l=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,u={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};for(!(e.pos>=e.byteLength)&&(t=s(e))||n(1,"no header found"),(i=t.match(/^#\?(\S+)/))||n(3,"bad initial token"),u.valid|=1,u.programtype=i[1],u.string+=t+"\n";!1!==(t=s(e));){if(u.string+=t+"\n","#"===t.charAt(0)){u.comments+=t+"\n";continue}if((i=t.match(r))&&(u.gamma=parseFloat(i[1])),(i=t.match(a))&&(u.exposure=parseFloat(i[1])),(i=t.match(o))&&(u.valid|=2,u.format=i[1]),(i=t.match(l))&&(u.valid|=4,u.height=parseInt(i[1],10),u.width=parseInt(i[2],10)),2&u.valid&&4&u.valid)break}return 2&u.valid||n(3,"missing format specifier"),4&u.valid||n(3,"missing image size specifier"),u}(a),u=l.width,h=l.height,c=function(e,t,i){if(t<8||t>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);t!==(e[2]<<8|e[3])&&n(3,"wrong scanline width");let r=new Uint8Array(4*t*i);r.length||n(4,"unable to allocate buffer space");let s=0,a=0,o=4*t,l=new Uint8Array(4),u=new Uint8Array(o),h=i;for(;h>0&&a<e.byteLength;){a+4>e.byteLength&&n(1),l[0]=e[a++],l[1]=e[a++],l[2]=e[a++],l[3]=e[a++],(2!=l[0]||2!=l[1]||(l[2]<<8|l[3])!=t)&&n(3,"bad rgbe scanline format");let i=0,c;for(;i<o&&a<e.byteLength;){let t=(c=e[a++])>128;if(t&&(c-=128),(0===c||i+c>o)&&n(3,"bad scanline data"),t){let t=e[a++];for(let e=0;e<c;e++)u[i++]=t}else u.set(e.subarray(a,a+c),i),i+=c,a+=c}for(let e=0;e<t;e++){let i=0;r[s]=u[e+i],i+=t,r[s+1]=u[e+i],i+=t,r[s+2]=u[e+i],i+=t,r[s+3]=u[e+i],s+=4}h--}return r}(a.subarray(a.pos),u,h);switch(this.type){case o.RQf:let d=new Float32Array(4*(r=c.length/4));for(let e=0;e<r;e++)!function(e,t,i,r){let n=Math.pow(2,e[t+3]-128)/255;i[r+0]=e[t+0]*n,i[r+1]=e[t+1]*n,i[r+2]=e[t+2]*n,i[r+3]=1}(c,4*e,d,4*e);t=d,i=o.RQf;break;case o.ix0:let p=new Uint16Array(4*(r=c.length/4));for(let e=0;e<r;e++)!function(e,t,i,r){let n=Math.pow(2,e[t+3]-128)/255;i[r+0]=o.GxU.toHalfFloat(Math.min(e[t+0]*n,65504)),i[r+1]=o.GxU.toHalfFloat(Math.min(e[t+1]*n,65504)),i[r+2]=o.GxU.toHalfFloat(Math.min(e[t+2]*n,65504)),i[r+3]=o.GxU.toHalfFloat(1)}(c,4*e,p,4*e);t=p,i=o.ix0;break;default:throw Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:u,height:h,data:t,header:l.string,gamma:l.gamma,exposure:l.exposure,type:i}}setDataType(e){return this.type=e,this}load(e,t,i,r){return super.load(e,function(e,i){switch(e.type){case o.RQf:case o.ix0:"colorSpace"in e?e.colorSpace="srgb-linear":e.encoding=3e3,e.minFilter=o.k6q,e.magFilter=o.k6q,e.generateMipmaps=!1,e.flipY=!0}t&&t(e,i)},i,r)}}var d={},p=function(e,t,i,r,n){var s=new Worker(d[t]||(d[t]=URL.createObjectURL(new Blob([e],{type:"text/javascript"}))));return s.onerror=function(e){return n(e.error,null)},s.onmessage=function(e){return n(null,e.data)},s.postMessage(i,r),s},f=Uint8Array,m=Uint16Array,g=Uint32Array,v=new f([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),A=new f([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),y=new f([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),B=function(e,t){for(var i=new m(31),r=0;r<31;++r)i[r]=t+=1<<e[r-1];for(var n=new g(i[30]),r=1;r<30;++r)for(var s=i[r];s<i[r+1];++s)n[s]=s-i[r]<<5|r;return[i,n]},C=B(v,2),b=C[0],x=C[1];b[28]=258,x[258]=28;for(var w=B(A,0),E=w[0],M=w[1],T=new m(32768),S=0;S<32768;++S){var P=(43690&S)>>>1|(21845&S)<<1;P=(61680&(P=(52428&P)>>>2|(13107&P)<<2))>>>4|(3855&P)<<4,T[S]=((65280&P)>>>8|(255&P)<<8)>>>1}for(var F=function(e,t,i){for(var r,n=e.length,s=0,a=new m(t);s<n;++s)++a[e[s]-1];var o=new m(t);for(s=0;s<t;++s)o[s]=o[s-1]+a[s-1]<<1;if(i){r=new m(1<<t);var l=15-t;for(s=0;s<n;++s)if(e[s])for(var u=s<<4|e[s],h=t-e[s],c=o[e[s]-1]++<<h,d=c|(1<<h)-1;c<=d;++c)r[T[c]>>>l]=u}else for(s=0,r=new m(n);s<n;++s)e[s]&&(r[s]=T[o[e[s]-1]++]>>>15-e[s]);return r},R=new f(288),S=0;S<144;++S)R[S]=8;for(var S=144;S<256;++S)R[S]=9;for(var S=256;S<280;++S)R[S]=7;for(var S=280;S<288;++S)R[S]=8;for(var D=new f(32),S=0;S<32;++S)D[S]=5;var I=F(R,9,1),O=F(D,5,1),G=function(e){for(var t=e[0],i=1;i<e.length;++i)e[i]>t&&(t=e[i]);return t},L=function(e,t,i){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&i},k=function(e,t){var i=t/8|0;return(e[i]|e[i+1]<<8|e[i+2]<<16)>>(7&t)},H=function(e){return(e/8|0)+(7&e&&1)},_=function(e,t,i){(null==t||t<0)&&(t=0),(null==i||i>e.length)&&(i=e.length);var r=new(e instanceof m?m:e instanceof g?g:f)(i-t);return r.set(e.subarray(t,i)),r},j=function(e,t,i){var r=e.length;if(!r||i&&!i.l&&r<5)return t||new f(0);var n=!t||i,s=!i||i.i;i||(i={}),t||(t=new f(3*r));var a=function(e){var i=t.length;if(e>i){var r=new f(Math.max(2*i,e));r.set(t),t=r}},o=i.f||0,l=i.p||0,u=i.b||0,h=i.l,c=i.d,d=i.m,p=i.n,m=8*r;do{if(!h){i.f=o=L(e,l,1);var g=L(e,l+1,3);if(l+=3,g){if(1==g)h=I,c=O,d=9,p=5;else if(2==g){var B=L(e,l,31)+257,C=L(e,l+10,15)+4,x=B+L(e,l+5,31)+1;l+=14;for(var w=new f(x),M=new f(19),T=0;T<C;++T)M[y[T]]=L(e,l+3*T,7);l+=3*C;for(var S=G(M),P=(1<<S)-1,R=F(M,S,1),T=0;T<x;){var D=R[L(e,l,P)];l+=15&D;var j=D>>>4;if(j<16)w[T++]=j;else{var U=0,V=0;for(16==j?(V=3+L(e,l,3),l+=2,U=w[T-1]):17==j?(V=3+L(e,l,7),l+=3):18==j&&(V=11+L(e,l,127),l+=7);V--;)w[T++]=U}}var J=w.subarray(0,B),N=w.subarray(B);d=G(J),p=G(N),h=F(J,d,1),c=F(N,p,1)}else throw"invalid block type"}else{var j=H(l)+4,K=e[j-4]|e[j-3]<<8,W=j+K;if(W>r){if(s)throw"unexpected EOF";break}n&&a(u+K),t.set(e.subarray(j,W),u),i.b=u+=K,i.p=l=8*W;continue}if(l>m){if(s)throw"unexpected EOF";break}}n&&a(u+131072);for(var X=(1<<d)-1,Q=(1<<p)-1,Y=l;;Y=l){var U=h[k(e,l)&X],z=U>>>4;if((l+=15&U)>m){if(s)throw"unexpected EOF";break}if(!U)throw"invalid length/literal";if(z<256)t[u++]=z;else if(256==z){Y=l,h=null;break}else{var q=z-254;if(z>264){var T=z-257,Z=v[T];q=L(e,l,(1<<Z)-1)+b[T],l+=Z}var $=c[k(e,l)&Q],ee=$>>>4;if(!$)throw"invalid distance";l+=15&$;var N=E[ee];if(ee>3){var Z=A[ee];N+=k(e,l)&(1<<Z)-1,l+=Z}if(l>m){if(s)throw"unexpected EOF";break}n&&a(u+131072);for(var et=u+q;u<et;u+=4)t[u]=t[u-N],t[u+1]=t[u+1-N],t[u+2]=t[u+2-N],t[u+3]=t[u+3-N];u=et}}i.l=h,i.p=Y,i.b=u,h&&(o=1,i.m=d,i.d=c,i.n=p)}while(!o);return u==t.length?t:_(t,0,u)},U=function(e,t,i){i<<=7&t;var r=t/8|0;e[r]|=i,e[r+1]|=i>>>8},V=function(e,t,i){i<<=7&t;var r=t/8|0;e[r]|=i,e[r+1]|=i>>>8,e[r+2]|=i>>>16},J=function(e,t){for(var i=[],r=0;r<e.length;++r)e[r]&&i.push({s:r,f:e[r]});var n=i.length,s=i.slice();if(!n)return[z,0];if(1==n){var a=new f(i[0].s+1);return a[i[0].s]=1,[a,1]}i.sort(function(e,t){return e.f-t.f}),i.push({s:-1,f:25001});var o=i[0],l=i[1],u=0,h=1,c=2;for(i[0]={s:-1,f:o.f+l.f,l:o,r:l};h!=n-1;)o=i[i[u].f<i[c].f?u++:c++],l=i[u!=h&&i[u].f<i[c].f?u++:c++],i[h++]={s:-1,f:o.f+l.f,l:o,r:l};for(var d=s[0].s,r=1;r<n;++r)s[r].s>d&&(d=s[r].s);var p=new m(d+1),g=N(i[h-1],p,0);if(g>t){var r=0,v=0,A=g-t,y=1<<A;for(s.sort(function(e,t){return p[t.s]-p[e.s]||e.f-t.f});r<n;++r){var B=s[r].s;if(p[B]>t)v+=y-(1<<g-p[B]),p[B]=t;else break}for(v>>>=A;v>0;){var C=s[r].s;p[C]<t?v-=1<<t-p[C]++-1:++r}for(;r>=0&&v;--r){var b=s[r].s;p[b]==t&&(--p[b],++v)}g=t}return[new f(p),g]},N=function(e,t,i){return -1==e.s?Math.max(N(e.l,t,i+1),N(e.r,t,i+1)):t[e.s]=i},K=function(e){for(var t=e.length;t&&!e[--t];);for(var i=new m(++t),r=0,n=e[0],s=1,a=function(e){i[r++]=e},o=1;o<=t;++o)if(e[o]==n&&o!=t)++s;else{if(!n&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(n),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(n);s=1,n=e[o]}return[i.subarray(0,r),t]},W=function(e,t){for(var i=0,r=0;r<t.length;++r)i+=e[r]*t[r];return i},X=function(e,t,i){var r=i.length,n=H(t+2);e[n]=255&r,e[n+1]=r>>>8,e[n+2]=255^e[n],e[n+3]=255^e[n+1];for(var s=0;s<r;++s)e[n+s+4]=i[s];return(n+4+r)*8},Q=function(e,t,i,r,n,s,a,o,l,u,h){U(t,h++,i),++n[256];for(var c,d,p,f,g=J(n,15),B=g[0],C=g[1],b=J(s,15),x=b[0],w=b[1],E=K(B),M=E[0],T=E[1],S=K(x),P=S[0],I=S[1],O=new m(19),G=0;G<M.length;++G)O[31&M[G]]++;for(var G=0;G<P.length;++G)O[31&P[G]]++;for(var L=J(O,7),k=L[0],H=L[1],_=19;_>4&&!k[y[_-1]];--_);var j=u+5<<3,N=W(n,R)+W(s,D)+a,Q=W(n,B)+W(s,x)+a+14+3*_+W(O,k)+(2*O[16]+3*O[17]+7*O[18]);if(j<=N&&j<=Q)return X(t,h,e.subarray(l,l+u));if(U(t,h,1+(Q<N)),h+=2,Q<N){c=F(B,C,0),d=B,p=F(x,w,0),f=x;var Y=F(k,H,0);U(t,h,T-257),U(t,h+5,I-1),U(t,h+10,_-4),h+=14;for(var G=0;G<_;++G)U(t,h+3*G,k[y[G]]);h+=3*_;for(var z=[M,P],q=0;q<2;++q)for(var Z=z[q],G=0;G<Z.length;++G){var $=31&Z[G];U(t,h,Y[$]),h+=k[$],$>15&&(U(t,h,Z[G]>>>5&127),h+=Z[G]>>>12)}}else c=null,d=R,p=null,f=D;for(var G=0;G<o;++G)if(r[G]>255){var $=r[G]>>>18&31;V(t,h,c[$+257]),h+=d[$+257],$>7&&(U(t,h,r[G]>>>23&31),h+=v[$]);var ee=31&r[G];V(t,h,p[ee]),h+=f[ee],ee>3&&(V(t,h,r[G]>>>5&8191),h+=A[ee])}else V(t,h,c[r[G]]),h+=d[r[G]];return V(t,h,c[256]),h+d[256]},Y=new g([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),z=new f(0),q=function(e,t,i,r,n,s){var a=e.length,o=new f(r+a+5*(1+Math.ceil(a/7e3))+n),l=o.subarray(r,o.length-n),u=0;if(!t||a<8)for(var h=0;h<=a;h+=65535){var c=h+65535;c<a?u=X(l,u,e.subarray(h,c)):(l[h]=s,u=X(l,u,e.subarray(h,a)))}else{for(var d=Y[t-1],p=d>>>13,y=8191&d,B=(1<<i)-1,C=new m(32768),b=new m(B+1),w=Math.ceil(i/3),E=2*w,T=function(t){return(e[t]^e[t+1]<<w^e[t+2]<<E)&B},S=new g(25e3),P=new m(288),F=new m(32),R=0,D=0,h=0,I=0,O=0,G=0;h<a;++h){var L=T(h),k=32767&h,j=b[L];if(C[k]=j,b[L]=k,O<=h){var U=a-h;if((R>7e3||I>24576)&&U>423){u=Q(e,l,0,S,P,F,D,I,G,h-G,u),I=R=D=0,G=h;for(var V=0;V<286;++V)P[V]=0;for(var V=0;V<30;++V)F[V]=0}var J=2,N=0,K=y,W=k-j&32767;if(U>2&&L==T(h-W))for(var q=Math.min(p,U)-1,Z=Math.min(32767,h),$=Math.min(258,U);W<=Z&&--K&&k!=j;){if(e[h+J]==e[h+J-W]){for(var ee=0;ee<$&&e[h+ee]==e[h+ee-W];++ee);if(ee>J){if(J=ee,N=W,ee>q)break;for(var et=Math.min(W,ee-2),ei=0,V=0;V<et;++V){var er=h-W+V+32768&32767,en=C[er],es=er-en+32768&32767;es>ei&&(ei=es,j=er)}}}j=C[k=j],W+=k-j+32768&32767}if(N){S[I++]=0x10000000|x[J]<<18|M[N];var ea=31&x[J],eo=31&M[N];D+=v[ea]+A[eo],++P[257+ea],++F[eo],O=h+J,++R}else S[I++]=e[h],++P[e[h]]}}u=Q(e,l,s,S,P,F,D,I,G,h-G,u),!s&&7&u&&(u=X(l,u+1,z))}return _(o,0,r+H(u)+n)},Z=function(){var e=-1;return{p:function(t){for(var i=e,r=0;r<t.length;++r)i=null[255&i^t[r]]^i>>>8;e=i},d:function(){return~e}}},$=function(){var e=1,t=0;return{p:function(i){for(var r=e,n=t,s=i.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)n+=r+=i[a];r=(65535&r)+15*(r>>16),n=(65535&n)+15*(n>>16)}e=r,t=n},d:function(){return e%=65521,t%=65521,(255&e)<<24|e>>>8<<16|(255&t)<<8|t>>>8}}},ee=function(e,t,i,r,n){return q(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,i,r,!n)},et=function(e,t){var i={};for(var r in e)i[r]=e[r];for(var r in t)i[r]=t[r];return i},ei=function(e,t,i){for(var r=e(),n=e.toString(),s=n.slice(n.indexOf("[")+1,n.lastIndexOf("]")).replace(/ /g,"").split(","),a=0;a<r.length;++a){var o=r[a],l=s[a];if("function"==typeof o){t+=";"+l+"=";var u=o.toString();if(o.prototype){if(-1!=u.indexOf("[native code]")){var h=u.indexOf(" ",8)+1;t+=u.slice(h,u.indexOf("(",h))}else for(var c in t+=u,o.prototype)t+=";"+l+".prototype."+c+"="+o.prototype[c].toString()}else t+=u}else i[l]=o}return[t,i]},er=function(e){var t=[];for(var i in e)(e[i]instanceof f||e[i]instanceof m||e[i]instanceof g)&&t.push((e[i]=new e[i].constructor(e[i])).buffer);return t},en=function(e,t,i,r){if(!null[i]){for(var n,s="",a={},o=e.length-1,l=0;l<o;++l)s=(n=ei(e[l],s,a))[0],a=n[1];null[i]=ei(e[o],s,a)}var u=et({},null[i][1]);return p(null[i][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+t.toString()+"}",i,u,er(u),r)},es=function(){return[f,m,g,v,A,y,b,E,I,O,T,F,G,L,k,H,_,j,eB,ea,eo]},ea=function(e){return postMessage(e,[e.buffer])},eo=function(e){return e&&e.size&&new f(e.size)},el=function(e,t,i,r,n,s){var a=en(i,r,n,function(e,t){a.terminate(),s(e,t)});return a.postMessage([e,t],t.consume?[e.buffer]:[]),function(){a.terminate()}},eu=function(e,t){return e[t]|e[t+1]<<8},eh=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0},ec=function(e,t){return eh(e,t)+0x100000000*eh(e,t+4)},ed=function(e,t,i){for(;i;++t)e[t]=i,i>>>=8},ep=function(e,t){var i=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:2*(9==t.level),e[9]=3,0!=t.mtime&&ed(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),i){e[3]=8;for(var r=0;r<=i.length;++r)e[r+10]=i.charCodeAt(r)}},ef=function(e){if(31!=e[0]||139!=e[1]||8!=e[2])throw"invalid gzip data";var t=e[3],i=10;4&t&&(i+=e[10]|(e[11]<<8)+2);for(var r=(t>>3&1)+(t>>4&1);r>0;r-=!e[i++]);return i+(2&t)},em=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0},eg=function(e){return 10+(e.filename&&e.filename.length+1||0)},ev=function(e,t){var i=t.level,r=0==i?0:i<6?1:9==i?3:2;e[0]=120,e[1]=r<<6|(r?32-2*r:1)},eA=function(e){if((15&e[0])!=8||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(32&e[1])throw"invalid zlib data: preset dictionaries not supported"};function ey(e,t){return ee(e,t||{},0,0)}function eB(e,t){return j(e,t)}function eC(e,t){return j((eA(e),e.subarray(2,-4)),t)}var eb="undefined"!=typeof TextEncoder&&new TextEncoder,ex="undefined"!=typeof TextDecoder&&new TextDecoder;try{ex.decode(z,{stream:!0})}catch(e){}var ew=function(e){for(var t="",i=0;;){var r=e[i++],n=(r>127)+(r>223)+(r>239);if(i+n>e.length)return[t,_(e,i-1)];n?3==n?t+=String.fromCharCode(55296|(r=((15&r)<<18|(63&e[i++])<<12|(63&e[i++])<<6|63&e[i++])-65536)>>10,56320|1023&r):1&n?t+=String.fromCharCode((31&r)<<6|63&e[i++]):t+=String.fromCharCode((15&r)<<12|(63&e[i++])<<6|63&e[i++]):t+=String.fromCharCode(r)}},eE=function(e,t){for(;1!=eu(e,t);t+=4+eu(e,t+2));return[ec(e,t+12),ec(e,t+4),ec(e,t+20)]},eM=function(e){var t=0;if(e)for(var i in e){var r=e[i].length;if(r>65535)throw"extra field too long";t+=r+4}return t};let eT=l.r>=152;class eS extends o.BRH{constructor(e){super(e),this.type=o.ix0}parse(e){let t={l:0,c:0,lc:0};function i(e,i,r,n,s){for(;r<e;)i=i<<8|M(n,s),r+=8;t.l=i>>(r-=e)&(1<<e)-1,t.c=i,t.lc=r}let r=Array(59),n={c:0,lc:0};function s(e,t,i,r){e=e<<8|M(i,r),t+=8,n.c=e,n.lc=t}let a={c:0,lc:0};function l(e,t,i,r,o,l,u,h,c,d){if(e==t){r<8&&(s(i,r,o,u),i=n.c,r=n.lc);var p=i>>(r-=8),p=new Uint8Array([p])[0];if(c.value+p>d)return!1;for(var f=h[c.value-1];p-- >0;)h[c.value++]=f}else{if(!(c.value<d))return!1;h[c.value++]=e}a.c=i,a.lc=r}function u(e){var t=65535&e;return t>32767?t-65536:t}let h={a:0,b:0};function c(e,t){var i=u(e),r=u(t),n=i+(1&r)+(r>>1),s=n-r;h.a=n,h.b=s}function d(e,t){var i=65535&t,r=(65535&e)-(i>>1)&65535;h.a=i+r-32768&65535,h.b=r}function p(e,o,u,h,c,d){var p=u.value,f=E(o,u),m=E(o,u);u.value+=4;var g=E(o,u);if(u.value+=4,f<0||f>=65537||m<0||m>=65537)throw"Something wrong with HUF_ENCSIZE";var v=Array(65537),A=Array(16384);!function(e){for(var t=0;t<16384;t++)e[t]={},e[t].len=0,e[t].lit=0,e[t].p=null}(A);var y=h-(u.value-p);if(!function(e,n,s,a,o,l,u){for(var h=0,c=0;o<=l;o++){if(s.value-s.value>a)return!1;i(6,h,c,e,s);var d=t.l;if(h=t.c,c=t.lc,u[o]=d,63==d){if(s.value-s.value>a)throw"Something wrong with hufUnpackEncTable";i(8,h,c,e,s);var p=t.l+6;if(h=t.c,c=t.lc,o+p>l+1)throw"Something wrong with hufUnpackEncTable";for(;p--;)u[o++]=0;o--}else if(d>=59){var p=d-59+2;if(o+p>l+1)throw"Something wrong with hufUnpackEncTable";for(;p--;)u[o++]=0;o--}}!function(e){for(var t=0;t<=58;++t)r[t]=0;for(var t=0;t<65537;++t)r[e[t]]+=1;for(var i=0,t=58;t>0;--t){var n=i+r[t]>>1;r[t]=i,i=n}for(var t=0;t<65537;++t){var s=e[t];s>0&&(e[t]=s|r[s]++<<6)}}(u)}(e,0,u,y,f,m,v),g>8*(h-(u.value-p)))throw"Something wrong with hufUncompress";!function(e,t,i,r){for(;t<=i;t++){var n=e[t]>>6,s=63&e[t];if(n>>s)throw"Invalid table entry";if(s>14){var a=r[n>>s-14];if(a.len)throw"Invalid table entry";if(a.lit++,a.p){var o=a.p;a.p=Array(a.lit);for(var l=0;l<a.lit-1;++l)a.p[l]=o[l]}else a.p=[,];a.p[a.lit-1]=t}else if(s)for(var u=0,l=1<<14-s;l>0;l--){var a=r[(n<<14-s)+u];if(a.len||a.p)throw"Invalid table entry";a.len=s,a.lit=t,u++}}}(v,f,m,A),function(e,t,i,r,o,u,h,c,d,p){for(var f=0,m=0,g=Math.trunc(o.value+(u+7)/8);o.value<g;)for(s(f,m,i,o),f=n.c,m=n.lc;m>=14;){var v=t[f>>m-14&16383];if(v.len)m-=v.len,l(v.lit,h,f,m,i,r,o,d,p,c),f=a.c,m=a.lc;else{if(!v.p)throw"hufDecode issues";for(A=0;A<v.lit;A++){for(var A,y=63&e[v.p[A]];m<y&&o.value<g;)s(f,m,i,o),f=n.c,m=n.lc;if(m>=y&&e[v.p[A]]>>6==(f>>m-y&(1<<y)-1)){m-=y,l(v.p[A],h,f,m,i,r,o,d,p,c),f=a.c,m=a.lc;break}}if(A==v.lit)throw"hufDecode issues"}}var B=8-u&7;for(f>>=B,m-=B;m>0;){var v=t[f<<14-m&16383];if(v.len)m-=v.len,l(v.lit,h,f,m,i,r,o,d,p,c),f=a.c,m=a.lc;else throw"hufDecode issues"}}(v,A,e,o,u,g,m,d,c,{value:0})}function f(e){for(var t=1;t<e.length;t++){var i=e[t-1]+e[t]-128;e[t]=i}}function m(e,t){for(var i=0,r=Math.floor((e.length+1)/2),n=0,s=e.length-1;!(n>s)&&(t[n++]=e[i++],!(n>s));){t[n++]=e[r++]}}function g(e){for(var t=e.byteLength,i=[],r=0,n=new DataView(e);t>0;){var s=n.getInt8(r++);if(s<0){var a=-s;t-=a+1;for(var o=0;o<a;o++)i.push(n.getUint8(r++))}else{var a=s;t-=2;for(var l=n.getUint8(r++),o=0;o<a+1;o++)i.push(l)}}return i}function v(e){return new DataView(e.array.buffer,e.offset.value,e.size)}function A(e){var t=new Uint8Array(g(e.viewer.buffer.slice(e.offset.value,e.offset.value+e.size))),i=new Uint8Array(t.length);return f(t),m(t,i),new DataView(i.buffer)}function y(e){var t=eC(e.array.slice(e.offset.value,e.offset.value+e.size)),i=new Uint8Array(t.length);return f(t),m(t,i),new DataView(i.buffer)}function B(e){for(var t=e.viewer,i={value:e.offset.value},r=new Uint16Array(e.width*e.scanlineBlockSize*(e.channels*e.type)),n=new Uint8Array(8192),s=0,a=Array(e.channels),o=0;o<e.channels;o++)a[o]={},a[o].start=s,a[o].end=a[o].start,a[o].nx=e.width,a[o].ny=e.lines,a[o].size=e.type,s+=a[o].nx*a[o].ny*a[o].size;var l=D(t,i),u=D(t,i);if(u>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(l<=u)for(var o=0;o<u-l+1;o++)n[o+l]=T(t,i);var f=new Uint16Array(65536),m=function(e,t){for(var i=0,r=0;r<65536;++r)(0==r||e[r>>3]&1<<(7&r))&&(t[i++]=r);for(var n=i-1;i<65536;)t[i++]=0;return n}(n,f),g=E(t,i);p(e.array,t,i,g,r,s);for(var o=0;o<e.channels;++o)for(var v=a[o],A=0;A<a[o].size;++A)!function(e,t,i,r,n,s,a){for(var o=a<16384,l=i>n?n:i,u=1;u<=l;)u<<=1;for(u>>=1,p=u,u>>=1;u>=1;){for(var p,f,m,g,v,A=0,y=0+s*(n-p),B=s*u,C=s*p,b=r*u,x=r*p;A<=y;A+=C){for(var w=A,E=A+r*(i-p);w<=E;w+=x){var M=w+b,T=w+B,S=T+b;o?(c(e[w+t],e[T+t]),f=h.a,g=h.b,c(e[M+t],e[S+t]),m=h.a,v=h.b,c(f,m),e[w+t]=h.a,e[M+t]=h.b,c(g,v)):(d(e[w+t],e[T+t]),f=h.a,g=h.b,d(e[M+t],e[S+t]),m=h.a,v=h.b,d(f,m),e[w+t]=h.a,e[M+t]=h.b,d(g,v)),e[T+t]=h.a,e[S+t]=h.b}if(i&u){var T=w+B;o?c(e[w+t],e[T+t]):d(e[w+t],e[T+t]),f=h.a,e[T+t]=h.b,e[w+t]=f}}if(n&u)for(var w=A,E=A+r*(i-p);w<=E;w+=x){var M=w+b;o?c(e[w+t],e[M+t]):d(e[w+t],e[M+t]),f=h.a,e[M+t]=h.b,e[w+t]=f}p=u,u>>=1}}(r,v.start+A,v.nx,v.size,v.ny,v.nx*v.size,m);!function(e,t,i){for(var r=0;r<i;++r)t[r]=e[t[r]]}(f,r,s);for(var y=0,B=new Uint8Array(r.buffer.byteLength),C=0;C<e.lines;C++)for(var b=0;b<e.channels;b++){var v=a[b],x=v.nx*v.size,w=new Uint8Array(r.buffer,2*v.end,2*x);B.set(w,y),y+=2*x,v.end+=x}return new DataView(B.buffer)}function C(e){var t=eC(e.array.slice(e.offset.value,e.offset.value+e.size));let i=e.lines*e.channels*e.width,r=1==e.type?new Uint16Array(i):new Uint32Array(i),n=0,s=0,a=[,,,,];for(let i=0;i<e.lines;i++)for(let i=0;i<e.channels;i++){let i=0;switch(e.type){case 1:a[0]=n,a[1]=a[0]+e.width,n=a[1]+e.width;for(let n=0;n<e.width;++n)i+=t[a[0]++]<<8|t[a[1]++],r[s]=i,s++;break;case 2:a[0]=n,a[1]=a[0]+e.width,a[2]=a[1]+e.width,n=a[2]+e.width;for(let n=0;n<e.width;++n)i+=t[a[0]++]<<24|t[a[1]++]<<16|t[a[2]++]<<8,r[s]=i,s++}}return new DataView(r.buffer)}function b(e){var t=e.viewer,i={value:e.offset.value},r=new Uint8Array(e.width*e.lines*(e.channels*e.type*2)),n={version:S(t,i),unknownUncompressedSize:S(t,i),unknownCompressedSize:S(t,i),acCompressedSize:S(t,i),dcCompressedSize:S(t,i),rleCompressedSize:S(t,i),rleUncompressedSize:S(t,i),rleRawSize:S(t,i),totalAcUncompressedCount:S(t,i),totalDcUncompressedCount:S(t,i),acCompression:S(t,i)};if(n.version<2)throw"EXRLoader.parse: "+k.compression+" version "+n.version+" is unsupported";for(var s=[],a=D(t,i)-2;a>0;){var l=x(t.buffer,i),u=T(t,i),h=u>>2&3,c=new Int8Array([(u>>4)-1])[0],d=T(t,i);s.push({name:l,index:c,type:d,compression:h}),a-=l.length+3}for(var f=k.channels,m=Array(e.channels),v=0;v<e.channels;++v){var A=m[v]={},B=f[v];A.name=B.name,A.compression=0,A.decoded=!1,A.type=B.pixelType,A.pLinear=B.pLinear,A.width=e.width,A.height=e.lines}for(var C={idx:[,,,]},b=0;b<e.channels;++b)for(var A=m[b],v=0;v<s.length;++v){var w=s[v];A.name==w.name&&(A.compression=w.compression,w.index>=0&&(C.idx[w.index]=b),A.offset=b)}if(n.acCompressedSize>0)switch(n.acCompression){case 0:var E=new Uint16Array(n.totalAcUncompressedCount);p(e.array,t,i,n.acCompressedSize,E,n.totalAcUncompressedCount);break;case 1:var M=e.array.slice(i.value,i.value+n.totalAcUncompressedCount),P=eC(M),E=new Uint16Array(P.buffer);i.value+=n.totalAcUncompressedCount}if(n.dcCompressedSize>0){var F=new Uint16Array(y({array:e.array,offset:i,size:n.dcCompressedSize}).buffer);i.value+=n.dcCompressedSize}if(n.rleRawSize>0){var M=e.array.slice(i.value,i.value+n.rleCompressedSize),P=eC(M),I=g(P.buffer);i.value+=n.rleCompressedSize}for(var O=0,G=Array(m.length),v=0;v<G.length;++v)G[v]=[];for(var L=0;L<e.lines;++L)for(var H=0;H<m.length;++H)G[H].push(O),O+=m[H].width*e.type*2;!function(e,t,i,r,n,s){var a=new DataView(s.buffer),l=i[e.idx[0]].width,u=i[e.idx[0]].height,h=Math.floor(l/8),c=Math.ceil(l/8),d=Math.ceil(u/8),p=l-(c-1)*8,f=u-(d-1)*8,m={value:0},g=[,,,],v=[,,,],A=[,,,],y=[,,,],B=[,,,];for(let i=0;i<3;++i)B[i]=t[e.idx[i]],g[i]=i<1?0:g[i-1]+c*d,v[i]=new Float32Array(64),A[i]=new Uint16Array(64),y[i]=new Uint16Array(64*c);for(let t=0;t<d;++t){var C,b,x=8;t==d-1&&(x=f);var w=8;for(let e=0;e<c;++e){e==c-1&&(w=p);for(let e=0;e<3;++e){A[e].fill(0),A[e][0]=n[g[e]++],function(e,t,i){for(var r,n=1;n<64;)65280==(r=t[e.value])?n=64:r>>8==255?n+=255&r:(i[n]=r,n++),e.value++}(m,r,A[e]),C=A[e],(b=v[e])[0]=R(C[0]),b[1]=R(C[1]),b[2]=R(C[5]),b[3]=R(C[6]),b[4]=R(C[14]),b[5]=R(C[15]),b[6]=R(C[27]),b[7]=R(C[28]),b[8]=R(C[2]),b[9]=R(C[4]),b[10]=R(C[7]),b[11]=R(C[13]),b[12]=R(C[16]),b[13]=R(C[26]),b[14]=R(C[29]),b[15]=R(C[42]),b[16]=R(C[3]),b[17]=R(C[8]),b[18]=R(C[12]),b[19]=R(C[17]),b[20]=R(C[25]),b[21]=R(C[30]),b[22]=R(C[41]),b[23]=R(C[43]),b[24]=R(C[9]),b[25]=R(C[11]),b[26]=R(C[18]),b[27]=R(C[24]),b[28]=R(C[31]),b[29]=R(C[40]),b[30]=R(C[44]),b[31]=R(C[53]),b[32]=R(C[10]),b[33]=R(C[19]),b[34]=R(C[23]),b[35]=R(C[32]),b[36]=R(C[39]),b[37]=R(C[45]),b[38]=R(C[52]),b[39]=R(C[54]),b[40]=R(C[20]),b[41]=R(C[22]),b[42]=R(C[33]),b[43]=R(C[38]),b[44]=R(C[46]),b[45]=R(C[51]),b[46]=R(C[55]),b[47]=R(C[60]),b[48]=R(C[21]),b[49]=R(C[34]),b[50]=R(C[37]),b[51]=R(C[47]),b[52]=R(C[50]),b[53]=R(C[56]),b[54]=R(C[59]),b[55]=R(C[61]),b[56]=R(C[35]),b[57]=R(C[36]),b[58]=R(C[48]),b[59]=R(C[49]),b[60]=R(C[57]),b[61]=R(C[58]),b[62]=R(C[62]),b[63]=R(C[63]),function(e){let t=.5*Math.cos(3.14159/16),i=.5*Math.cos(3.14159/8),r=.5*Math.cos(3*3.14159/16),n=.5*Math.cos(3*3.14159/8);for(var s=[,,,,],a=[,,,,],o=[,,,,],l=[,,,,],u=0;u<8;++u){var h=8*u;s[0]=i*e[h+2],s[1]=n*e[h+2],s[2]=i*e[h+6],s[3]=n*e[h+6],a[0]=t*e[h+1]+r*e[h+3]+.2777854612564676*e[h+5]+.09754573032714427*e[h+7],a[1]=r*e[h+1]-.09754573032714427*e[h+3]-t*e[h+5]-.2777854612564676*e[h+7],a[2]=.2777854612564676*e[h+1]-t*e[h+3]+.09754573032714427*e[h+5]+r*e[h+7],a[3]=.09754573032714427*e[h+1]-.2777854612564676*e[h+3]+r*e[h+5]-t*e[h+7],o[0]=.35355362513961314*(e[h+0]+e[h+4]),o[3]=.35355362513961314*(e[h+0]-e[h+4]),o[1]=s[0]+s[3],o[2]=s[1]-s[2],l[0]=o[0]+o[1],l[1]=o[3]+o[2],l[2]=o[3]-o[2],l[3]=o[0]-o[1],e[h+0]=l[0]+a[0],e[h+1]=l[1]+a[1],e[h+2]=l[2]+a[2],e[h+3]=l[3]+a[3],e[h+4]=l[3]-a[3],e[h+5]=l[2]-a[2],e[h+6]=l[1]-a[1],e[h+7]=l[0]-a[0]}for(var c=0;c<8;++c)s[0]=i*e[16+c],s[1]=n*e[16+c],s[2]=i*e[48+c],s[3]=n*e[48+c],a[0]=t*e[8+c]+r*e[24+c]+.2777854612564676*e[40+c]+.09754573032714427*e[56+c],a[1]=r*e[8+c]-.09754573032714427*e[24+c]-t*e[40+c]-.2777854612564676*e[56+c],a[2]=.2777854612564676*e[8+c]-t*e[24+c]+.09754573032714427*e[40+c]+r*e[56+c],a[3]=.09754573032714427*e[8+c]-.2777854612564676*e[24+c]+r*e[40+c]-t*e[56+c],o[0]=.35355362513961314*(e[c]+e[32+c]),o[3]=.35355362513961314*(e[c]-e[32+c]),o[1]=s[0]+s[3],o[2]=s[1]-s[2],l[0]=o[0]+o[1],l[1]=o[3]+o[2],l[2]=o[3]-o[2],l[3]=o[0]-o[1],e[0+c]=l[0]+a[0],e[8+c]=l[1]+a[1],e[16+c]=l[2]+a[2],e[24+c]=l[3]+a[3],e[32+c]=l[3]-a[3],e[40+c]=l[2]-a[2],e[48+c]=l[1]-a[1],e[56+c]=l[0]-a[0]}(v[e])}!function(e){for(var t=0;t<64;++t){var i=e[0][t],r=e[1][t],n=e[2][t];e[0][t]=i+1.5747*n,e[1][t]=i-.1873*r-.4682*n,e[2][t]=i+1.8556*r}}(v);for(let t=0;t<3;++t)!function(e,t,i){for(var r,n=0;n<64;++n){t[i+n]=o.GxU.toHalfFloat((r=e[n])<=1?Math.sign(r)*Math.pow(Math.abs(r),2.2):Math.sign(r)*Math.pow(9.025013291561939,Math.abs(r)-1))}}(v[t],y[t],64*e)}let s=0;for(let r=0;r<3;++r){let n=i[e.idx[r]].type;for(let e=8*t;e<8*t+x;++e){s=B[r][e];for(let t=0;t<h;++t){let i=64*t+(7&e)*8;a.setUint16(s+0*n,y[r][i+0],!0),a.setUint16(s+2*n,y[r][i+1],!0),a.setUint16(s+4*n,y[r][i+2],!0),a.setUint16(s+6*n,y[r][i+3],!0),a.setUint16(s+8*n,y[r][i+4],!0),a.setUint16(s+10*n,y[r][i+5],!0),a.setUint16(s+12*n,y[r][i+6],!0),a.setUint16(s+14*n,y[r][i+7],!0),s+=16*n}}if(h!=c)for(let e=8*t;e<8*t+x;++e){let t=B[r][e]+8*h*2*n,i=64*h+(7&e)*8;for(let e=0;e<w;++e)a.setUint16(t+2*e*n,y[r][i+e],!0)}}}for(var E=new Uint16Array(l),a=new DataView(s.buffer),M=0;M<3;++M){i[e.idx[M]].decoded=!0;var T=i[e.idx[M]].type;if(2==i[M].type)for(var S=0;S<u;++S){let e=B[M][S];for(var P=0;P<l;++P)E[P]=a.getUint16(e+2*P*T,!0);for(var P=0;P<l;++P)a.setFloat32(e+2*P*T,R(E[P]),!0)}}}(C,G,m,E,F,r);for(var v=0;v<m.length;++v){var A=m[v];if(!A.decoded){if(2===A.compression)for(var _=0,j=0,L=0;L<e.lines;++L){for(var U=G[v][_],V=0;V<A.width;++V){for(var J=0;J<2*A.type;++J)r[U++]=I[j+J*A.width*A.height];j++}_++}else throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(r.buffer)}function x(e,t){for(var i=new Uint8Array(e),r=0;0!=i[t.value+r];)r+=1;var n=new TextDecoder().decode(i.slice(t.value,t.value+r));return t.value=t.value+r+1,n}function w(e,t){var i=e.getInt32(t.value,!0);return t.value=t.value+4,i}function E(e,t){var i=e.getUint32(t.value,!0);return t.value=t.value+4,i}function M(e,t){var i=e[t.value];return t.value=t.value+1,i}function T(e,t){var i=e.getUint8(t.value);return t.value=t.value+1,i}let S=function(e,t){let i;return i="getBigInt64"in DataView.prototype?Number(e.getBigInt64(t.value,!0)):e.getUint32(t.value+4,!0)+Number(e.getUint32(t.value,!0)<<32),t.value+=8,i};function P(e,t){var i=e.getFloat32(t.value,!0);return t.value+=4,i}function F(e,t){return o.GxU.toHalfFloat(P(e,t))}function R(e){var t=(31744&e)>>10,i=1023&e;return(e>>15?-1:1)*(t?31===t?i?NaN:1/0:Math.pow(2,t-15)*(1+i/1024):i/1024*6103515625e-14)}function D(e,t){var i=e.getUint16(t.value,!0);return t.value+=2,i}function I(e,t){return R(D(e,t))}let O=new DataView(e),G=new Uint8Array(e),L={value:0},k=function(e,t,i){let r={};if(0x1312f76!=e.getUint32(0,!0))throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";r.version=e.getUint8(4);let n=e.getUint8(5);r.spec={singleTile:!!(2&n),longName:!!(4&n),deepFormat:!!(8&n),multiPart:!!(16&n)},i.value=8;for(var s=!0;s;){var a=x(t,i);if(0==a)s=!1;else{var o=x(t,i),l=E(e,i),u=function(e,t,i,r,n){var s,a,o,l,u,h,c;if("string"===r||"stringvector"===r||"iccProfile"===r)return s=new TextDecoder().decode(new Uint8Array(t).slice(i.value,i.value+n)),i.value=i.value+n,s;if("chlist"===r)return function(e,t,i,r){for(var n=i.value,s=[];i.value<n+r-1;){var a=x(t,i),o=w(e,i),l=T(e,i);i.value+=3;var u=w(e,i),h=w(e,i);s.push({name:a,pixelType:o,pLinear:l,xSampling:u,ySampling:h})}return i.value+=1,s}(e,t,i,n);if("chromaticities"===r)return a=P(e,i),o=P(e,i),l=P(e,i),u=P(e,i),h=P(e,i),{redX:a,redY:o,greenX:l,greenY:u,blueX:h,blueY:P(e,i),whiteX:P(e,i),whiteY:P(e,i)};if("compression"===r)return["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"][T(e,i)];if("box2i"===r)return c=E(e,i),{xMin:c,yMin:E(e,i),xMax:E(e,i),yMax:E(e,i)};else if("lineOrder"===r)return["INCREASING_Y"][T(e,i)];else if("float"===r)return P(e,i);else if("v2f"===r)return[P(e,i),P(e,i)];else if("v3f"===r)return[P(e,i),P(e,i),P(e,i)];else if("int"===r)return w(e,i);else if("rational"===r)return[w(e,i),E(e,i)];else if("timecode"===r)return[E(e,i),E(e,i)];else return"preview"===r?(i.value+=n,"skipped"):(i.value+=n,void 0)}(e,t,i,o,l);void 0===u?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${o}'.`):r[a]=u}}if((-5&n)!=0)throw console.error("EXRHeader:",r),"THREE.EXRLoader: provided file is currently unsupported.";return r}(O,e,L),H=function(e,t,i,r,n){let s={size:0,viewer:t,array:i,offset:r,width:e.dataWindow.xMax-e.dataWindow.xMin+1,height:e.dataWindow.yMax-e.dataWindow.yMin+1,channels:e.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:e.channels[0].pixelType,uncompress:null,getter:null,format:null,[eT?"colorSpace":"encoding"]:null};switch(e.compression){case"NO_COMPRESSION":s.lines=1,s.uncompress=v;break;case"RLE_COMPRESSION":s.lines=1,s.uncompress=A;break;case"ZIPS_COMPRESSION":s.lines=1,s.uncompress=y;break;case"ZIP_COMPRESSION":s.lines=16,s.uncompress=y;break;case"PIZ_COMPRESSION":s.lines=32,s.uncompress=B;break;case"PXR24_COMPRESSION":s.lines=16,s.uncompress=C;break;case"DWAA_COMPRESSION":s.lines=32,s.uncompress=b;break;case"DWAB_COMPRESSION":s.lines=256,s.uncompress=b;break;default:throw"EXRLoader.parse: "+e.compression+" is unsupported"}if(s.scanlineBlockSize=s.lines,1==s.type)switch(n){case o.RQf:s.getter=I,s.inputSize=2;break;case o.ix0:s.getter=D,s.inputSize=2}else if(2==s.type)switch(n){case o.RQf:s.getter=P,s.inputSize=4;break;case o.ix0:s.getter=F,s.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+s.type+" for "+e.compression+".";s.blockCount=(e.dataWindow.yMax+1)/s.scanlineBlockSize;for(var a=0;a<s.blockCount;a++)S(t,r);s.outputChannels=3==s.channels?4:s.channels;let l=s.width*s.height*s.outputChannels;switch(n){case o.RQf:s.byteArray=new Float32Array(l),s.channels<s.outputChannels&&s.byteArray.fill(1,0,l);break;case o.ix0:s.byteArray=new Uint16Array(l),s.channels<s.outputChannels&&s.byteArray.fill(15360,0,l);break;default:console.error("THREE.EXRLoader: unsupported type: ",n)}return s.bytesPerLine=s.width*s.inputSize*s.channels,4==s.outputChannels?s.format=o.GWd:s.format=o.VT0,eT?s.colorSpace="srgb-linear":s.encoding=3e3,s}(k,O,G,L,this.type),_={value:0},j={R:0,G:1,B:2,A:3,Y:0};for(let e=0;e<H.height/H.scanlineBlockSize;e++){let t=E(O,L);H.size=E(O,L),H.lines=t+H.scanlineBlockSize>H.height?H.height-t:H.scanlineBlockSize;let i=H.size<H.lines*H.bytesPerLine?H.uncompress(H):v(H);L.value+=H.size;for(let t=0;t<H.scanlineBlockSize;t++){let r=t+e*H.scanlineBlockSize;if(r>=H.height)break;for(let e=0;e<H.channels;e++){let n=j[k.channels[e].name];for(let s=0;s<H.width;s++){_.value=(t*(H.channels*H.width)+e*H.width+s)*H.inputSize;let a=(H.height-1-r)*(H.width*H.outputChannels)+s*H.outputChannels+n;H.byteArray[a]=H.getter(i,_)}}}}return{header:k,width:H.width,height:H.height,data:H.byteArray,format:H.format,[eT?"colorSpace":"encoding"]:H[eT?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,i,r){return super.load(e,function(e,i){eT?e.colorSpace=i.colorSpace:e.encoding=i.encoding,e.minFilter=o.k6q,e.magFilter=o.k6q,e.generateMipmaps=!1,e.flipY=!1,t&&t(e,i)},i,r)}}var eP=i(7431);let eF=(e,t,i)=>{let r;switch(e){case o.OUM:r=new Uint8ClampedArray(t*i*4);break;case o.ix0:r=new Uint16Array(t*i*4);break;case o.bkx:r=new Uint32Array(t*i*4);break;case o.tJf:r=new Int8Array(t*i*4);break;case o.fBL:r=new Int16Array(t*i*4);break;case o.Yuy:r=new Int32Array(t*i*4);break;case o.RQf:r=new Float32Array(t*i*4);break;default:throw Error("Unsupported data type")}return r},eR=(e,t,i,n)=>{if(void 0!==r)return r;let s=new o.nWS(1,1,n);t.setRenderTarget(s);let a=new o.eaF(new o.bdM,new o.V9B({color:0xffffff}));t.render(a,i),t.setRenderTarget(null);let l=eF(e,s.width,s.height);return t.readRenderTargetPixels(s,0,0,s.width,s.height,l),s.dispose(),a.geometry.dispose(),a.material.dispose(),r=0!==l[0]};class eD{constructor(e){var t,i,r,n,s,a,l,u,h,c,d,p,f,m,g,v;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(e){throw this._renderer.setRenderTarget(null),e}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;let A={format:o.GWd,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:(null===(t=e.renderTargetOptions)||void 0===t?void 0:t.anisotropy)!==void 0?null===(i=e.renderTargetOptions)||void 0===i?void 0:i.anisotropy:1,generateMipmaps:(null===(r=e.renderTargetOptions)||void 0===r?void 0:r.generateMipmaps)!==void 0&&(null===(n=e.renderTargetOptions)||void 0===n?void 0:n.generateMipmaps),magFilter:(null===(s=e.renderTargetOptions)||void 0===s?void 0:s.magFilter)!==void 0?null===(a=e.renderTargetOptions)||void 0===a?void 0:a.magFilter:o.k6q,minFilter:(null===(l=e.renderTargetOptions)||void 0===l?void 0:l.minFilter)!==void 0?null===(u=e.renderTargetOptions)||void 0===u?void 0:u.minFilter:o.k6q,samples:(null===(h=e.renderTargetOptions)||void 0===h?void 0:h.samples)!==void 0?null===(c=e.renderTargetOptions)||void 0===c?void 0:c.samples:void 0,wrapS:(null===(d=e.renderTargetOptions)||void 0===d?void 0:d.wrapS)!==void 0?null===(p=e.renderTargetOptions)||void 0===p?void 0:p.wrapS:o.ghU,wrapT:(null===(f=e.renderTargetOptions)||void 0===f?void 0:f.wrapT)!==void 0?null===(m=e.renderTargetOptions)||void 0===m?void 0:m.wrapT:o.ghU};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=eD.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new o.Z58,this._camera=new o.qUd,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!eR(this._type,this._renderer,this._camera,A)){let e;this._type===o.ix0&&(e=this._renderer.extensions.has("EXT_color_buffer_float")?o.RQf:void 0),void 0!==e?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${o.RQf}`),this._type=e):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new o.eaF(new o.bdM,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new o.nWS(this.width,this.height,A),this._renderTarget.texture.mapping=(null===(g=e.renderTargetOptions)||void 0===g?void 0:g.mapping)!==void 0?null===(v=e.renderTargetOptions)||void 0===v?void 0:v.mapping:o.UTZ}static instantiateRenderer(){let e=new eP.WebGLRenderer;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw Error("Can't read pixels in this browser");let e=eF(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){let t=new o.GYF(this.toArray(),this.width,this.height,o.GWd,this._type,(null==e?void 0:e.mapping)||o.UTZ,(null==e?void 0:e.wrapS)||o.ghU,(null==e?void 0:e.wrapT)||o.ghU,(null==e?void 0:e.magFilter)||o.k6q,(null==e?void 0:e.minFilter)||o.k6q,(null==e?void 0:e.anisotropy)||1,o.Zr2);return t.generateMipmaps=(null==e?void 0:e.generateMipmaps)!==void 0&&(null==e?void 0:e.generateMipmaps),t}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof o.BKk&&Object.values(this.material.uniforms).forEach(e=>{e.value instanceof o.gPd&&e.value.dispose()}),Object.values(this.material).forEach(e=>{e instanceof o.gPd&&e.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}let eI=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,eO=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class eG extends o.BKk{constructor({gamma:e,offsetHdr:t,offsetSdr:i,gainMapMin:r,gainMapMax:n,maxDisplayBoost:s,hdrCapacityMin:a,hdrCapacityMax:l,sdr:u,gainMap:h}){super({name:"GainMapDecoderMaterial",vertexShader:eI,fragmentShader:eO,uniforms:{sdr:{value:u},gainMap:{value:h},gamma:{value:new o.Pq0(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new o.Pq0().fromArray(t)},offsetSdr:{value:new o.Pq0().fromArray(i)},gainMapMin:{value:new o.Pq0().fromArray(r)},gainMapMax:{value:new o.Pq0().fromArray(n)},weightFactor:{value:(Math.log2(s)-a)/(l-a)}},blending:o.XIg,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=s,this._hdrCapacityMin=a,this._hdrCapacityMax=l,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){let e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){let t=this.uniforms.gamma.value;t.x=1/e[0],t.y=1/e[1],t.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){let e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class eL extends Error{}class ek extends Error{}let eH=(e,t,i)=>{let r=RegExp(`${t}="([^"]*)"`,"i").exec(e);if(r)return r[1];let n=RegExp(`<${t}[^>]*>([\\s\\S]*?)</${t}>`,"i").exec(e);if(n){let e=n[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return e&&3===e.length?e.map(e=>e.replace(/<\/?rdf:li>/g,"")):n[1].trim()}if(void 0!==i)return i;throw Error(`Can't find ${t} in gainmap metadata`)},e_=e=>{let t;let i=(t="undefined"!=typeof TextDecoder?new TextDecoder().decode(e):e.toString()).indexOf("<x:xmpmeta");for(;-1!==i;){let e=t.indexOf("x:xmpmeta>",i),r=t.slice(i,e+10);try{let e=eH(r,"hdrgm:GainMapMin","0"),t=eH(r,"hdrgm:GainMapMax"),i=eH(r,"hdrgm:Gamma","1"),n=eH(r,"hdrgm:OffsetSDR","0.015625"),s=eH(r,"hdrgm:OffsetHDR","0.015625"),a=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(r),o=a?a[1]:"0",l=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(r);if(!l)throw Error("Incomplete gainmap metadata");let u=l[1];return{gainMapMin:Array.isArray(e)?e.map(e=>parseFloat(e)):[parseFloat(e),parseFloat(e),parseFloat(e)],gainMapMax:Array.isArray(t)?t.map(e=>parseFloat(e)):[parseFloat(t),parseFloat(t),parseFloat(t)],gamma:Array.isArray(i)?i.map(e=>parseFloat(e)):[parseFloat(i),parseFloat(i),parseFloat(i)],offsetSdr:Array.isArray(n)?n.map(e=>parseFloat(e)):[parseFloat(n),parseFloat(n),parseFloat(n)],offsetHdr:Array.isArray(s)?s.map(e=>parseFloat(e)):[parseFloat(s),parseFloat(s),parseFloat(s)],hdrCapacityMin:parseFloat(o),hdrCapacityMax:parseFloat(u)}}catch(e){}i=t.indexOf("<x:xmpmeta",e)}};class ej{constructor(e){this.options={debug:!!e&&void 0!==e.debug&&e.debug,extractFII:!e||void 0===e.extractFII||e.extractFII,extractNonFII:!e||void 0===e.extractNonFII||e.extractNonFII}}extract(e){return new Promise((t,i)=>{let r;let n=this.options.debug,s=new DataView(e.buffer);if(65496!==s.getUint16(0)){i(Error("Not a valid jpeg"));return}let a=s.byteLength,o=2,l=0;for(;o<a;){if(++l>250){i(Error(`Found no marker after ${l} loops `));return}if(255!==s.getUint8(o)){i(Error(`Not a valid marker at offset 0x${o.toString(16)}, found: 0x${s.getUint8(o).toString(16)}`));return}if(r=s.getUint8(o+1),n&&console.log(`Marker: ${r.toString(16)}`),226===r){n&&console.log("Found APP2 marker (0xffe2)");let e=o+4;if(0x4d504600===s.getUint32(e)){let r;let n=e+4;if(18761===s.getUint16(n))r=!1;else if(19789===s.getUint16(n))r=!0;else{i(Error("No valid endianness marker found in TIFF header"));return}if(42!==s.getUint16(n+2,!r)){i(Error("Not valid TIFF data! (no 0x002A marker)"));return}let a=s.getUint32(n+4,!r);if(a<8){i(Error("Not valid TIFF data! (First offset less than 8)"));return}let o=n+a,l=s.getUint16(o,!r),u=o+2,h=0;for(let e=u;e<u+12*l;e+=12)45057===s.getUint16(e,!r)&&(h=s.getUint32(e+8,!r));let c=o+2+12*l+4,d=[];for(let e=c;e<c+16*h;e+=16){let t={MPType:s.getUint32(e,!r),size:s.getUint32(e+4,!r),dataOffset:s.getUint32(e+8,!r),dependantImages:s.getUint32(e+12,!r),start:-1,end:-1,isFII:!1};t.dataOffset?(t.start=n+t.dataOffset,t.isFII=!1):(t.start=0,t.isFII=!0),t.end=t.start+t.size,d.push(t)}if(this.options.extractNonFII&&d.length){let e=new Blob([s]),i=[];for(let t of d){if(t.isFII&&!this.options.extractFII)continue;let r=e.slice(t.start,t.end+1,"image/jpeg");i.push(r)}t(i)}}}o+=2+s.getUint16(o+2)}})}}let eU=async e=>{let t=e_(e);if(!t)throw new ek("Gain map XMP metadata not found");let i=new ej({extractFII:!0,extractNonFII:!0}),r=await i.extract(e);if(2!==r.length)throw new eL("Gain map recovery image not found");return{sdr:new Uint8Array(await r[0].arrayBuffer()),gainMap:new Uint8Array(await r[1].arrayBuffer()),metadata:t}},eV=e=>new Promise((t,i)=>{let r=document.createElement("img");r.onload=()=>{t(r)},r.onerror=e=>{i(e)},r.src=URL.createObjectURL(e)});class eJ extends o.aHM{constructor(e,t){super(t),e&&(this._renderer=e),this._internalLoadingManager=new o.KPJ}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");let e=new eG({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new o.gPd,sdr:new o.gPd});return new eD({width:16,height:16,type:o.ix0,colorSpace:o.Zr2,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,t,i,r){let n,s;let a=r?new Blob([r],{type:"image/jpeg"}):void 0,l=new Blob([i],{type:"image/jpeg"}),u=!1;if("undefined"==typeof createImageBitmap){let e=await Promise.all([a?eV(a):Promise.resolve(void 0),eV(l)]);s=e[0],n=e[1],u=!0}else{let e=await Promise.all([a?createImageBitmap(a,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(l,{imageOrientation:"flipY"})]);s=e[0],n=e[1]}let h=new o.gPd(s||new ImageData(2,2),o.UTZ,o.ghU,o.ghU,o.k6q,o.NZq,o.GWd,o.OUM,1,o.Zr2);h.flipY=u,h.needsUpdate=!0;let c=new o.gPd(n,o.UTZ,o.ghU,o.ghU,o.k6q,o.NZq,o.GWd,o.OUM,1,o.er$);c.flipY=u,c.needsUpdate=!0,e.width=n.width,e.height=n.height,e.material.gainMap=h,e.material.sdr=c,e.material.gainMapMin=t.gainMapMin,e.material.gainMapMax=t.gainMapMax,e.material.offsetHdr=t.offsetHdr,e.material.offsetSdr=t.offsetSdr,e.material.gamma=t.gamma,e.material.hdrCapacityMin=t.hdrCapacityMin,e.material.hdrCapacityMax=t.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,t.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class eN extends eJ{load([e,t,i],r,n,s){let a,l,u;let h=this.prepareQuadRenderer(),c=async()=>{if(a&&l&&u){try{await this.render(h,u,a,l)}catch(r){this.manager.itemError(e),this.manager.itemError(t),this.manager.itemError(i),"function"==typeof s&&s(r),h.disposeOnDemandRenderer();return}"function"==typeof r&&r(h),this.manager.itemEnd(e),this.manager.itemEnd(t),this.manager.itemEnd(i),h.disposeOnDemandRenderer()}},d=!0,p=0,f=0,m=!0,g=0,v=0,A=!0,y=0,B=0,C=()=>{"function"==typeof n&&n(new ProgressEvent("progress",{lengthComputable:d&&m&&A,loaded:f+v+B,total:p+g+y}))};this.manager.itemStart(e),this.manager.itemStart(t),this.manager.itemStart(i);let b=new o.Y9S(this._internalLoadingManager);b.setResponseType("arraybuffer"),b.setRequestHeader(this.requestHeader),b.setPath(this.path),b.setWithCredentials(this.withCredentials),b.load(e,async e=>{if("string"==typeof e)throw Error("Invalid sdr buffer");a=e,await c()},e=>{d=e.lengthComputable,f=e.loaded,p=e.total,C()},t=>{this.manager.itemError(e),"function"==typeof s&&s(t)});let x=new o.Y9S(this._internalLoadingManager);x.setResponseType("arraybuffer"),x.setRequestHeader(this.requestHeader),x.setPath(this.path),x.setWithCredentials(this.withCredentials),x.load(t,async e=>{if("string"==typeof e)throw Error("Invalid gainmap buffer");l=e,await c()},e=>{m=e.lengthComputable,v=e.loaded,g=e.total,C()},e=>{this.manager.itemError(t),"function"==typeof s&&s(e)});let w=new o.Y9S(this._internalLoadingManager);return w.setRequestHeader(this.requestHeader),w.setPath(this.path),w.setWithCredentials(this.withCredentials),w.load(i,async e=>{if("string"!=typeof e)throw Error("Invalid metadata string");u=JSON.parse(e),await c()},e=>{A=e.lengthComputable,B=e.loaded,y=e.total,C()},e=>{this.manager.itemError(i),"function"==typeof s&&s(e)}),h}}class eK extends eJ{load(e,t,i,r){let n=this.prepareQuadRenderer(),s=new o.Y9S(this._internalLoadingManager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(this.withCredentials),this.manager.itemStart(e),s.load(e,async i=>{let s,a,o;if("string"==typeof i)throw Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");let l=new Uint8Array(i);try{let e=await eU(l);s=e.sdr,a=e.gainMap,o=e.metadata}catch(t){if(t instanceof ek||t instanceof eL)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),o={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},s=l;else throw t}try{await this.render(n,o,s,a)}catch(t){this.manager.itemError(e),"function"==typeof r&&r(t),n.disposeOnDemandRenderer();return}"function"==typeof t&&t(n),this.manager.itemEnd(e),n.disposeOnDemandRenderer()},i,t=>{this.manager.itemError(e),"function"==typeof r&&r(t)}),n}}let eW={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},eX="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",eQ=e=>Array.isArray(e),eY=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function ez({files:e=eY,path:t="",preset:i,colorSpace:r,extensions:n}={}){i&&(e$(i),e=eW[i],t=eX);let l=eQ(e),{extension:u,isCubemap:h}=e0(e),c=e1(u);if(!c)throw Error("useEnvironment: Unrecognized file extension: "+e);let d=(0,a.A)(e=>e.gl);(0,s.useLayoutEffect)(()=>{("webp"===u||"jpg"===u||"jpeg"===u)&&d.domElement.addEventListener("webglcontextlost",function(){a.F.clear(c,l?[e]:e)},{once:!0})},[e,d.domElement]);let p=(0,a.F)(c,l?[e]:e,e=>{("webp"===u||"jpg"===u||"jpeg"===u)&&e.setRenderer(d),null==e.setPath||e.setPath(t),n&&n(e)}),f=l?p[0]:p;if("jpg"===u||"jpeg"===u||"webp"===u){var m;f=null==(m=f.renderTarget)?void 0:m.texture}return f.mapping=h?o.hy7:o.wfO,f.colorSpace=null!=r?r:h?"srgb":"srgb-linear",f}let eq={files:eY,path:"",preset:void 0,extensions:void 0};ez.preload=e=>{let t={...eq,...e},{files:i,path:r=""}=t,{preset:n,extensions:s}=t;n&&(e$(n),i=eW[n],r=eX);let{extension:o}=e0(i);if("webp"===o||"jpg"===o||"jpeg"===o)throw Error("useEnvironment: Preloading gainmaps is not supported");let l=e1(o);if(!l)throw Error("useEnvironment: Unrecognized file extension: "+i);a.F.preload(l,eQ(i)?[i]:i,e=>{null==e.setPath||e.setPath(r),s&&s(e)})};let eZ={files:eY,preset:void 0};function e$(e){if(!(e in eW))throw Error("Preset must be one of: "+Object.keys(eW).join(", "))}function e0(e){var t;let i=eQ(e)&&6===e.length,r=eQ(e)&&3===e.length&&e.some(e=>e.endsWith("json")),n=eQ(e)?e[0]:e;return{extension:i?"cube":r?"webp":n.startsWith("data:application/exr")?"exr":n.startsWith("data:application/hdr")?"hdr":n.startsWith("data:image/jpeg")?"jpg":null==(t=n.split(".").pop())||null==(t=t.split("?"))||null==(t=t.shift())?void 0:t.toLowerCase(),isCubemap:i,isGainmap:r}}function e1(e){return"cube"===e?o.ScU:"hdr"===e?c:"exr"===e?eS:"jpg"===e||"jpeg"===e?eK:"webp"===e?eN:null}ez.clear=e=>{let t={...eZ,...e},{files:i}=t,{preset:r}=t;r&&(e$(r),i=eW[r]);let{extension:n}=e0(i),s=e1(n);if(!s)throw Error("useEnvironment: Unrecognized file extension: "+i);a.F.clear(s,eQ(i)?[i]:i)};let e2=e=>e.current&&e.current.isScene,e9=e=>e2(e)?e.current:e;function e3(e,t,i,r,n={}){var s,o,l,u;n={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...n};let h=e9(t||i),c=h.background,d=h.environment,p={backgroundBlurriness:h.backgroundBlurriness,backgroundIntensity:h.backgroundIntensity,backgroundRotation:null!==(s=null==(o=h.backgroundRotation)||null==o.clone?void 0:o.clone())&&void 0!==s?s:[0,0,0],environmentIntensity:h.environmentIntensity,environmentRotation:null!==(l=null==(u=h.environmentRotation)||null==u.clone?void 0:u.clone())&&void 0!==l?l:[0,0,0]};return"only"!==e&&(h.environment=r),e&&(h.background=r),(0,a.q)(h,n),()=>{"only"!==e&&(h.environment=d),e&&(h.background=c),(0,a.q)(h,p)}}function e5({scene:e,background:t=!1,map:i,...r}){let n=(0,a.A)(e=>e.scene);return s.useLayoutEffect(()=>{if(i)return e3(t,e,n,i,r)}),null}function e8({background:e=!1,scene:t,blur:i,backgroundBlurriness:r,backgroundIntensity:n,backgroundRotation:o,environmentIntensity:l,environmentRotation:u,...h}){let c=ez(h),d=(0,a.A)(e=>e.scene);return s.useLayoutEffect(()=>e3(e,t,d,c,{backgroundBlurriness:null!=i?i:r,backgroundIntensity:n,backgroundRotation:o,environmentIntensity:l,environmentRotation:u})),s.useEffect(()=>()=>{c.dispose()},[c]),null}function e6({children:e,near:t=.1,far:i=1e3,resolution:r=256,frames:n=1,map:l,background:u=!1,blur:h,backgroundBlurriness:c,backgroundIntensity:d,backgroundRotation:p,environmentIntensity:f,environmentRotation:m,scene:g,files:v,path:A,preset:y,extensions:B}){let C=(0,a.A)(e=>e.gl),b=(0,a.A)(e=>e.scene),x=s.useRef(null),[w]=s.useState(()=>new o.Z58),E=s.useMemo(()=>{let e=new o.o6l(r);return e.texture.type=o.ix0,e},[r]);s.useEffect(()=>()=>{E.dispose()},[E]),s.useLayoutEffect(()=>{if(1===n){let e=C.autoClear;C.autoClear=!0,x.current.update(C,w),C.autoClear=e}return e3(u,g,b,E.texture,{backgroundBlurriness:null!=h?h:c,backgroundIntensity:d,backgroundRotation:p,environmentIntensity:f,environmentRotation:m})},[e,w,E.texture,g,b,u,n,C]);let M=1;return(0,a.C)(()=>{if(n===1/0||M<n){let e=C.autoClear;C.autoClear=!0,x.current.update(C,w),C.autoClear=e,M++}}),s.createElement(s.Fragment,null,(0,a.o)(s.createElement(s.Fragment,null,e,s.createElement("cubeCamera",{ref:x,args:[t,i,E]}),v||y?s.createElement(e8,{background:!0,files:v,preset:y,path:A,extensions:B}):l?s.createElement(e5,{background:!0,map:l,extensions:B}):null),w))}function e4(e){var t,i,r,o;let l=ez(e),u=e.map||l;s.useMemo(()=>(0,a.e)({GroundProjectedEnvImpl:h}),[]),s.useEffect(()=>()=>{l.dispose()},[l]);let c=s.useMemo(()=>[u],[u]),d=null==(t=e.ground)?void 0:t.height,p=null==(i=e.ground)?void 0:i.radius,f=null!==(r=null==(o=e.ground)?void 0:o.scale)&&void 0!==r?r:1e3;return s.createElement(s.Fragment,null,s.createElement(e5,(0,n.A)({},e,{map:u})),s.createElement("groundProjectedEnvImpl",{args:c,scale:f,height:d,radius:p}))}function e7(e){return e.ground?s.createElement(e4,e):e.map?s.createElement(e5,e):e.children?s.createElement(e6,e):s.createElement(e8,e)}},2660:(e,t,i)=>{i.d(t,{zo:()=>o});var r=i(2115),n=i(3264),s=i(73);let a=e=>e===Object(e)&&!Array.isArray(e)&&"function"!=typeof e;function o(e,t){let i=(0,s.A)(e=>e.gl),o=(0,s.F)(n.Tap,a(e)?Object.values(e):e);return(0,r.useLayoutEffect)(()=>{null==t||t(o)},[t]),(0,r.useEffect)(()=>{if("initTexture"in i){let e=[];Array.isArray(o)?e=o:o instanceof n.gPd?e=[o]:a(o)&&(e=Object.values(o)),e.forEach(e=>{e instanceof n.gPd&&i.initTexture(e)})}},[i,o]),(0,r.useMemo)(()=>{if(!a(e))return o;{let t={},i=0;for(let r in e)t[r]=o[i++];return t}},[e,o])}o.preload=e=>s.F.preload(n.Tap,e),o.clear=e=>s.F.clear(n.Tap,e)},2801:(e,t,i)=>{i.d(t,{B:()=>r});let r="undefined"!=typeof window},2854:(e,t,i)=>{i.d(t,{A:()=>c});var r=i(2115);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),a=e=>{let t=s(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.filter((e,t,i)=>!!e&&""!==e.trim()&&i.indexOf(e)===t).join(" ").trim()},l=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var u={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let h=(0,r.forwardRef)((e,t)=>{let{color:i="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:h="",children:c,iconNode:d,...p}=e;return(0,r.createElement)("svg",{ref:t,...u,width:n,height:n,stroke:i,strokeWidth:a?24*Number(s)/Number(n):s,className:o("lucide",h),...!c&&!l(p)&&{"aria-hidden":"true"},...p},[...d.map(e=>{let[t,i]=e;return(0,r.createElement)(t,i)}),...Array.isArray(c)?c:[c]])}),c=((e,t)=>{let i=(0,r.forwardRef)((i,s)=>{let{className:l,...u}=i;return(0,r.createElement)(h,{ref:s,iconNode:t,className:o("lucide-".concat(n(a(e))),"lucide-".concat(e),l),...u})});return i.displayName=a(e),i})("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},2885:(e,t,i)=>{i.d(t,{M:()=>n});var r=i(2115);function n(e){let t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}},2897:(e,t,i)=>{i.d(t,{y:()=>a});var r=i(7730),n=i(2083),s=i(4935);let a={test:e=>s.B.test(e)||r.u.test(e)||n.V.test(e),parse:e=>s.B.test(e)?s.B.parse(e):n.V.test(e)?n.V.parse(e):r.u.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?s.B.transform(e):n.V.transform(e)}},3013:(e,t,i)=>{i.d(t,{V:()=>h,f:()=>f});var r=i(2897);let n=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;var s=i(6479),a=i(2282);let o="number",l="color",u=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function h(e){let t=e.toString(),i=[],n={color:[],number:[],var:[]},s=[],a=0,h=t.replace(u,e=>(r.y.test(e)?(n.color.push(a),s.push(l),i.push(r.y.parse(e))):e.startsWith("var(")?(n.var.push(a),s.push("var"),i.push(e)):(n.number.push(a),s.push(o),i.push(parseFloat(e))),++a,"${}")).split("${}");return{values:i,split:h,indexes:n,types:s}}function c(e){return h(e).values}function d(e){let{split:t,types:i}=h(e),n=t.length;return e=>{let s="";for(let u=0;u<n;u++)if(s+=t[u],void 0!==e[u]){let t=i[u];t===o?s+=(0,a.a)(e[u]):t===l?s+=r.y.transform(e[u]):s+=e[u]}return s}}let p=e=>"number"==typeof e?0:e,f={test:function(e){var t,i;return isNaN(e)&&"string"==typeof e&&((null===(t=e.match(s.S))||void 0===t?void 0:t.length)||0)+((null===(i=e.match(n))||void 0===i?void 0:i.length)||0)>0},parse:c,createTransformer:d,getAnimatableNone:function(e){let t=c(e);return d(e)(t.map(p))}}},3082:(e,t,i)=>{i.d(t,{X4:()=>s,ai:()=>n,hs:()=>a});var r=i(7782);let n={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},s={...n,transform:e=>(0,r.q)(0,1,e)},a={...n,default:1}},3625:(e,t,i)=>{i.d(t,{r:()=>r});let r=parseInt(i(3264).sPf.replace(/\D+/g,""))},3676:(e,t,i)=>{i.d(t,{j:()=>n,p:()=>a});let r=e=>t=>"string"==typeof t&&t.startsWith(e),n=r("--"),s=r("var(--"),a=e=>!!s(e)&&o.test(e.split("/*")[0].trim()),o=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu},3945:(e,t,i)=>{i.d(t,{A:()=>s});var r=i(4331);let n=(e,t,i)=>(((1-3*i+3*t)*e+(3*i-6*t))*e+3*t)*e;function s(e,t,i,s){if(e===t&&i===s)return r.lQ;let a=t=>(function(e,t,i,r,s){let a,o;let l=0;do(a=n(o=t+(i-t)/2,r,s)-e)>0?i=o:t=o;while(Math.abs(a)>1e-7&&++l<12);return o})(t,0,1,e,i);return e=>0===e||1===e?e:n(a(e),t,s)}},4087:(e,t,i)=>{i.d(t,{N:()=>a});var r=i(5443),n=i(2115),s=i(1508);function a(e){let t=(0,n.useRef)(0),{isStatic:i}=(0,n.useContext)(s.Q);(0,n.useEffect)(()=>{if(i)return;let n=({timestamp:i,delta:r})=>{t.current||(t.current=i),e(i-t.current,r)};return r.Gt.update(n,!0),()=>(0,r.WG)(n)},[e])}},4331:(e,t,i)=>{function r(e,t){-1===e.indexOf(t)&&e.push(t)}function n(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}i.d(t,{W9:()=>l,vY:()=>c,Kq:()=>r,V1:()=>o,ph:()=>u,Xu:()=>p,lQ:()=>s,qB:()=>h,Ai:()=>n,fD:()=>d,fj:()=>f,$e:()=>a});let s=e=>e,a=s,o=s,l={skipAnimations:!1,useManualTiming:!1};function u(e){let t;return()=>(void 0===t&&(t=e()),t)}let h=(e,t,i)=>{let r=t-e;return 0===r?1:(i-e)/r};class c{constructor(){this.subscriptions=[]}add(e){return r(this.subscriptions,e),()=>n(this.subscriptions,e)}notify(e,t,i){let r=this.subscriptions.length;if(r){if(1===r)this.subscriptions[0](e,t,i);else for(let n=0;n<r;n++){let r=this.subscriptions[n];r&&r(e,t,i)}}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}let d=e=>1e3*e,p=e=>e/1e3;function f(e,t){return t?1e3/t*e:0}},4436:(e,t,i)=>{i.d(t,{k5:()=>h});var r=i(2115),n={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s=r.createContext&&r.createContext(n),a=["attr","size","title"];function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function l(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,r)}return i}function u(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?l(Object(i),!0).forEach(function(t){var r,n,s;r=e,n=t,s=i[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in r?Object.defineProperty(r,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[n]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function h(e){return t=>r.createElement(c,o({attr:u({},e.attr)},t),function e(t){return t&&t.map((t,i)=>r.createElement(t.tag,u({key:i},t.attr),e(t.child)))}(e.child))}function c(e){var t=t=>{var i,{attr:n,size:s,title:l}=e,h=function(e,t){if(null==e)return{};var i,r,n=function(e,t){if(null==e)return{};var i={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;i[r]=e[r]}return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)i=s[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}(e,a),c=s||t.size||"1em";return t.className&&(i=t.className),e.className&&(i=(i?i+" ":"")+e.className),r.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,h,{className:i,style:u(u({color:e.color||t.color},t.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),l&&r.createElement("title",null,l),e.children)};return void 0!==s?r.createElement(s.Consumer,null,e=>t(e)):t(n)}},4528:(e,t,i)=>{i.d(t,{d:()=>r});let r={current:!1}},4570:(e,t,i)=>{i.d(t,{S:()=>r});let r=e=>!!(e&&e.getVelocity)},4576:(e,t,i)=>{i.d(t,{I:()=>d,r:()=>c});let r=e=>180*e/Math.PI,n=e=>a(r(Math.atan2(e[1],e[0]))),s={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:n,rotateZ:n,skewX:e=>r(Math.atan(e[1])),skewY:e=>r(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},a=e=>((e%=360)<0&&(e+=360),e),o=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),l=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),u={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:o,scaleY:l,scale:e=>(o(e)+l(e))/2,rotateX:e=>a(r(Math.atan2(e[6],e[5]))),rotateY:e=>a(r(Math.atan2(-e[2],e[0]))),rotateZ:n,rotate:n,skewX:e=>r(Math.atan(e[4])),skewY:e=>r(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function h(e){return+!!e.includes("scale")}function c(e,t){let i,r;if(!e||"none"===e)return h(t);let n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);if(n)i=u,r=n;else{let t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=s,r=t}if(!r)return h(t);let a=i[t],o=r[1].split(",").map(p);return"function"==typeof a?a(o):o[a]}let d=(e,t)=>{let{transform:i="none"}=getComputedStyle(e);return c(i,t)};function p(e){return parseFloat(e.trim())}},4851:(e,t,i)=>{i.d(t,{e:()=>n});var r=i(584);class n extends Array{constructor(e=0,t=e,i=e){return super(e,t,i),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,t=e,i=e){return e.length?this.copy(e):(r.hZ(this,e,t,i),this)}copy(e){return r.C(this,e),this}add(e,t){return t?r.WQ(this,e,t):r.WQ(this,this,e),this}sub(e,t){return t?r.Re(this,e,t):r.Re(this,this,e),this}multiply(e){return e.length?r.lw(this,this,e):r.hs(this,this,e),this}divide(e){return e.length?r.Qr(this,this,e):r.hs(this,this,1/e),this}inverse(e=this){return r.DI(this,e),this}len(){return r.Bw(this)}distance(e){return e?r.Io(this,e):r.Bw(this)}squaredLen(){return r.m3(this)}squaredDistance(e){return e?r.hG(this,e):r.m3(this)}negate(e=this){return r.ze(this,e),this}cross(e,t){return t?r.$A(this,e,t):r.$A(this,this,e),this}scale(e){return r.hs(this,this,e),this}normalize(){return r.S8(this,this),this}dot(e){return r.Om(this,e)}equals(e){return r.t2(this,e)}applyMatrix3(e){return r.ei(this,this,e),this}applyMatrix4(e){return r.Z0(this,this,e),this}scaleRotateMatrix4(e){return r.Sc(this,this,e),this}applyQuaternion(e){return r.gL(this,this,e),this}angle(e){return r.g7(this,e)}lerp(e,t){return r.Cc(this,this,e,t),this}smoothLerp(e,t,i){return r.YO(this,this,e,t,i),this}clone(){return new n(this[0],this[1],this[2])}fromArray(e,t=0){return this[0]=e[t],this[1]=e[t+1],this[2]=e[t+2],this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e}transformDirection(e){let t=this[0],i=this[1],r=this[2];return this[0]=e[0]*t+e[4]*i+e[8]*r,this[1]=e[1]*t+e[5]*i+e[9]*r,this[2]=e[2]*t+e[6]*i+e[10]*r,this.normalize()}}},4905:(e,t,i)=>{i.d(t,{xQ:()=>s});var r=i(2115),n=i(430);function s(e=!0){let t=(0,r.useContext)(n.t);if(null===t)return[!0,null];let{isPresent:i,onExitComplete:a,register:o}=t,l=(0,r.useId)();(0,r.useEffect)(()=>{if(e)return o(l)},[e]);let u=(0,r.useCallback)(()=>e&&a&&a(l),[l,a,e]);return!i&&a?[!1,u]:[!0]}},4935:(e,t,i)=>{i.d(t,{B:()=>u});var r=i(7782),n=i(3082),s=i(2282),a=i(7219);let o=e=>(0,r.q)(0,255,e),l={...n.ai,transform:e=>Math.round(o(e))},u={test:(0,a.$)("rgb","red"),parse:(0,a.q)("red","green","blue"),transform:({red:e,green:t,blue:i,alpha:r=1})=>"rgba("+l.transform(e)+", "+l.transform(t)+", "+l.transform(i)+", "+(0,s.a)(n.X4.transform(r))+")"}},5016:(e,t,i)=>{let r;i.d(t,{p:()=>eh}),i(2115);var n=i(3264);let s=new WeakMap;class a extends n.aHM{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){let s=new n.Y9S(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,e=>{let i={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(e,i).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){let n={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,n).then(t)}decodeGeometry(e,t){let i;for(let e in t.attributeTypes){let i=t.attributeTypes[e];void 0!==i.BYTES_PER_ELEMENT&&(t.attributeTypes[e]=i.name)}let r=JSON.stringify(t);if(s.has(e)){let t=s.get(e);if(t.key===r)return t.promise;if(0===e.byteLength)throw Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let n=this.workerNextTaskID++,a=e.byteLength,o=this._getWorker(n,a).then(r=>(i=r,new Promise((r,s)=>{i._callbacks[n]={resolve:r,reject:s},i.postMessage({type:"decode",id:n,taskConfig:t,buffer:e},[e])}))).then(e=>this._createGeometry(e.geometry));return o.catch(()=>!0).then(()=>{i&&n&&this._releaseTask(i,n)}),s.set(e,{key:r,promise:o}),o}_createGeometry(e){let t=new n.LoY;e.index&&t.setIndex(new n.THS(e.index.array,1));for(let i=0;i<e.attributes.length;i++){let r=e.attributes[i],s=r.name,a=r.array,o=r.itemSize;t.setAttribute(s,new n.THS(a,o))}return t}_loadLibrary(e,t){let i=new n.Y9S(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((t,r)=>{i.load(e,t,void 0,r)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;let e="object"!=typeof WebAssembly||"js"===this.decoderConfig.type,t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(t=>{let i=t[0];e||(this.decoderConfig.wasmBinary=t[1]);let r=o.toString(),n=["/* draco decoder */",i,"","/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([n]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){let e=new Worker(this.workerSourceURL);e._callbacks={},e._taskCosts={},e._taskLoad=0,e.postMessage({type:"init",decoderConfig:this.decoderConfig}),e.onmessage=function(t){let i=t.data;switch(i.type){case"decode":e._callbacks[i.id].resolve(i);break;case"error":e._callbacks[i.id].reject(i);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+i.type+'"')}},this.workerPool.push(e)}else this.workerPool.sort(function(e,t){return e._taskLoad>t._taskLoad?-1:1});let i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function o(){let e,t;onmessage=function(i){let r=i.data;switch(r.type){case"init":e=r.decoderConfig,t=new Promise(function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)});break;case"decode":let n=r.buffer,s=r.taskConfig;t.then(e=>{let t=e.draco,i=new t.Decoder,a=new t.DecoderBuffer;a.Init(new Int8Array(n),n.byteLength);try{let e=function(e,t,i,r){let n,s;let a=r.attributeIDs,o=r.attributeTypes,l=t.GetEncodedGeometryType(i);if(l===e.TRIANGULAR_MESH)n=new e.Mesh,s=t.DecodeBufferToMesh(i,n);else if(l===e.POINT_CLOUD)n=new e.PointCloud,s=t.DecodeBufferToPointCloud(i,n);else throw Error("THREE.DRACOLoader: Unexpected geometry type.");if(!s.ok()||0===n.ptr)throw Error("THREE.DRACOLoader: Decoding failed: "+s.error_msg());let u={index:null,attributes:[]};for(let i in a){let s,l;let h=self[o[i]];if(r.useUniqueIDs)l=a[i],s=t.GetAttributeByUniqueId(n,l);else{if(-1===(l=t.GetAttributeId(n,e[a[i]])))continue;s=t.GetAttribute(n,l)}u.attributes.push(function(e,t,i,r,n,s){let a=s.num_components(),o=i.num_points()*a,l=o*n.BYTES_PER_ELEMENT,u=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,n),h=e._malloc(l);t.GetAttributeDataArrayForAllPoints(i,s,u,l,h);let c=new n(e.HEAPF32.buffer,h,o).slice();return e._free(h),{name:r,array:c,itemSize:a}}(e,t,n,i,h,s))}return l===e.TRIANGULAR_MESH&&(u.index=function(e,t,i){let r=3*i.num_faces(),n=4*r,s=e._malloc(n);t.GetTrianglesUInt32Array(i,n,s);let a=new Uint32Array(e.HEAPF32.buffer,s,r).slice();return e._free(s),{array:a,itemSize:1}}(e,t,n)),e.destroy(n),u}(t,i,a,s),n=e.attributes.map(e=>e.array.buffer);e.index&&n.push(e.index.array.buffer),self.postMessage({type:"decode",id:r.id,geometry:e},n)}catch(e){console.error(e),self.postMessage({type:"error",id:r.id,error:e.message})}finally{t.destroy(a),t.destroy(i)}})}}}let l=()=>{let e;if(r)return r;let t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if("object"!=typeof WebAssembly)return{supported:!1};let n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB";WebAssembly.validate(t)&&(n="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB");let s=WebAssembly.instantiate(function(e){let t=new Uint8Array(e.length);for(let i=0;i<e.length;++i){let r=e.charCodeAt(i);t[i]=r>96?r-71:r>64?r-65:r>47?r+4:r>46?63:62}let r=0;for(let n=0;n<e.length;++n)t[r++]=t[n]<60?i[t[n]]:(t[n]-60)*64+t[++n];return t.buffer.slice(0,r)}(n),{}).then(t=>{(e=t.instance).exports.__wasm_call_ctors()});function a(t,i,r,n,s,a){let o=e.exports.sbrk,l=r+3&-4,u=o(l*n),h=o(s.length),c=new Uint8Array(e.exports.memory.buffer);c.set(s,h);let d=t(u,r,n,h,s.length);if(0===d&&a&&a(u,l,n),i.set(c.subarray(u,u+r*n)),o(u-o(0)),0!==d)throw Error(`Malformed buffer data: ${d}`)}let o={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},l={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return r={ready:s,supported:!0,decodeVertexBuffer(t,i,r,n,s){a(e.exports.meshopt_decodeVertexBuffer,t,i,r,n,e.exports[o[s]])},decodeIndexBuffer(t,i,r,n){a(e.exports.meshopt_decodeIndexBuffer,t,i,r,n)},decodeIndexSequence(t,i,r,n){a(e.exports.meshopt_decodeIndexSequence,t,i,r,n)},decodeGltfBuffer(t,i,r,n,s,u){a(e.exports[l[s]],t,i,r,n,e.exports[o[u]])}}};var u=i(6176),h=i(3625);function c(e){if("undefined"!=typeof TextDecoder)return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch(e){return t}}let d="srgb",p="srgb-linear";class f extends n.aHM{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(e){return new B(e)}),this.register(function(e){return new C(e)}),this.register(function(e){return new F(e)}),this.register(function(e){return new R(e)}),this.register(function(e){return new D(e)}),this.register(function(e){return new x(e)}),this.register(function(e){return new w(e)}),this.register(function(e){return new E(e)}),this.register(function(e){return new M(e)}),this.register(function(e){return new y(e)}),this.register(function(e){return new T(e)}),this.register(function(e){return new b(e)}),this.register(function(e){return new P(e)}),this.register(function(e){return new S(e)}),this.register(function(e){return new v(e)}),this.register(function(e){return new I(e)}),this.register(function(e){return new O(e)})}load(e,t,i,r){let s;let a=this;if(""!==this.resourcePath)s=this.resourcePath;else if(""!==this.path){let t=n.r6x.extractUrlBase(e);s=n.r6x.resolveURL(t,this.path)}else s=n.r6x.extractUrlBase(e);this.manager.itemStart(e);let o=function(t){r?r(t):console.error(t),a.manager.itemError(e),a.manager.itemEnd(e)},l=new n.Y9S(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(i){try{a.parse(i,s,function(i){t(i),a.manager.itemEnd(e)},o)}catch(e){o(e)}},i,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return -1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return -1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let n;let s={},a={};if("string"==typeof e)n=JSON.parse(e);else if(e instanceof ArrayBuffer){if(c(new Uint8Array(e.slice(0,4)))===G){try{s[g.KHR_BINARY_GLTF]=new k(e)}catch(e){r&&r(e);return}n=JSON.parse(s[g.KHR_BINARY_GLTF].content)}else n=JSON.parse(c(new Uint8Array(e)))}else n=e;if(void 0===n.asset||n.asset.version[0]<2){r&&r(Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}let o=new en(n,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});o.fileLoader.setRequestHeader(this.requestHeader);for(let e=0;e<this.pluginCallbacks.length;e++){let t=this.pluginCallbacks[e](o);t.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[t.name]=t,s[t.name]=!0}if(n.extensionsUsed)for(let e=0;e<n.extensionsUsed.length;++e){let t=n.extensionsUsed[e],i=n.extensionsRequired||[];switch(t){case g.KHR_MATERIALS_UNLIT:s[t]=new A;break;case g.KHR_DRACO_MESH_COMPRESSION:s[t]=new H(n,this.dracoLoader);break;case g.KHR_TEXTURE_TRANSFORM:s[t]=new _;break;case g.KHR_MESH_QUANTIZATION:s[t]=new j;break;default:i.indexOf(t)>=0&&void 0===a[t]&&console.warn('THREE.GLTFLoader: Unknown extension "'+t+'".')}}o.setExtensions(s),o.setPlugins(a),o.parse(i,r)}parseAsync(e,t){let i=this;return new Promise(function(r,n){i.parse(e,t,r,n)})}}function m(){let e={};return{get:function(t){return e[t]},add:function(t,i){e[t]=i},remove:function(t){delete e[t]},removeAll:function(){e={}}}}let g={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class v{constructor(e){this.parser=e,this.name=g.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){let e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){let r=t[i];r.extensions&&r.extensions[this.name]&&void 0!==r.extensions[this.name].light&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(e){let t;let i=this.parser,r="light:"+e,s=i.cache.get(r);if(s)return s;let a=i.json,o=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e],l=new n.Q1f(0xffffff);void 0!==o.color&&l.setRGB(o.color[0],o.color[1],o.color[2],p);let u=void 0!==o.range?o.range:0;switch(o.type){case"directional":(t=new n.ZyN(l)).target.position.set(0,0,-1),t.add(t.target);break;case"point":(t=new n.HiM(l)).distance=u;break;case"spot":(t=new n.nCl(l)).distance=u,o.spot=o.spot||{},o.spot.innerConeAngle=void 0!==o.spot.innerConeAngle?o.spot.innerConeAngle:0,o.spot.outerConeAngle=void 0!==o.spot.outerConeAngle?o.spot.outerConeAngle:Math.PI/4,t.angle=o.spot.outerConeAngle,t.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,t.target.position.set(0,0,-1),t.add(t.target);break;default:throw Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return t.position.set(0,0,0),t.decay=2,ee(t,o),void 0!==o.intensity&&(t.intensity=o.intensity),t.name=i.createUniqueName(o.name||"light_"+e),s=Promise.resolve(t),i.cache.add(r,s),s}getDependency(e,t){if("light"===e)return this._loadLight(t)}createNodeAttachment(e){let t=this,i=this.parser,r=i.json.nodes[e],n=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===n?null:this._loadLight(n).then(function(e){return i._getNodeRef(t.cache,n,e)})}}class A{constructor(){this.name=g.KHR_MATERIALS_UNLIT}getMaterialType(){return n.V9B}extendParams(e,t,i){let r=[];e.color=new n.Q1f(1,1,1),e.opacity=1;let s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){let t=s.baseColorFactor;e.color.setRGB(t[0],t[1],t[2],p),e.opacity=t[3]}void 0!==s.baseColorTexture&&r.push(i.assignTexture(e,"map",s.baseColorTexture,d))}return Promise.all(r)}}class y{constructor(e){this.parser=e,this.name=g.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){let i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();let r=i.extensions[this.name].emissiveStrength;return void 0!==r&&(t.emissiveIntensity=r),Promise.resolve()}}class B{constructor(e){this.parser=e,this.name=g.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.uSd:null}extendMaterialParams(e,t){let i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let s=[],a=r.extensions[this.name];if(void 0!==a.clearcoatFactor&&(t.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&s.push(i.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(s.push(i.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){let e=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new n.I9Y(e,e)}return Promise.all(s)}}class C{constructor(e){this.parser=e,this.name=g.KHR_MATERIALS_DISPERSION}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.uSd:null}extendMaterialParams(e,t){let i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();let r=i.extensions[this.name];return t.dispersion=void 0!==r.dispersion?r.dispersion:0,Promise.resolve()}}class b{constructor(e){this.parser=e,this.name=g.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.uSd:null}extendMaterialParams(e,t){let i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let n=[],s=r.extensions[this.name];return void 0!==s.iridescenceFactor&&(t.iridescence=s.iridescenceFactor),void 0!==s.iridescenceTexture&&n.push(i.assignTexture(t,"iridescenceMap",s.iridescenceTexture)),void 0!==s.iridescenceIor&&(t.iridescenceIOR=s.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==s.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=s.iridescenceThicknessMinimum),void 0!==s.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=s.iridescenceThicknessMaximum),void 0!==s.iridescenceThicknessTexture&&n.push(i.assignTexture(t,"iridescenceThicknessMap",s.iridescenceThicknessTexture)),Promise.all(n)}}class x{constructor(e){this.parser=e,this.name=g.KHR_MATERIALS_SHEEN}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.uSd:null}extendMaterialParams(e,t){let i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let s=[];t.sheenColor=new n.Q1f(0,0,0),t.sheenRoughness=0,t.sheen=1;let a=r.extensions[this.name];if(void 0!==a.sheenColorFactor){let e=a.sheenColorFactor;t.sheenColor.setRGB(e[0],e[1],e[2],p)}return void 0!==a.sheenRoughnessFactor&&(t.sheenRoughness=a.sheenRoughnessFactor),void 0!==a.sheenColorTexture&&s.push(i.assignTexture(t,"sheenColorMap",a.sheenColorTexture,d)),void 0!==a.sheenRoughnessTexture&&s.push(i.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(s)}}class w{constructor(e){this.parser=e,this.name=g.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.uSd:null}extendMaterialParams(e,t){let i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let n=[],s=r.extensions[this.name];return void 0!==s.transmissionFactor&&(t.transmission=s.transmissionFactor),void 0!==s.transmissionTexture&&n.push(i.assignTexture(t,"transmissionMap",s.transmissionTexture)),Promise.all(n)}}class E{constructor(e){this.parser=e,this.name=g.KHR_MATERIALS_VOLUME}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.uSd:null}extendMaterialParams(e,t){let i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let s=[],a=r.extensions[this.name];t.thickness=void 0!==a.thicknessFactor?a.thicknessFactor:0,void 0!==a.thicknessTexture&&s.push(i.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;let o=a.attenuationColor||[1,1,1];return t.attenuationColor=new n.Q1f().setRGB(o[0],o[1],o[2],p),Promise.all(s)}}class M{constructor(e){this.parser=e,this.name=g.KHR_MATERIALS_IOR}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.uSd:null}extendMaterialParams(e,t){let i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();let r=i.extensions[this.name];return t.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}class T{constructor(e){this.parser=e,this.name=g.KHR_MATERIALS_SPECULAR}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.uSd:null}extendMaterialParams(e,t){let i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let s=[],a=r.extensions[this.name];t.specularIntensity=void 0!==a.specularFactor?a.specularFactor:1,void 0!==a.specularTexture&&s.push(i.assignTexture(t,"specularIntensityMap",a.specularTexture));let o=a.specularColorFactor||[1,1,1];return t.specularColor=new n.Q1f().setRGB(o[0],o[1],o[2],p),void 0!==a.specularColorTexture&&s.push(i.assignTexture(t,"specularColorMap",a.specularColorTexture,d)),Promise.all(s)}}class S{constructor(e){this.parser=e,this.name=g.EXT_MATERIALS_BUMP}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.uSd:null}extendMaterialParams(e,t){let i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let n=[],s=r.extensions[this.name];return t.bumpScale=void 0!==s.bumpFactor?s.bumpFactor:1,void 0!==s.bumpTexture&&n.push(i.assignTexture(t,"bumpMap",s.bumpTexture)),Promise.all(n)}}class P{constructor(e){this.parser=e,this.name=g.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){let t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.uSd:null}extendMaterialParams(e,t){let i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let n=[],s=r.extensions[this.name];return void 0!==s.anisotropyStrength&&(t.anisotropy=s.anisotropyStrength),void 0!==s.anisotropyRotation&&(t.anisotropyRotation=s.anisotropyRotation),void 0!==s.anisotropyTexture&&n.push(i.assignTexture(t,"anisotropyMap",s.anisotropyTexture)),Promise.all(n)}}class F{constructor(e){this.parser=e,this.name=g.KHR_TEXTURE_BASISU}loadTexture(e){let t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;let n=r.extensions[this.name],s=t.options.ktx2Loader;if(!s){if(!(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0))return null;throw Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures")}return t.loadTextureImage(e,n.source,s)}}class R{constructor(e){this.parser=e,this.name=g.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){let t=this.name,i=this.parser,r=i.json,n=r.textures[e];if(!n.extensions||!n.extensions[t])return null;let s=n.extensions[t],a=r.images[s.source],o=i.textureLoader;if(a.uri){let e=i.options.manager.getHandler(a.uri);null!==e&&(o=e)}return this.detectSupport().then(function(n){if(n)return i.loadTextureImage(e,s.source,o);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){let t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}})),this.isSupported}}class D{constructor(e){this.parser=e,this.name=g.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){let t=this.name,i=this.parser,r=i.json,n=r.textures[e];if(!n.extensions||!n.extensions[t])return null;let s=n.extensions[t],a=r.images[s.source],o=i.textureLoader;if(a.uri){let e=i.options.manager.getHandler(a.uri);null!==e&&(o=e)}return this.detectSupport().then(function(n){if(n)return i.loadTextureImage(e,s.source,o);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){let t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(1===t.height)}})),this.isSupported}}class I{constructor(e){this.name=g.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){let t=this.parser.json,i=t.bufferViews[e];if(!i.extensions||!i.extensions[this.name])return null;{let e=i.extensions[this.name],r=this.parser.getDependency("buffer",e.buffer),n=this.parser.options.meshoptDecoder;if(!n||!n.supported){if(!(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0))return null;throw Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files")}return r.then(function(t){let i=e.byteOffset||0,r=e.byteLength||0,s=e.count,a=e.byteStride,o=new Uint8Array(t,i,r);return n.decodeGltfBufferAsync?n.decodeGltfBufferAsync(s,a,o,e.mode,e.filter).then(function(e){return e.buffer}):n.ready.then(function(){let t=new ArrayBuffer(s*a);return n.decodeGltfBuffer(new Uint8Array(t),s,a,o,e.mode,e.filter),t})})}}}class O{constructor(e){this.name=g.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){let t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||void 0===i.mesh)return null;for(let e of t.meshes[i.mesh].primitives)if(e.mode!==N.TRIANGLES&&e.mode!==N.TRIANGLE_STRIP&&e.mode!==N.TRIANGLE_FAN&&void 0!==e.mode)return null;let r=i.extensions[this.name].attributes,s=[],a={};for(let e in r)s.push(this.parser.getDependency("accessor",r[e]).then(t=>(a[e]=t,a[e])));return s.length<1?null:(s.push(this.parser.createNodeMesh(e)),Promise.all(s).then(e=>{let t=e.pop(),i=t.isGroup?t.children:[t],r=e[0].count,s=[];for(let e of i){let t=new n.kn4,i=new n.Pq0,o=new n.PTz,l=new n.Pq0(1,1,1),u=new n.ZLX(e.geometry,e.material,r);for(let e=0;e<r;e++)a.TRANSLATION&&i.fromBufferAttribute(a.TRANSLATION,e),a.ROTATION&&o.fromBufferAttribute(a.ROTATION,e),a.SCALE&&l.fromBufferAttribute(a.SCALE,e),u.setMatrixAt(e,t.compose(i,o,l));for(let t in a)if("_COLOR_0"===t){let e=a[t];u.instanceColor=new n.uWO(e.array,e.itemSize,e.normalized)}else"TRANSLATION"!==t&&"ROTATION"!==t&&"SCALE"!==t&&e.geometry.setAttribute(t,a[t]);n.B69.prototype.copy.call(u,e),this.parser.assignFinalMaterial(u),s.push(u)}return t.isGroup?(t.clear(),t.add(...s),t):s[0]}))}}let G="glTF",L={JSON:0x4e4f534a,BIN:5130562};class k{constructor(e){this.name=g.KHR_BINARY_GLTF,this.content=null,this.body=null;let t=new DataView(e,0,12);if(this.header={magic:c(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==G)throw Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw Error("THREE.GLTFLoader: Legacy binary file detected.");let i=this.header.length-12,r=new DataView(e,12),n=0;for(;n<i;){let t=r.getUint32(n,!0);n+=4;let i=r.getUint32(n,!0);if(n+=4,i===L.JSON){let i=new Uint8Array(e,12+n,t);this.content=c(i)}else if(i===L.BIN){let i=12+n;this.body=e.slice(i,i+t)}n+=t}if(null===this.content)throw Error("THREE.GLTFLoader: JSON content not found.")}}class H{constructor(e,t){if(!t)throw Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=g.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){let i=this.json,r=this.dracoLoader,n=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,a={},o={},l={};for(let e in s)a[Y[e]||e.toLowerCase()]=s[e];for(let t in e.attributes){let r=Y[t]||t.toLowerCase();if(void 0!==s[t]){let n=i.accessors[e.attributes[t]],s=K[n.componentType];l[r]=s.name,o[r]=!0===n.normalized}}return t.getDependency("bufferView",n).then(function(e){return new Promise(function(t,i){r.decodeDracoFile(e,function(e){for(let t in e.attributes){let i=e.attributes[t],r=o[t];void 0!==r&&(i.normalized=r)}t(e)},a,l,p,i)})})}}class _{constructor(){this.name=g.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(void 0===t.texCoord||t.texCoord===e.channel)&&void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.texCoord&&(e.channel=t.texCoord),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class j{constructor(){this.name=g.KHR_MESH_QUANTIZATION}}class U extends n.lGw{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){let t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,n=e*r*3+r;for(let e=0;e!==r;e++)t[e]=i[n+e];return t}interpolate_(e,t,i,r){let n=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=2*a,l=3*a,u=r-t,h=(i-t)/u,c=h*h,d=c*h,p=e*l,f=p-l,m=-2*d+3*c,g=d-c,v=1-m,A=g-c+h;for(let e=0;e!==a;e++){let t=s[f+e+a],i=s[f+e+o]*u,r=s[p+e+a],l=s[p+e]*u;n[e]=v*t+A*i+m*r+g*l}return n}}let V=new n.PTz;class J extends U{interpolate_(e,t,i,r){let n=super.interpolate_(e,t,i,r);return V.fromArray(n).normalize().toArray(n),n}}let N={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},K={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},W={9728:n.hxR,9729:n.k6q,9984:n.pHI,9985:n.kRr,9986:n.Cfg,9987:n.$_I},X={33071:n.ghU,33648:n.kTW,10497:n.GJx},Q={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Y={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...h.r>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},z={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},q={CUBICSPLINE:void 0,LINEAR:n.PJ3,STEP:n.ljd},Z={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function $(e,t,i){for(let r in i.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=i.extensions[r])}function ee(e,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function et(e){let t="",i=Object.keys(e).sort();for(let r=0,n=i.length;r<n;r++)t+=i[r]+":"+e[i[r]]+";";return t}function ei(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}let er=new n.kn4;class en{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new m,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;"undefined"!=typeof navigator&&void 0!==navigator.userAgent&&(i=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),s=(r=navigator.userAgent.indexOf("Firefox")>-1)?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),"undefined"==typeof createImageBitmap||i||r&&s<98?this.textureLoader=new n.Tap(this.options.manager):this.textureLoader=new n.Kzg(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new n.Y9S(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){let i=this,r=this.json,n=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(e){return e._markDefs&&e._markDefs()}),Promise.all(this._invokeAll(function(e){return e.beforeRoot&&e.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(t){let s={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:i,userData:{}};return $(n,s,r),ee(s,r),Promise.all(i._invokeAll(function(e){return e.afterRoot&&e.afterRoot(s)})).then(function(){for(let e of s.scenes)e.updateMatrixWorld();e(s)})}).catch(t)}_markDefs(){let e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let i=0,r=t.length;i<r;i++){let r=t[i].joints;for(let t=0,i=r.length;t<i;t++)e[r[t]].isBone=!0}for(let t=0,r=e.length;t<r;t++){let r=e[t];void 0!==r.mesh&&(this._addNodeRef(this.meshCache,r.mesh),void 0!==r.skin&&(i[r.mesh].isSkinnedMesh=!0)),void 0!==r.camera&&this._addNodeRef(this.cameraCache,r.camera)}}_addNodeRef(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;let r=i.clone(),n=(e,t)=>{let i=this.associations.get(e);for(let[r,s]of(null!=i&&this.associations.set(t,i),e.children.entries()))n(s,t.children[r])};return n(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){let t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){let r=e(t[i]);if(r)return r}return null}_invokeAll(e){let t=Object.values(this.plugins);t.unshift(this);let i=[];for(let r=0;r<t.length;r++){let n=e(t[r]);n&&i.push(n)}return i}getDependency(e,t){let i=e+":"+t,r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(e){return e.loadNode&&e.loadNode(t)});break;case"mesh":r=this._invokeOne(function(e){return e.loadMesh&&e.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(e){return e.loadBufferView&&e.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(e){return e.loadMaterial&&e.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(e){return e.loadTexture&&e.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(e){return e.loadAnimation&&e.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(!(r=this._invokeOne(function(i){return i!=this&&i.getDependency&&i.getDependency(e,t)})))throw Error("Unknown type: "+e)}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){let i=this;t=Promise.all((this.json[e+("mesh"===e?"es":"s")]||[]).map(function(t,r){return i.getDependency(e,r)})),this.cache.add(e,t)}return t}loadBuffer(e){let t=this.json.buffers[e],i=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[g.KHR_BINARY_GLTF].body);let r=this.options;return new Promise(function(e,s){i.load(n.r6x.resolveURL(t.uri,r.path),e,void 0,function(){s(Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){let t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(e){let i=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+i)})}loadAccessor(e){let t=this,i=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse){let e=Q[r.type],t=K[r.componentType],i=!0===r.normalized,s=new t(r.count*e);return Promise.resolve(new n.THS(s,e,i))}let s=[];return void 0!==r.bufferView?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),void 0!==r.sparse&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(e){let s,a;let o=e[0],l=Q[r.type],u=K[r.componentType],h=u.BYTES_PER_ELEMENT,c=h*l,d=r.byteOffset||0,p=void 0!==r.bufferView?i.bufferViews[r.bufferView].byteStride:void 0,f=!0===r.normalized;if(p&&p!==c){let e=Math.floor(d/p),i="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+e+":"+r.count,c=t.cache.get(i);c||(s=new u(o,e*p,r.count*p/h),c=new n.eB$(s,p/h),t.cache.add(i,c)),a=new n.eHs(c,l,d%p/h,f)}else s=null===o?new u(r.count*l):new u(o,d,r.count*l),a=new n.THS(s,l,f);if(void 0!==r.sparse){let t=Q.SCALAR,i=K[r.sparse.indices.componentType],s=r.sparse.indices.byteOffset||0,h=r.sparse.values.byteOffset||0,c=new i(e[1],s,r.sparse.count*t),d=new u(e[2],h,r.sparse.count*l);null!==o&&(a=new n.THS(a.array.slice(),a.itemSize,a.normalized));for(let e=0,t=c.length;e<t;e++){let t=c[e];if(a.setX(t,d[e*l]),l>=2&&a.setY(t,d[e*l+1]),l>=3&&a.setZ(t,d[e*l+2]),l>=4&&a.setW(t,d[e*l+3]),l>=5)throw Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return a})}loadTexture(e){let t=this.json,i=this.options,r=t.textures[e].source,n=t.images[r],s=this.textureLoader;if(n.uri){let e=i.manager.getHandler(n.uri);null!==e&&(s=e)}return this.loadTextureImage(e,r,s)}loadTextureImage(e,t,i){let r=this,s=this.json,a=s.textures[e],o=s.images[t],l=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[l])return this.textureCache[l];let u=this.loadImageSource(t,i).then(function(t){t.flipY=!1,t.name=a.name||o.name||"",""===t.name&&"string"==typeof o.uri&&!1===o.uri.startsWith("data:image/")&&(t.name=o.uri);let i=(s.samplers||{})[a.sampler]||{};return t.magFilter=W[i.magFilter]||n.k6q,t.minFilter=W[i.minFilter]||n.$_I,t.wrapS=X[i.wrapS]||n.GJx,t.wrapT=X[i.wrapT]||n.GJx,r.associations.set(t,{textures:e}),t}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,t){let i=this.json,r=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then(e=>e.clone());let s=i.images[e],a=self.URL||self.webkitURL,o=s.uri||"",l=!1;if(void 0!==s.bufferView)o=this.getDependency("bufferView",s.bufferView).then(function(e){l=!0;let t=new Blob([e],{type:s.mimeType});return o=a.createObjectURL(t)});else if(void 0===s.uri)throw Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");let u=Promise.resolve(o).then(function(e){return new Promise(function(i,s){let a=i;!0===t.isImageBitmapLoader&&(a=function(e){let t=new n.gPd(e);t.needsUpdate=!0,i(t)}),t.load(n.r6x.resolveURL(e,r.path),a,void 0,s)})}).then(function(e){var t;return!0===l&&a.revokeObjectURL(o),ee(e,s),e.userData.mimeType=s.mimeType||((t=s.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":"image/png"),e}).catch(function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",o),e});return this.sourceCache[e]=u,u}assignTexture(e,t,i,r){let n=this;return this.getDependency("texture",i.index).then(function(s){if(!s)return null;if(void 0!==i.texCoord&&i.texCoord>0&&((s=s.clone()).channel=i.texCoord),n.extensions[g.KHR_TEXTURE_TRANSFORM]){let e=void 0!==i.extensions?i.extensions[g.KHR_TEXTURE_TRANSFORM]:void 0;if(e){let t=n.associations.get(s);s=n.extensions[g.KHR_TEXTURE_TRANSFORM].extendTexture(s,e),n.associations.set(s,t)}}return void 0!==r&&("number"==typeof r&&(r=3001===r?d:p),"colorSpace"in s?s.colorSpace=r:s.encoding=r===d?3001:3e3),e[t]=s,s})}assignFinalMaterial(e){let t=e.geometry,i=e.material,r=void 0===t.attributes.tangent,s=void 0!==t.attributes.color,a=void 0===t.attributes.normal;if(e.isPoints){let e="PointsMaterial:"+i.uuid,t=this.cache.get(e);t||(t=new n.BH$,n.imn.prototype.copy.call(t,i),t.color.copy(i.color),t.map=i.map,t.sizeAttenuation=!1,this.cache.add(e,t)),i=t}else if(e.isLine){let e="LineBasicMaterial:"+i.uuid,t=this.cache.get(e);t||(t=new n.mrM,n.imn.prototype.copy.call(t,i),t.color.copy(i.color),t.map=i.map,this.cache.add(e,t)),i=t}if(r||s||a){let e="ClonedMaterial:"+i.uuid+":";r&&(e+="derivative-tangents:"),s&&(e+="vertex-colors:"),a&&(e+="flat-shading:");let t=this.cache.get(e);t||(t=i.clone(),s&&(t.vertexColors=!0),a&&(t.flatShading=!0),r&&(t.normalScale&&(t.normalScale.y*=-1),t.clearcoatNormalScale&&(t.clearcoatNormalScale.y*=-1)),this.cache.add(e,t),this.associations.set(t,this.associations.get(i))),i=t}e.material=i}getMaterialType(){return n._4j}loadMaterial(e){let t;let i=this,r=this.json,s=this.extensions,a=r.materials[e],o={},l=a.extensions||{},u=[];if(l[g.KHR_MATERIALS_UNLIT]){let e=s[g.KHR_MATERIALS_UNLIT];t=e.getMaterialType(),u.push(e.extendParams(o,a,i))}else{let r=a.pbrMetallicRoughness||{};if(o.color=new n.Q1f(1,1,1),o.opacity=1,Array.isArray(r.baseColorFactor)){let e=r.baseColorFactor;o.color.setRGB(e[0],e[1],e[2],p),o.opacity=e[3]}void 0!==r.baseColorTexture&&u.push(i.assignTexture(o,"map",r.baseColorTexture,d)),o.metalness=void 0!==r.metallicFactor?r.metallicFactor:1,o.roughness=void 0!==r.roughnessFactor?r.roughnessFactor:1,void 0!==r.metallicRoughnessTexture&&(u.push(i.assignTexture(o,"metalnessMap",r.metallicRoughnessTexture)),u.push(i.assignTexture(o,"roughnessMap",r.metallicRoughnessTexture))),t=this._invokeOne(function(t){return t.getMaterialType&&t.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,o)})))}!0===a.doubleSided&&(o.side=n.$EB);let h=a.alphaMode||Z.OPAQUE;if(h===Z.BLEND?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,h===Z.MASK&&(o.alphaTest=void 0!==a.alphaCutoff?a.alphaCutoff:.5)),void 0!==a.normalTexture&&t!==n.V9B&&(u.push(i.assignTexture(o,"normalMap",a.normalTexture)),o.normalScale=new n.I9Y(1,1),void 0!==a.normalTexture.scale)){let e=a.normalTexture.scale;o.normalScale.set(e,e)}if(void 0!==a.occlusionTexture&&t!==n.V9B&&(u.push(i.assignTexture(o,"aoMap",a.occlusionTexture)),void 0!==a.occlusionTexture.strength&&(o.aoMapIntensity=a.occlusionTexture.strength)),void 0!==a.emissiveFactor&&t!==n.V9B){let e=a.emissiveFactor;o.emissive=new n.Q1f().setRGB(e[0],e[1],e[2],p)}return void 0!==a.emissiveTexture&&t!==n.V9B&&u.push(i.assignTexture(o,"emissiveMap",a.emissiveTexture,d)),Promise.all(u).then(function(){let r=new t(o);return a.name&&(r.name=a.name),ee(r,a),i.associations.set(r,{materials:e}),a.extensions&&$(s,r,a),r})}createUniqueName(e){let t=n.Nwf.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){let t=this,i=this.extensions,r=this.primitiveCache,s=[];for(let a=0,o=e.length;a<o;a++){let o=e[a],l=function(e){let t;let i=e.extensions&&e.extensions[g.KHR_DRACO_MESH_COMPRESSION];if(t=i?"draco:"+i.bufferView+":"+i.indices+":"+et(i.attributes):e.indices+":"+et(e.attributes)+":"+e.mode,void 0!==e.targets)for(let i=0,r=e.targets.length;i<r;i++)t+=":"+et(e.targets[i]);return t}(o),u=r[l];if(u)s.push(u.promise);else{let e;e=o.extensions&&o.extensions[g.KHR_DRACO_MESH_COMPRESSION]?function(e){return i[g.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then(function(i){return es(i,e,t)})}(o):es(new n.LoY,o,t),r[l]={primitive:o,promise:e},s.push(e)}}return Promise.all(s)}loadMesh(e){let t=this,i=this.json,r=this.extensions,s=i.meshes[e],a=s.primitives,o=[];for(let e=0,t=a.length;e<t;e++){var l;let t=void 0===a[e].material?(void 0===(l=this.cache).DefaultMaterial&&(l.DefaultMaterial=new n._4j({color:0xffffff,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:n.hB5})),l.DefaultMaterial):this.getDependency("material",a[e].material);o.push(t)}return o.push(t.loadGeometries(a)),Promise.all(o).then(function(i){let o=i.slice(0,i.length-1),l=i[i.length-1],h=[];for(let i=0,c=l.length;i<c;i++){let c;let d=l[i],p=a[i],f=o[i];if(p.mode===N.TRIANGLES||p.mode===N.TRIANGLE_STRIP||p.mode===N.TRIANGLE_FAN||void 0===p.mode)!0===(c=!0===s.isSkinnedMesh?new n.I46(d,f):new n.eaF(d,f)).isSkinnedMesh&&c.normalizeSkinWeights(),p.mode===N.TRIANGLE_STRIP?c.geometry=(0,u._c)(c.geometry,n.O49):p.mode===N.TRIANGLE_FAN&&(c.geometry=(0,u._c)(c.geometry,n.rYR));else if(p.mode===N.LINES)c=new n.DXC(d,f);else if(p.mode===N.LINE_STRIP)c=new n.N1A(d,f);else if(p.mode===N.LINE_LOOP)c=new n.FCc(d,f);else if(p.mode===N.POINTS)c=new n.ONl(d,f);else throw Error("THREE.GLTFLoader: Primitive mode unsupported: "+p.mode);Object.keys(c.geometry.morphAttributes).length>0&&function(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(let i=0,r=t.weights.length;i<r;i++)e.morphTargetInfluences[i]=t.weights[i];if(t.extras&&Array.isArray(t.extras.targetNames)){let i=t.extras.targetNames;if(e.morphTargetInfluences.length===i.length){e.morphTargetDictionary={};for(let t=0,r=i.length;t<r;t++)e.morphTargetDictionary[i[t]]=t}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}(c,s),c.name=t.createUniqueName(s.name||"mesh_"+e),ee(c,s),p.extensions&&$(r,c,p),t.assignFinalMaterial(c),h.push(c)}for(let i=0,r=h.length;i<r;i++)t.associations.set(h[i],{meshes:e,primitives:i});if(1===h.length)return s.extensions&&$(r,h[0],s),h[0];let c=new n.YJl;s.extensions&&$(r,c,s),t.associations.set(c,{meshes:e});for(let e=0,t=h.length;e<t;e++)c.add(h[e]);return c})}loadCamera(e){let t;let i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return"perspective"===i.type?t=new n.ubm(n.cj9.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===i.type&&(t=new n.qUd(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),ee(t,i),Promise.resolve(t)}loadSkin(e){let t=this.json.skins[e],i=[];for(let e=0,r=t.joints.length;e<r;e++)i.push(this._loadNodeShallow(t.joints[e]));return void 0!==t.inverseBindMatrices?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(e){let i=e.pop(),r=[],s=[];for(let a=0,o=e.length;a<o;a++){let o=e[a];if(o){r.push(o);let e=new n.kn4;null!==i&&e.fromArray(i.array,16*a),s.push(e)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[a])}return new n.EAD(r,s)})}loadAnimation(e){let t=this.json,i=this,r=t.animations[e],s=r.name?r.name:"animation_"+e,a=[],o=[],l=[],u=[],h=[];for(let e=0,t=r.channels.length;e<t;e++){let t=r.channels[e],i=r.samplers[t.sampler],n=t.target,s=n.node,c=void 0!==r.parameters?r.parameters[i.input]:i.input,d=void 0!==r.parameters?r.parameters[i.output]:i.output;void 0!==n.node&&(a.push(this.getDependency("node",s)),o.push(this.getDependency("accessor",c)),l.push(this.getDependency("accessor",d)),u.push(i),h.push(n))}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(l),Promise.all(u),Promise.all(h)]).then(function(e){let t=e[0],r=e[1],a=e[2],o=e[3],l=e[4],u=[];for(let e=0,n=t.length;e<n;e++){let n=t[e],s=r[e],h=a[e],c=o[e],d=l[e];if(void 0===n)continue;n.updateMatrix&&n.updateMatrix();let p=i._createAnimationTracks(n,s,h,c,d);if(p)for(let e=0;e<p.length;e++)u.push(p[e])}return new n.tz3(s,void 0,u)})}createNodeMesh(e){let t=this.json,i=this,r=t.nodes[e];return void 0===r.mesh?null:i.getDependency("mesh",r.mesh).then(function(e){let t=i._getNodeRef(i.meshCache,r.mesh,e);return void 0!==r.weights&&t.traverse(function(e){if(e.isMesh)for(let t=0,i=r.weights.length;t<i;t++)e.morphTargetInfluences[t]=r.weights[t]}),t})}loadNode(e){let t=this.json.nodes[e],i=this._loadNodeShallow(e),r=[],n=t.children||[];for(let e=0,t=n.length;e<t;e++)r.push(this.getDependency("node",n[e]));let s=void 0===t.skin?Promise.resolve(null):this.getDependency("skin",t.skin);return Promise.all([i,Promise.all(r),s]).then(function(e){let t=e[0],i=e[1],r=e[2];null!==r&&t.traverse(function(e){e.isSkinnedMesh&&e.bind(r,er)});for(let e=0,r=i.length;e<r;e++)t.add(i[e]);return t})}_loadNodeShallow(e){let t=this.json,i=this.extensions,r=this;if(void 0!==this.nodeCache[e])return this.nodeCache[e];let s=t.nodes[e],a=s.name?r.createUniqueName(s.name):"",o=[],l=r._invokeOne(function(t){return t.createNodeMesh&&t.createNodeMesh(e)});return l&&o.push(l),void 0!==s.camera&&o.push(r.getDependency("camera",s.camera).then(function(e){return r._getNodeRef(r.cameraCache,s.camera,e)})),r._invokeAll(function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)}).forEach(function(e){o.push(e)}),this.nodeCache[e]=Promise.all(o).then(function(t){let o;if((o=!0===s.isBone?new n.$Kf:t.length>1?new n.YJl:1===t.length?t[0]:new n.B69)!==t[0])for(let e=0,i=t.length;e<i;e++)o.add(t[e]);if(s.name&&(o.userData.name=s.name,o.name=a),ee(o,s),s.extensions&&$(i,o,s),void 0!==s.matrix){let e=new n.kn4;e.fromArray(s.matrix),o.applyMatrix4(e)}else void 0!==s.translation&&o.position.fromArray(s.translation),void 0!==s.rotation&&o.quaternion.fromArray(s.rotation),void 0!==s.scale&&o.scale.fromArray(s.scale);return r.associations.has(o)||r.associations.set(o,{}),r.associations.get(o).nodes=e,o}),this.nodeCache[e]}loadScene(e){let t=this.extensions,i=this.json.scenes[e],r=this,s=new n.YJl;i.name&&(s.name=r.createUniqueName(i.name)),ee(s,i),i.extensions&&$(t,s,i);let a=i.nodes||[],o=[];for(let e=0,t=a.length;e<t;e++)o.push(r.getDependency("node",a[e]));return Promise.all(o).then(function(e){for(let t=0,i=e.length;t<i;t++)s.add(e[t]);return r.associations=(e=>{let t=new Map;for(let[e,i]of r.associations)(e instanceof n.imn||e instanceof n.gPd)&&t.set(e,i);return e.traverse(e=>{let i=r.associations.get(e);null!=i&&t.set(e,i)}),t})(s),s})}_createAnimationTracks(e,t,i,r,s){let a;let o=[],l=e.name?e.name:e.uuid,u=[];switch(z[s.path]===z.weights?e.traverse(function(e){e.morphTargetInfluences&&u.push(e.name?e.name:e.uuid)}):u.push(l),z[s.path]){case z.weights:a=n.Hit;break;case z.rotation:a=n.MBL;break;case z.position:case z.scale:a=n.RiT;break;default:a=1===i.itemSize?n.Hit:n.RiT}let h=void 0!==r.interpolation?q[r.interpolation]:n.PJ3,c=this._getArrayFromAccessor(i);for(let e=0,i=u.length;e<i;e++){let i=new a(u[e]+"."+z[s.path],t.array,c,h);"CUBICSPLINE"===r.interpolation&&this._createCubicSplineTrackInterpolant(i),o.push(i)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){let e=ei(t.constructor),i=new Float32Array(t.length);for(let r=0,n=t.length;r<n;r++)i[r]=t[r]*e;t=i}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(e){return new(this instanceof n.MBL?J:U)(this.times,this.values,this.getValueSize()/3,e)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function es(e,t,i){let r=t.attributes,s=[];for(let t in r){let n=Y[t]||t.toLowerCase();n in e.attributes||s.push(function(t,r){return i.getDependency("accessor",t).then(function(t){e.setAttribute(r,t)})}(r[t],n))}if(void 0!==t.indices&&!e.index){let r=i.getDependency("accessor",t.indices).then(function(t){e.setIndex(t)});s.push(r)}return ee(e,t),!function(e,t,i){let r=t.attributes,s=new n.NRn;if(void 0===r.POSITION)return;{let e=i.json.accessors[r.POSITION],t=e.min,a=e.max;if(void 0!==t&&void 0!==a){if(s.set(new n.Pq0(t[0],t[1],t[2]),new n.Pq0(a[0],a[1],a[2])),e.normalized){let t=ei(K[e.componentType]);s.min.multiplyScalar(t),s.max.multiplyScalar(t)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}let a=t.targets;if(void 0!==a){let e=new n.Pq0,t=new n.Pq0;for(let r=0,n=a.length;r<n;r++){let n=a[r];if(void 0!==n.POSITION){let r=i.json.accessors[n.POSITION],s=r.min,a=r.max;if(void 0!==s&&void 0!==a){if(t.setX(Math.max(Math.abs(s[0]),Math.abs(a[0]))),t.setY(Math.max(Math.abs(s[1]),Math.abs(a[1]))),t.setZ(Math.max(Math.abs(s[2]),Math.abs(a[2]))),r.normalized){let e=ei(K[r.componentType]);t.multiplyScalar(e)}e.max(t)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}s.expandByVector(e)}e.boundingBox=s;let o=new n.iyt;s.getCenter(o.center),o.radius=s.min.distanceTo(s.max)/2,e.boundingSphere=o}(e,t,i),Promise.all(s).then(function(){return void 0!==t.targets?function(e,t,i){let r=!1,n=!1,s=!1;for(let e=0,i=t.length;e<i;e++){let i=t[e];if(void 0!==i.POSITION&&(r=!0),void 0!==i.NORMAL&&(n=!0),void 0!==i.COLOR_0&&(s=!0),r&&n&&s)break}if(!r&&!n&&!s)return Promise.resolve(e);let a=[],o=[],l=[];for(let u=0,h=t.length;u<h;u++){let h=t[u];if(r){let t=void 0!==h.POSITION?i.getDependency("accessor",h.POSITION):e.attributes.position;a.push(t)}if(n){let t=void 0!==h.NORMAL?i.getDependency("accessor",h.NORMAL):e.attributes.normal;o.push(t)}if(s){let t=void 0!==h.COLOR_0?i.getDependency("accessor",h.COLOR_0):e.attributes.color;l.push(t)}}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(l)]).then(function(t){let i=t[0],a=t[1],o=t[2];return r&&(e.morphAttributes.position=i),n&&(e.morphAttributes.normal=a),s&&(e.morphAttributes.color=o),e.morphTargetsRelative=!0,e})}(e,t.targets,i):e})}var ea=i(73);let eo=null,el="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function eu(e=!0,t=!0,i){return r=>{i&&i(r),e&&(eo||(eo=new a),eo.setDecoderPath("string"==typeof e?e:el),r.setDRACOLoader(eo)),t&&r.setMeshoptDecoder("function"==typeof l?l():l)}}let eh=(e,t,i,r)=>(0,ea.F)(f,e,eu(t,i,r));eh.preload=(e,t,i,r)=>ea.F.preload(f,e,eu(t,i,r)),eh.clear=e=>ea.F.clear(f,e),eh.setDecoderPath=e=>{el=e}},5084:(e,t,i)=>{i.d(t,{N:()=>v});var r=i(5155),n=i(2115),s=i(7728),a=i(6168),o=i(9025),l=i(430),u=i(7471);class h extends n.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,i=e instanceof HTMLElement&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=i-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function c(e){let{children:t,isPresent:i,anchorX:s}=e,a=(0,n.useId)(),o=(0,n.useRef)(null),l=(0,n.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,n.useContext)(u.Q);return(0,n.useInsertionEffect)(()=>{let{width:e,height:t,top:r,left:n,right:u}=l.current;if(i||!o.current||!e||!t)return;o.current.dataset.motionPopId=a;let h=document.createElement("style");return c&&(h.nonce=c),document.head.appendChild(h),h.sheet&&h.sheet.insertRule('\n          [data-motion-pop-id="'.concat(a,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===s?"left: ".concat(n):"right: ".concat(u),"px !important;\n            top: ").concat(r,"px !important;\n          }\n        ")),()=>{document.head.removeChild(h)}},[i]),(0,r.jsx)(h,{isPresent:i,childRef:o,sizeRef:l,children:n.cloneElement(t,{ref:o})})}let d=e=>{let{children:t,initial:i,isPresent:s,onExitComplete:o,custom:u,presenceAffectsLayout:h,mode:d,anchorX:f}=e,m=(0,a.M)(p),g=(0,n.useId)(),v=(0,n.useCallback)(e=>{for(let t of(m.set(e,!0),m.values()))if(!t)return;o&&o()},[m,o]),A=(0,n.useMemo)(()=>({id:g,initial:i,isPresent:s,custom:u,onExitComplete:v,register:e=>(m.set(e,!1),()=>m.delete(e))}),h?[Math.random(),v]:[s,v]);return(0,n.useMemo)(()=>{m.forEach((e,t)=>m.set(t,!1))},[s]),n.useEffect(()=>{s||m.size||!o||o()},[s]),"popLayout"===d&&(t=(0,r.jsx)(c,{isPresent:s,anchorX:f,children:t})),(0,r.jsx)(l.t.Provider,{value:A,children:t})};function p(){return new Map}var f=i(4905);let m=e=>e.key||"";function g(e){let t=[];return n.Children.forEach(e,e=>{(0,n.isValidElement)(e)&&t.push(e)}),t}let v=e=>{let{children:t,custom:i,initial:l=!0,onExitComplete:u,presenceAffectsLayout:h=!0,mode:c="sync",propagate:p=!1,anchorX:v="left"}=e,[A,y]=(0,f.xQ)(p),B=(0,n.useMemo)(()=>g(t),[t]),C=p&&!A?[]:B.map(m),b=(0,n.useRef)(!0),x=(0,n.useRef)(B),w=(0,a.M)(()=>new Map),[E,M]=(0,n.useState)(B),[T,S]=(0,n.useState)(B);(0,o.E)(()=>{b.current=!1,x.current=B;for(let e=0;e<T.length;e++){let t=m(T[e]);C.includes(t)?w.delete(t):!0!==w.get(t)&&w.set(t,!1)}},[T,C.length,C.join("-")]);let P=[];if(B!==E){let e=[...B];for(let t=0;t<T.length;t++){let i=T[t],r=m(i);C.includes(r)||(e.splice(t,0,i),P.push(i))}return"wait"===c&&P.length&&(e=P),S(g(e)),M(B),null}let{forceRender:F}=(0,n.useContext)(s.L);return(0,r.jsx)(r.Fragment,{children:T.map(e=>{let t=m(e),n=(!p||!!A)&&(B===T||C.includes(t));return(0,r.jsx)(d,{isPresent:n,initial:(!b.current||!!l)&&void 0,custom:i,presenceAffectsLayout:h,mode:c,onExitComplete:n?void 0:()=>{if(!w.has(t))return;w.set(t,!0);let e=!0;w.forEach(t=>{t||(e=!1)}),e&&(null==F||F(),S(x.current),p&&(null==y||y()),u&&u())},anchorX:v,children:e},t)})})}},5190:(e,t,i)=>{i.d(t,{Sz:()=>a,ZZ:()=>l,dg:()=>o});var r=i(3945),n=i(567),s=i(6498);let a=(0,r.A)(.33,1.53,.69,.99),o=(0,s.G)(a),l=(0,n.V)(o)},5220:(e,t,i)=>{e.exports=i(1724)},5384:(e,t,i)=>{i.d(t,{Xu:()=>p,mx:()=>u});var r=i(3264),n=i(7431),s=Object.defineProperty,a=(e,t,i)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,o=(e,t,i)=>(a(e,"symbol"!=typeof t?t+"":t,i),i);function l(e,t,i,r,n){let s;if(e=e.subarray||e.slice?e:e.buffer,i=i.subarray||i.slice?i:i.buffer,e=t?e.subarray?e.subarray(t,n&&t+n):e.slice(t,n&&t+n):e,i.set)i.set(e,r);else for(s=0;s<e.length;s++)i[s+r]=e[s];return i}class u extends r.LoY{constructor(){super(),o(this,"type","MeshLine"),o(this,"isMeshLine",!0),o(this,"positions",[]),o(this,"previous",[]),o(this,"next",[]),o(this,"side",[]),o(this,"width",[]),o(this,"indices_array",[]),o(this,"uvs",[]),o(this,"counters",[]),o(this,"widthCallback",null),o(this,"_attributes"),o(this,"_points",[]),o(this,"points"),o(this,"matrixWorld",new r.kn4),Object.defineProperties(this,{points:{enumerable:!0,get(){return this._points},set(e){this.setPoints(e,this.widthCallback)}}})}setMatrixWorld(e){this.matrixWorld=e}setPoints(e,t){var i;if(e=(i=e)instanceof Float32Array?i:i instanceof r.LoY?i.getAttribute("position").array:i.map(e=>{let t=Array.isArray(e);return e instanceof r.Pq0?[e.x,e.y,e.z]:e instanceof r.I9Y?[e.x,e.y,0]:t&&3===e.length?[e[0],e[1],e[2]]:t&&2===e.length?[e[0],e[1],0]:e}).flat(),this._points=e,this.widthCallback=null!=t?t:null,this.positions=[],this.counters=[],e.length&&e[0]instanceof r.Pq0)for(let t=0;t<e.length;t++){let i=e[t],r=t/(e.length-1);this.positions.push(i.x,i.y,i.z),this.positions.push(i.x,i.y,i.z),this.counters.push(r),this.counters.push(r)}else for(let t=0;t<e.length;t+=3){let i=t/(e.length-1);this.positions.push(e[t],e[t+1],e[t+2]),this.positions.push(e[t],e[t+1],e[t+2]),this.counters.push(i),this.counters.push(i)}this.process()}compareV3(e,t){let i=6*e,r=6*t;return this.positions[i]===this.positions[r]&&this.positions[i+1]===this.positions[r+1]&&this.positions[i+2]===this.positions[r+2]}copyV3(e){let t=6*e;return[this.positions[t],this.positions[t+1],this.positions[t+2]]}process(){let e,t;let i=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],t=this.compareV3(0,i-1)?this.copyV3(i-2):this.copyV3(0),this.previous.push(t[0],t[1],t[2]),this.previous.push(t[0],t[1],t[2]);for(let r=0;r<i;r++){if(this.side.push(1),this.side.push(-1),e=this.widthCallback?this.widthCallback(r/(i-1)):1,this.width.push(e),this.width.push(e),this.uvs.push(r/(i-1),0),this.uvs.push(r/(i-1),1),r<i-1){t=this.copyV3(r),this.previous.push(t[0],t[1],t[2]),this.previous.push(t[0],t[1],t[2]);let e=2*r;this.indices_array.push(e,e+1,e+2),this.indices_array.push(e+2,e+1,e+3)}r>0&&(t=this.copyV3(r),this.next.push(t[0],t[1],t[2]),this.next.push(t[0],t[1],t[2]))}t=this.compareV3(i-1,0)?this.copyV3(1):this.copyV3(i-1),this.next.push(t[0],t[1],t[2]),this.next.push(t[0],t[1],t[2]),this._attributes&&this._attributes.position.count===this.counters.length?(this._attributes.position.copyArray(new Float32Array(this.positions)),this._attributes.position.needsUpdate=!0,this._attributes.previous.copyArray(new Float32Array(this.previous)),this._attributes.previous.needsUpdate=!0,this._attributes.next.copyArray(new Float32Array(this.next)),this._attributes.next.needsUpdate=!0,this._attributes.side.copyArray(new Float32Array(this.side)),this._attributes.side.needsUpdate=!0,this._attributes.width.copyArray(new Float32Array(this.width)),this._attributes.width.needsUpdate=!0,this._attributes.uv.copyArray(new Float32Array(this.uvs)),this._attributes.uv.needsUpdate=!0,this._attributes.index.copyArray(new Uint16Array(this.indices_array)),this._attributes.index.needsUpdate=!0):this._attributes={position:new r.THS(new Float32Array(this.positions),3),previous:new r.THS(new Float32Array(this.previous),3),next:new r.THS(new Float32Array(this.next),3),side:new r.THS(new Float32Array(this.side),1),width:new r.THS(new Float32Array(this.width),1),uv:new r.THS(new Float32Array(this.uvs),2),index:new r.THS(new Uint16Array(this.indices_array),1),counters:new r.THS(new Float32Array(this.counters),1)},this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setIndex(this._attributes.index),this.computeBoundingSphere(),this.computeBoundingBox()}advance({x:e,y:t,z:i}){let r=this._attributes.position.array,n=this._attributes.previous.array,s=this._attributes.next.array,a=r.length;l(r,0,n,0,a),l(r,6,r,0,a-6),r[a-6]=e,r[a-5]=t,r[a-4]=i,r[a-3]=e,r[a-2]=t,r[a-1]=i,l(r,6,s,0,a-6),s[a-6]=e,s[a-5]=t,s[a-4]=i,s[a-3]=e,s[a-2]=t,s[a-1]=i,this._attributes.position.needsUpdate=!0,this._attributes.previous.needsUpdate=!0,this._attributes.next.needsUpdate=!0}}let h=`
  #include <common>
  #include <logdepthbuf_pars_vertex>
  #include <fog_pars_vertex>
  #include <clipping_planes_pars_vertex>

  attribute vec3 previous;
  attribute vec3 next;
  attribute float side;
  attribute float width;
  attribute float counters;
  
  uniform vec2 resolution;
  uniform float lineWidth;
  uniform vec3 color;
  uniform float opacity;
  uniform float sizeAttenuation;
  
  varying vec2 vUV;
  varying vec4 vColor;
  varying float vCounters;
  
  vec2 fix(vec4 i, float aspect) {
    vec2 res = i.xy / i.w;
    res.x *= aspect;
    return res;
  }
  
  void main() {
    float aspect = resolution.x / resolution.y;
    vColor = vec4(color, opacity);
    vUV = uv;
    vCounters = counters;
  
    mat4 m = projectionMatrix * modelViewMatrix;
    vec4 finalPosition = m * vec4(position, 1.0) * aspect;
    vec4 prevPos = m * vec4(previous, 1.0);
    vec4 nextPos = m * vec4(next, 1.0);
  
    vec2 currentP = fix(finalPosition, aspect);
    vec2 prevP = fix(prevPos, aspect);
    vec2 nextP = fix(nextPos, aspect);
  
    float w = lineWidth * width;
  
    vec2 dir;
    if (nextP == currentP) dir = normalize(currentP - prevP);
    else if (prevP == currentP) dir = normalize(nextP - currentP);
    else {
      vec2 dir1 = normalize(currentP - prevP);
      vec2 dir2 = normalize(nextP - currentP);
      dir = normalize(dir1 + dir2);
  
      vec2 perp = vec2(-dir1.y, dir1.x);
      vec2 miter = vec2(-dir.y, dir.x);
      //w = clamp(w / dot(miter, perp), 0., 4. * lineWidth * width);
    }
  
    //vec2 normal = (cross(vec3(dir, 0.), vec3(0., 0., 1.))).xy;
    vec4 normal = vec4(-dir.y, dir.x, 0., 1.);
    normal.xy *= .5 * w;
    //normal *= projectionMatrix;
    if (sizeAttenuation == 0.) {
      normal.xy *= finalPosition.w;
      normal.xy /= (vec4(resolution, 0., 1.) * projectionMatrix).xy * aspect;
    }
  
    finalPosition.xy += normal.xy * side;
    gl_Position = finalPosition;
    #include <logdepthbuf_vertex>
    #include <fog_vertex>
    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
    #include <clipping_planes_vertex>
    #include <fog_vertex>
  }
`,c=parseInt(r.sPf.replace(/\D+/g,"")),d=`
  #include <fog_pars_fragment>
  #include <logdepthbuf_pars_fragment>
  #include <clipping_planes_pars_fragment>
  
  uniform sampler2D map;
  uniform sampler2D alphaMap;
  uniform float useGradient;
  uniform float useMap;
  uniform float useAlphaMap;
  uniform float useDash;
  uniform float dashArray;
  uniform float dashOffset;
  uniform float dashRatio;
  uniform float visibility;
  uniform float alphaTest;
  uniform vec2 repeat;
  uniform vec3 gradient[2];
  
  varying vec2 vUV;
  varying vec4 vColor;
  varying float vCounters;
  
  void main() {
    #include <logdepthbuf_fragment>
    vec4 diffuseColor = vColor;
    if (useGradient == 1.) diffuseColor = vec4(mix(gradient[0], gradient[1], vCounters), 1.0);
    if (useMap == 1.) diffuseColor *= texture2D(map, vUV * repeat);
    if (useAlphaMap == 1.) diffuseColor.a *= texture2D(alphaMap, vUV * repeat).a;
    if (diffuseColor.a < alphaTest) discard;
    if (useDash == 1.) diffuseColor.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));
    diffuseColor.a *= step(vCounters, visibility);
    #include <clipping_planes_fragment>
    gl_FragColor = diffuseColor;     
    #include <fog_fragment>
    #include <tonemapping_fragment>
    #include <${c>=154?"colorspace_fragment":"encodings_fragment"}>
  }
`;class p extends r.BKk{constructor(e){super({uniforms:{...n.UniformsLib.fog,lineWidth:{value:1},map:{value:null},useMap:{value:0},alphaMap:{value:null},useAlphaMap:{value:0},color:{value:new r.Q1f(0xffffff)},gradient:{value:[new r.Q1f(0xff0000),new r.Q1f(65280)]},opacity:{value:1},resolution:{value:new r.I9Y(1,1)},sizeAttenuation:{value:1},dashArray:{value:0},dashOffset:{value:0},dashRatio:{value:.5},useDash:{value:0},useGradient:{value:0},visibility:{value:1},alphaTest:{value:0},repeat:{value:new r.I9Y(1,1)}},vertexShader:h,fragmentShader:d}),o(this,"lineWidth"),o(this,"map"),o(this,"useMap"),o(this,"alphaMap"),o(this,"useAlphaMap"),o(this,"color"),o(this,"gradient"),o(this,"resolution"),o(this,"sizeAttenuation"),o(this,"dashArray"),o(this,"dashOffset"),o(this,"dashRatio"),o(this,"useDash"),o(this,"useGradient"),o(this,"visibility"),o(this,"repeat"),this.type="MeshLineMaterial",Object.defineProperties(this,{lineWidth:{enumerable:!0,get(){return this.uniforms.lineWidth.value},set(e){this.uniforms.lineWidth.value=e}},map:{enumerable:!0,get(){return this.uniforms.map.value},set(e){this.uniforms.map.value=e}},useMap:{enumerable:!0,get(){return this.uniforms.useMap.value},set(e){this.uniforms.useMap.value=e}},alphaMap:{enumerable:!0,get(){return this.uniforms.alphaMap.value},set(e){this.uniforms.alphaMap.value=e}},useAlphaMap:{enumerable:!0,get(){return this.uniforms.useAlphaMap.value},set(e){this.uniforms.useAlphaMap.value=e}},color:{enumerable:!0,get(){return this.uniforms.color.value},set(e){this.uniforms.color.value=e}},gradient:{enumerable:!0,get(){return this.uniforms.gradient.value},set(e){this.uniforms.gradient.value=e}},opacity:{enumerable:!0,get(){return this.uniforms.opacity.value},set(e){this.uniforms.opacity.value=e}},resolution:{enumerable:!0,get(){return this.uniforms.resolution.value},set(e){this.uniforms.resolution.value.copy(e)}},sizeAttenuation:{enumerable:!0,get(){return this.uniforms.sizeAttenuation.value},set(e){this.uniforms.sizeAttenuation.value=e}},dashArray:{enumerable:!0,get(){return this.uniforms.dashArray.value},set(e){this.uniforms.dashArray.value=e,this.useDash=+(0!==e)}},dashOffset:{enumerable:!0,get(){return this.uniforms.dashOffset.value},set(e){this.uniforms.dashOffset.value=e}},dashRatio:{enumerable:!0,get(){return this.uniforms.dashRatio.value},set(e){this.uniforms.dashRatio.value=e}},useDash:{enumerable:!0,get(){return this.uniforms.useDash.value},set(e){this.uniforms.useDash.value=e}},useGradient:{enumerable:!0,get(){return this.uniforms.useGradient.value},set(e){this.uniforms.useGradient.value=e}},visibility:{enumerable:!0,get(){return this.uniforms.visibility.value},set(e){this.uniforms.visibility.value=e}},alphaTest:{enumerable:!0,get(){return this.uniforms.alphaTest.value},set(e){this.uniforms.alphaTest.value=e}},repeat:{enumerable:!0,get(){return this.uniforms.repeat.value},set(e){this.uniforms.repeat.value.copy(e)}}}),this.setValues(e)}copy(e){return super.copy(e),this.lineWidth=e.lineWidth,this.map=e.map,this.useMap=e.useMap,this.alphaMap=e.alphaMap,this.useAlphaMap=e.useAlphaMap,this.color.copy(e.color),this.gradient=e.gradient,this.opacity=e.opacity,this.resolution.copy(e.resolution),this.sizeAttenuation=e.sizeAttenuation,this.dashArray=e.dashArray,this.dashOffset=e.dashOffset,this.dashRatio=e.dashRatio,this.useDash=e.useDash,this.useGradient=e.useGradient,this.visibility=e.visibility,this.alphaTest=e.alphaTest,this.repeat.copy(e.repeat),this}}},5443:(e,t,i)=>{let r;i.d(t,{P6:()=>o,qU:()=>W,vG:()=>d,tu:()=>h,WG:()=>w,bt:()=>Z,Gt:()=>x,uv:()=>E,PP:()=>M,KZ:()=>g,rU:()=>l,PT:()=>G,DW:()=>p,WH:()=>c,Mc:()=>H,yL:()=>v,TU:()=>function e(t,i){if(t)return"function"==typeof t&&m()?g(t,i):p(t)?A(t):Array.isArray(t)?t.map(t=>e(t,i)||y.easeOut):y[t]},YE:()=>u,k2:()=>T,OQ:()=>ee,c$:()=>K,KJ:()=>D,Wp:()=>R,Qu:()=>C,nL:()=>m,Jb:()=>s,kB:()=>P});var n=i(4331);let s=(0,n.ph)(()=>void 0!==window.ScrollTimeline);class a{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e,t){let i=this.animations.map(i=>s()&&i.attachTimeline?i.attachTimeline(e):"function"==typeof t?t(i):void 0);return()=>{i.forEach((e,t)=>{e&&e(),this.animations[t].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class o extends a{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function l(e,t){return e?e[t]||e.default||e:void 0}let u=2e4;function h(e){let t=0,i=e.next(t);for(;!i.done&&t<u;)t+=50,i=e.next(t);return t>=u?1/0:t}function c(e){return"function"==typeof e}function d(e,t){e.timeline=t,e.onfinish=null}let p=e=>Array.isArray(e)&&"number"==typeof e[0],f={linearEasing:void 0},m=function(e,t){let i=(0,n.ph)(e);return()=>{var e;return null!==(e=f[t])&&void 0!==e?e:i()}}(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),g=(e,t,i=10)=>{let r="",s=Math.max(Math.round(t/i),2);for(let t=0;t<s;t++)r+=e((0,n.qB)(0,s-1,t))+", ";return`linear(${r.substring(0,r.length-2)})`};function v(e){return!!("function"==typeof e&&m()||!e||"string"==typeof e&&(e in y||m())||p(e)||Array.isArray(e)&&e.every(v))}let A=([e,t,i,r])=>`cubic-bezier(${e}, ${t}, ${i}, ${r})`,y={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:A([0,.65,.55,1]),circOut:A([.55,0,1,.45]),backIn:A([.31,.01,.66,-.59]),backOut:A([.33,1.53,.69,.99])},B=["read","resolveKeyframes","update","preRender","render","postRender"],C={value:null,addProjectionMetrics:null};function b(e,t){let i=!1,r=!0,s={delta:0,timestamp:0,isProcessing:!1},a=()=>i=!0,o=B.reduce((e,i)=>(e[i]=function(e,t){let i=new Set,r=new Set,n=!1,s=!1,a=new WeakSet,o={delta:0,timestamp:0,isProcessing:!1},l=0;function u(t){a.has(t)&&(h.schedule(t),e()),l++,t(o)}let h={schedule:(e,t=!1,s=!1)=>{let o=s&&n?i:r;return t&&a.add(e),o.has(e)||o.add(e),e},cancel:e=>{r.delete(e),a.delete(e)},process:e=>{if(o=e,n){s=!0;return}n=!0,[i,r]=[r,i],i.forEach(u),t&&C.value&&C.value.frameloop[t].push(l),l=0,i.clear(),n=!1,s&&(s=!1,h.process(e))}};return h}(a,t?i:void 0),e),{}),{read:l,resolveKeyframes:u,update:h,preRender:c,render:d,postRender:p}=o,f=()=>{let a=n.W9.useManualTiming?s.timestamp:performance.now();i=!1,n.W9.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(a-s.timestamp,40),1)),s.timestamp=a,s.isProcessing=!0,l.process(s),u.process(s),h.process(s),c.process(s),d.process(s),p.process(s),s.isProcessing=!1,i&&t&&(r=!1,e(f))},m=()=>{i=!0,r=!0,s.isProcessing||e(f)};return{schedule:B.reduce((e,t)=>{let r=o[t];return e[t]=(e,t=!1,n=!1)=>(i||m(),r.schedule(e,t,n)),e},{}),cancel:e=>{for(let t=0;t<B.length;t++)o[B[t]].cancel(e)},state:s,steps:o}}let{schedule:x,cancel:w,state:E,steps:M}=b("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:n.lQ,!0),{schedule:T}=b(queueMicrotask,!1);function S(){r=void 0}let P={now:()=>(void 0===r&&P.set(E.isProcessing||n.W9.useManualTiming?E.timestamp:performance.now()),r),set:e=>{r=e,queueMicrotask(S)}},F={x:!1,y:!1};function R(e){return"x"===e||"y"===e?F[e]?null:(F[e]=!0,()=>{F[e]=!1}):F.x||F.y?null:(F.x=F.y=!0,()=>{F.x=F.y=!1})}function D(e,t,i){var r;if(e instanceof EventTarget)return[e];if("string"==typeof e){let n=document;t&&(n=t.current);let s=null!==(r=null==i?void 0:i[e])&&void 0!==r?r:n.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function I(e,t){let i=D(e),r=new AbortController;return[i,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function O(e){return!("touch"===e.pointerType||F.x||F.y)}function G(e,t,i={}){let[r,n,s]=I(e,i),a=e=>{if(!O(e))return;let{target:i}=e,r=t(i,e);if("function"!=typeof r||!i)return;let s=e=>{O(e)&&(r(e),i.removeEventListener("pointerleave",s))};i.addEventListener("pointerleave",s,n)};return r.forEach(e=>{e.addEventListener("pointerenter",a,n)}),s}function L(e,t){let i=`${t}PointerCapture`;if(e.target instanceof Element&&i in e.target&&void 0!==e.pointerId)try{e.target[i](e.pointerId)}catch(e){}}let k=(e,t)=>!!t&&(e===t||k(e,t.parentElement)),H=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary,_=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),j=new WeakSet;function U(e){return t=>{"Enter"===t.key&&e(t)}}function V(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}let J=(e,t)=>{let i=e.currentTarget;if(!i)return;let r=U(()=>{if(j.has(i))return;V(i,"down");let e=U(()=>{V(i,"up")});i.addEventListener("keyup",e,t),i.addEventListener("blur",()=>V(i,"cancel"),t)});i.addEventListener("keydown",r,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),t)};function N(e){return H(e)&&!(F.x||F.y)}function K(e,t,i={}){let[r,n,s]=I(e,i),a=e=>{let i=e.currentTarget;if(!i||!N(e)||j.has(i))return;j.add(i),L(e,"set");let r=t(i,e),s=(e,t)=>{i.removeEventListener("pointerup",a),i.removeEventListener("pointercancel",o),L(e,"release"),N(e)&&j.has(i)&&(j.delete(i),"function"==typeof r&&r(e,{success:t}))},a=e=>{var t,r;e.isTrusted&&(t=e,r=i instanceof Element?i.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight},t.clientX<r.left||t.clientX>r.right||t.clientY<r.top||t.clientY>r.bottom)?s(e,!1):s(e,!(i instanceof Element)||k(i,e.target))},o=e=>{s(e,!1)};i.addEventListener("pointerup",a,n),i.addEventListener("pointercancel",o,n),i.addEventListener("lostpointercapture",o,n)};return r.forEach(e=>{e=i.useGlobalTarget?window:e;let t=!1;if(e instanceof HTMLElement){var r;t=!0,r=e,!_.has(r.tagName)&&-1===r.tabIndex&&null===e.getAttribute("tabindex")&&(e.tabIndex=0)}e.addEventListener("pointerdown",a,n),t&&e.addEventListener("focus",e=>J(e,n),n)}),s}let W={layout:0,mainThread:0,waapi:0};function X(){let{value:e}=statsBuffer;if(null===e){cancelFrame(X);return}e.frameloop.rate.push(frameData.delta),e.animations.mainThread.push(activeAnimations.mainThread),e.animations.waapi.push(activeAnimations.waapi),e.animations.layout.push(activeAnimations.layout)}function Q(e){return e.reduce((e,t)=>e+t,0)/e.length}function Y(e,t=Q){return 0===e.length?{min:0,max:0,avg:0}:{min:Math.min(...e),max:Math.max(...e),avg:t(e)}}let z=e=>Math.round(1e3/e),q=e=>!isNaN(parseFloat(e)),Z={current:void 0};class ${constructor(e,t={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(e,t=!0)=>{let i=P.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=P.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=q(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new n.vY);let i=this.events[e].add(t);return"change"===e?()=>{i(),x.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Z.current&&Z.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){let e=P.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;let t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return(0,n.fj)(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ee(e,t){return new $(e,t)}},5471:(e,t,i)=>{i.d(t,{KN:()=>s,gQ:()=>u,px:()=>a,uj:()=>n,vh:()=>o,vw:()=>l});let r=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),n=r("deg"),s=r("%"),a=r("px"),o=r("vh"),l=r("vw"),u={...s,parse:e=>s.parse(e)/100,transform:e=>s.transform(100*e)}},5643:(e,t,i)=>{e.exports=i(6115)},6111:(e,t,i)=>{i.d(t,{i:()=>h});var r=i(5443),n=i(8203),s=i(4528),a=i(4331),o=i(3013);let l=(e,t)=>"zIndex"!==t&&!!("number"==typeof e||Array.isArray(e)||"string"==typeof e&&(o.f.test(e)||"0"===e)&&!e.startsWith("url("));var u=i(1232);class h{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=r.kB.now(),this.options={autoplay:e,delay:t,type:i,repeat:n,repeatDelay:s,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(0,n.q)(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=r.kB.now(),this.hasAttemptedResolve=!0;let{name:i,type:n,velocity:o,delay:h,onComplete:c,onUpdate:d,isGenerator:p}=this.options;if(!p&&!function(e,t,i,n){let s=e[0];if(null===s)return!1;if("display"===t||"visibility"===t)return!0;let o=e[e.length-1],u=l(s,t),h=l(o,t);return(0,a.$e)(u===h,`You are trying to animate ${t} from "${s}" to "${o}". ${s} is not an animatable value - to enable this animation set ${s} to a value animatable to ${o} via the \`style\` property.`),!!u&&!!h&&(function(e){let t=e[0];if(1===e.length)return!0;for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}(e)||("spring"===i||(0,r.WH)(i))&&n)}(e,i,n,o)){if(s.d.current||!h){d&&d((0,u.X)(e,this.options,t)),c&&c(),this.resolveFinishedPromise();return}this.options.duration=0}let f=this.initPlayback(e,t);!1!==f&&(this._resolved={keyframes:e,finalKeyframe:t,...f},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}},6115:(e,t,i)=>{var r=i(2115),n=i(9033),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=n.useSyncExternalStore,o=r.useRef,l=r.useEffect,u=r.useMemo,h=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,i,r,n){var c=o(null);if(null===c.current){var d={hasValue:!1,value:null};c.current=d}else d=c.current;var p=a(e,(c=u(function(){function e(e){if(!l){if(l=!0,a=e,e=r(e),void 0!==n&&d.hasValue){var t=d.value;if(n(t,e))return o=t}return o=e}if(t=o,s(a,e))return t;var i=r(e);return void 0!==n&&n(t,i)?(a=e,t):(a=e,o=i)}var a,o,l=!1,u=void 0===i?null:i;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,i,r,n]))[0],c[1]);return l(function(){d.hasValue=!0,d.value=p},[p]),h(p),p}},6168:(e,t,i)=>{i.d(t,{M:()=>n});var r=i(2115);function n(e){let t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}},6176:(e,t,i)=>{i.d(t,{_c:()=>s,ec:()=>n});var r=i(3264);function n(e,t=1e-4){t=Math.max(t,Number.EPSILON);let i={},s=e.getIndex(),a=e.getAttribute("position"),o=s?s.count:a.count,l=0,u=Object.keys(e.attributes),h={},c={},d=[],p=["getX","getY","getZ","getW"];for(let t=0,i=u.length;t<i;t++){let i=u[t];h[i]=[];let r=e.morphAttributes[i];r&&(c[i]=Array(r.length).fill(0).map(()=>[]))}let f=Math.pow(10,Math.log10(1/t));for(let t=0;t<o;t++){let r=s?s.getX(t):t,n="";for(let t=0,i=u.length;t<i;t++){let i=u[t],s=e.getAttribute(i),a=s.itemSize;for(let e=0;e<a;e++)n+=`${~~(s[p[e]](r)*f)},`}if(n in i)d.push(i[n]);else{for(let t=0,i=u.length;t<i;t++){let i=u[t],n=e.getAttribute(i),s=e.morphAttributes[i],a=n.itemSize,o=h[i],l=c[i];for(let e=0;e<a;e++){let t=p[e];if(o.push(n[t](r)),s)for(let e=0,i=s.length;e<i;e++)l[e].push(s[e][t](r))}}i[n]=l,d.push(l),l++}}let m=e.clone();for(let t=0,i=u.length;t<i;t++){let i=u[t],n=e.getAttribute(i),s=new n.array.constructor(h[i]),a=new r.THS(s,n.itemSize,n.normalized);if(m.setAttribute(i,a),i in c)for(let t=0;t<c[i].length;t++){let n=e.morphAttributes[i][t],s=new n.array.constructor(c[i][t]),a=new r.THS(s,n.itemSize,n.normalized);m.morphAttributes[i][t]=a}}return m.setIndex(d),m}function s(e,t){if(t===r.RJ4)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t!==r.rYR&&t!==r.O49)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e;{let i=e.getIndex();if(null===i){let t=[],r=e.getAttribute("position");if(void 0===r)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(let e=0;e<r.count;e++)t.push(e);e.setIndex(t),i=e.getIndex()}let n=i.count-2,s=[];if(i){if(t===r.rYR)for(let e=1;e<=n;e++)s.push(i.getX(0)),s.push(i.getX(e)),s.push(i.getX(e+1));else for(let e=0;e<n;e++)e%2==0?(s.push(i.getX(e)),s.push(i.getX(e+1)),s.push(i.getX(e+2))):(s.push(i.getX(e+2)),s.push(i.getX(e+1)),s.push(i.getX(e)))}s.length/3!==n&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");let a=e.clone();return a.setIndex(s),a.clearGroups(),a}}},6354:(e,t,i)=>{i.d(t,{Af:()=>o,Nz:()=>n,u5:()=>l,y3:()=>c});var r=i(2115);function n(e,t,i){if(!e)return;if(!0===i(e))return e;let r=t?e.return:e.child;for(;r;){let e=n(r,t,i);if(e)return e;r=t?null:r.sibling}}function s(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}(()=>{var e,t;return"undefined"!=typeof window&&((null==(e=window.document)?void 0:e.createElement)||(null==(t=window.navigator)?void 0:t.product)==="ReactNative")})()?r.useLayoutEffect:r.useEffect;let a=s(r.createContext(null));class o extends r.Component{render(){return r.createElement(a.Provider,{value:this._reactInternals},this.props.children)}}function l(){let e=r.useContext(a);if(null===e)throw Error("its-fine: useFiber must be called within a <FiberProvider />!");let t=r.useId();return r.useMemo(()=>{for(let i of[e,null==e?void 0:e.alternate]){if(!i)continue;let e=n(i,!1,e=>{let i=e.memoizedState;for(;i;){if(i.memoizedState===t)return!0;i=i.next}});if(e)return e}},[e,t])}let u=Symbol.for("react.context"),h=e=>null!==e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===u;function c(){let e=function(){let e=l(),[t]=r.useState(()=>new Map);t.clear();let i=e;for(;i;){let e=i.type;h(e)&&e!==a&&!t.has(e)&&t.set(e,r.use(s(e))),i=i.return}return t}();return r.useMemo(()=>Array.from(e.keys()).reduce((t,i)=>n=>r.createElement(t,null,r.createElement(i.Provider,{...n,value:e.get(i)})),e=>r.createElement(o,{...e})),[e])}},6386:(e,t,i)=>{i.d(t,{P:()=>rv});var r,n,s=i(4331);function a(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function o(e){let t=[{},{}];return null==e||e.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function l(e,t,i,r){if("function"==typeof t){let[n,s]=o(r);t=t(void 0!==i?i:e.custom,n,s)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){let[n,s]=o(r);t=t(void 0!==i?i:e.custom,n,s)}return t}function u(e,t,i){let r=e.getProps();return l(r,t,void 0!==i?i:r.custom,e)}var h=i(5443),c=i(7387);let d=new Set(["width","height","top","left","right","bottom",...c.U]),p=e=>Array.isArray(e),f=e=>!!(e&&"object"==typeof e&&e.mix&&e.toValue),m=e=>p(e)?e[e.length-1]||0:e;var g=i(4570);function v(e,t){let i=e.getValue("willChange");if((0,g.S)(i)&&i.add)return i.add(t)}let A=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),y="data-"+A("framerAppearId");var B=i(4528),C=i(6660),b=i(5190),x=i(9282);let w=e=>/^0[^.\s]+$/u.test(e);var E=i(3013),M=i(6479);let T=new Set(["brightness","contrast","saturate","opacity"]);function S(e){let[t,i]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;let[r]=i.match(M.S)||[];if(!r)return e;let n=i.replace(r,""),s=+!!T.has(t);return r!==i&&(s*=100),t+"("+s+n+")"}let P=/\b([a-z-]*)\(.*?\)/gu,F={...E.f,getAnimatableNone:e=>{let t=e.match(P);return t?t.map(S).join(" "):e}};var R=i(2897),D=i(3082),I=i(5471);let O={borderWidth:I.px,borderTopWidth:I.px,borderRightWidth:I.px,borderBottomWidth:I.px,borderLeftWidth:I.px,borderRadius:I.px,radius:I.px,borderTopLeftRadius:I.px,borderTopRightRadius:I.px,borderBottomRightRadius:I.px,borderBottomLeftRadius:I.px,width:I.px,maxWidth:I.px,height:I.px,maxHeight:I.px,top:I.px,right:I.px,bottom:I.px,left:I.px,padding:I.px,paddingTop:I.px,paddingRight:I.px,paddingBottom:I.px,paddingLeft:I.px,margin:I.px,marginTop:I.px,marginRight:I.px,marginBottom:I.px,marginLeft:I.px,backgroundPositionX:I.px,backgroundPositionY:I.px},G={rotate:I.uj,rotateX:I.uj,rotateY:I.uj,rotateZ:I.uj,scale:D.hs,scaleX:D.hs,scaleY:D.hs,scaleZ:D.hs,skew:I.uj,skewX:I.uj,skewY:I.uj,distance:I.px,translateX:I.px,translateY:I.px,translateZ:I.px,x:I.px,y:I.px,z:I.px,perspective:I.px,transformPerspective:I.px,opacity:D.X4,originX:I.gQ,originY:I.gQ,originZ:I.px},L={...D.ai,transform:Math.round},k={...O,...G,zIndex:L,size:I.px,fillOpacity:D.X4,strokeOpacity:D.X4,numOctaves:L},H={...k,color:R.y,backgroundColor:R.y,outlineColor:R.y,fill:R.y,stroke:R.y,borderColor:R.y,borderTopColor:R.y,borderRightColor:R.y,borderBottomColor:R.y,borderLeftColor:R.y,filter:F,WebkitFilter:F},_=e=>H[e];function j(e,t){let i=_(e);return i!==F&&(i=E.f),i.getAnimatableNone?i.getAnimatableNone(t):void 0}let U=new Set(["auto","none","0"]);var V=i(8203);let J=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);var N=i(3676);let K=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;var W=i(9280);let X=e=>t=>t.test(e),Q=[D.ai,I.px,I.KN,I.uj,I.vw,I.vh,{test:e=>"auto"===e,parse:e=>e}],Y=e=>Q.find(X(e));class z extends V.h{constructor(e,t,i,r,n){super(e,t,i,r,n,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let i=0;i<e.length;i++){let r=e[i];if("string"==typeof r&&(r=r.trim(),(0,N.p)(r))){let n=function e(t,i,r=1){(0,s.V1)(r<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`);let[n,a]=function(e){let t=K.exec(e);if(!t)return[,];let[,i,r,n]=t;return[`--${null!=i?i:r}`,n]}(t);if(!n)return;let o=window.getComputedStyle(i).getPropertyValue(n);if(o){let e=o.trim();return J(e)?parseFloat(e):e}return(0,N.p)(a)?e(a,i,r+1):a}(r,t.current);void 0!==n&&(e[i]=n),i===e.length-1&&(this.finalKeyframe=r)}}if(this.resolveNoneKeyframes(),!d.has(i)||2!==e.length)return;let[r,n]=e,a=Y(r),o=Y(n);if(a!==o){if((0,W.E4)(a)&&(0,W.E4)(o))for(let t=0;t<e.length;t++){let i=e[t];"string"==typeof i&&(e[t]=parseFloat(i))}else this.needsMeasurement=!0}}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,i=[];for(let t=0;t<e.length;t++){var r;("number"==typeof(r=e[t])?0===r:null===r||"none"===r||"0"===r||w(r))&&i.push(t)}i.length&&function(e,t,i){let r,n=0;for(;n<e.length&&!r;){let t=e[n];"string"==typeof t&&!U.has(t)&&(0,E.V)(t).values.length&&(r=e[n]),n++}if(r&&i)for(let n of t)e[n]=j(i,r)}(e,i,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;"height"===i&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=W.Hr[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let r=t[t.length-1];void 0!==r&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;let{element:t,name:i,unresolvedKeyframes:r}=this;if(!t||!t.current)return;let n=t.getValue(i);n&&n.jump(this.measuredOrigin,!1);let s=r.length-1,a=r[s];r[s]=W.Hr[i](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach(([e,i])=>{t.getValue(e).set(i)}),this.resolveNoneKeyframes()}}var q=i(6111),Z=i(856);let $=new Set(["opacity","clipPath","filter","transform"]);var ee=i(1232);let et=(0,s.ph)(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ei={anticipate:C.b,backInOut:b.ZZ,circInOut:x.tn};class er extends q.i{constructor(e){super(e);let{name:t,motionValue:i,element:r,keyframes:n}=this.options;this.resolver=new z(n,(e,t)=>this.onKeyframesResolved(e,t),t,i,r),this.resolver.scheduleResolve()}initPlayback(e,t){var i;let{duration:r=300,times:n,ease:s,type:a,motionValue:o,name:l,startTime:u}=this.options;if(!o.owner||!o.owner.current)return!1;if("string"==typeof s&&(0,h.nL)()&&s in ei&&(s=ei[s]),i=this.options,(0,h.WH)(i.type)||"spring"===i.type||!(0,h.yL)(i.ease)){let{onComplete:t,onUpdate:i,motionValue:o,element:l,...u}=this.options,h=function(e,t){let i=new Z.o({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0}),r={done:!1,value:e[0]},n=[],s=0;for(;!r.done&&s<2e4;)n.push((r=i.sample(s)).value),s+=10;return{times:void 0,keyframes:n,duration:s-10,ease:"linear"}}(e,u);1===(e=h.keyframes).length&&(e[1]=e[0]),r=h.duration,n=h.times,s=h.ease,a="keyframes"}let c=function(e,t,i,{delay:r=0,duration:n=300,repeat:s=0,repeatType:a="loop",ease:o="easeInOut",times:l}={}){let u={[t]:i};l&&(u.offset=l);let c=(0,h.TU)(o,n);Array.isArray(c)&&(u.easing=c),h.Qu.value&&h.qU.waapi++;let d=e.animate(u,{delay:r,duration:n,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:"reverse"===a?"alternate":"normal"});return h.Qu.value&&d.finished.finally(()=>{h.qU.waapi--}),d}(o.owner.current,l,e,{...this.options,duration:r,times:n,ease:s});return c.startTime=null!=u?u:this.calcStartTime(),this.pendingTimeline?((0,h.vG)(c,this.pendingTimeline),this.pendingTimeline=void 0):c.onfinish=()=>{let{onComplete:i}=this.options;o.set((0,ee.X)(e,this.options,t)),i&&i(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:r,times:n,type:a,ease:s,keyframes:e}}get duration(){let{resolved:e}=this;if(!e)return 0;let{duration:t}=e;return(0,s.Xu)(t)}get time(){let{resolved:e}=this;if(!e)return 0;let{animation:t}=e;return(0,s.Xu)(t.currentTime||0)}set time(e){let{resolved:t}=this;if(!t)return;let{animation:i}=t;i.currentTime=(0,s.fD)(e)}get speed(){let{resolved:e}=this;if(!e)return 1;let{animation:t}=e;return t.playbackRate}set speed(e){let{resolved:t}=this;if(!t)return;let{animation:i}=t;i.playbackRate=e}get state(){let{resolved:e}=this;if(!e)return"idle";let{animation:t}=e;return t.playState}get startTime(){let{resolved:e}=this;if(!e)return null;let{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){let{resolved:t}=this;if(!t)return s.lQ;let{animation:i}=t;(0,h.vG)(i,e)}else this.pendingTimeline=e;return s.lQ}play(){if(this.isStopped)return;let{resolved:e}=this;if(!e)return;let{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){let{resolved:e}=this;if(!e)return;let{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();let{resolved:e}=this;if(!e)return;let{animation:t,keyframes:i,duration:r,type:n,ease:a,times:o}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){let{motionValue:e,onUpdate:t,onComplete:l,element:u,...h}=this.options,c=new Z.o({...h,keyframes:i,duration:r,type:n,ease:a,times:o,isGenerator:!0}),d=(0,s.fD)(this.time);e.setWithVelocity(c.sample(d-10).value,c.sample(d).value,10)}let{onStop:l}=this.options;l&&l(),this.cancel()}complete(){let{resolved:e}=this;e&&e.animation.finish()}cancel(){let{resolved:e}=this;e&&e.animation.cancel()}static supports(e){let{motionValue:t,name:i,repeatDelay:r,repeatType:n,damping:s,type:a}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;let{onUpdate:o,transformTemplate:l}=t.owner.getProps();return et()&&i&&$.has(i)&&!o&&!l&&!r&&"mirror"!==n&&0!==s&&"inertia"!==a}}let en={type:"spring",stiffness:500,damping:25,restSpeed:10},es=e=>({type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}),ea={type:"keyframes",duration:.8},eo={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},el=(e,{keyframes:t})=>t.length>2?ea:c.f.has(e)?e.startsWith("scale")?es(t[1]):en:eo,eu=(e,t,i,r={},n,a)=>o=>{let l=(0,h.rU)(r,e)||{},u=l.delay||r.delay||0,{elapsed:c=0}=r;c-=(0,s.fD)(u);let d={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-c,onUpdate:e=>{t.set(e),l.onUpdate&&l.onUpdate(e)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:n};!function({when:e,delay:t,delayChildren:i,staggerChildren:r,staggerDirection:n,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:u,...h}){return!!Object.keys(h).length}(l)&&(d={...d,...el(e,d)}),d.duration&&(d.duration=(0,s.fD)(d.duration)),d.repeatDelay&&(d.repeatDelay=(0,s.fD)(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let p=!1;if(!1!==d.type&&(0!==d.duration||d.repeatDelay)||(d.duration=0,0!==d.delay||(p=!0)),(B.d.current||s.W9.skipAnimations)&&(p=!0,d.duration=0,d.delay=0),d.allowFlatten=!l.type&&!l.ease,p&&!a&&void 0!==t.get()){let e=(0,ee.X)(d.keyframes,l);if(void 0!==e)return h.Gt.update(()=>{d.onUpdate(e),d.onComplete()}),new h.P6([])}return!a&&er.supports(d)?new er(d):new Z.o(d)};function eh(e,t,{delay:i=0,transitionOverride:r,type:n}={}){var s;let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(a=r);let c=[],p=n&&e.animationState&&e.animationState.getState()[n];for(let t in l){let r=e.getValue(t,null!==(s=e.latestValues[t])&&void 0!==s?s:null),n=l[t];if(void 0===n||p&&function({protectedKeys:e,needsAnimating:t},i){let r=e.hasOwnProperty(i)&&!0!==t[i];return t[i]=!1,r}(p,t))continue;let o={delay:i,...(0,h.rU)(a||{},t)},u=!1;if(window.MotionHandoffAnimation){let i=e.props[y];if(i){let e=window.MotionHandoffAnimation(i,t,h.Gt);null!==e&&(o.startTime=e,u=!0)}}v(e,t),r.start(eu(t,r,n,e.shouldReduceMotion&&d.has(t)?{type:!1}:o,e,u));let f=r.animation;f&&c.push(f)}return o&&Promise.all(c).then(()=>{h.Gt.update(()=>{o&&function(e,t){let{transitionEnd:i={},transition:r={},...n}=u(e,t)||{};for(let t in n={...n,...i}){let i=m(n[t]);e.hasValue(t)?e.getValue(t).set(i):e.addValue(t,(0,h.OQ)(i))}}(e,o)})}),c}function ec(e,t,i={}){var r;let n=u(e,t,"exit"===i.type?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0),{transition:s=e.getDefaultTransition()||{}}=n||{};i.transitionOverride&&(s=i.transitionOverride);let a=n?()=>Promise.all(eh(e,n,i)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(r=0)=>{let{delayChildren:n=0,staggerChildren:a,staggerDirection:o}=s;return function(e,t,i=0,r=0,n=1,s){let a=[],o=(e.variantChildren.size-1)*r,l=1===n?(e=0)=>e*r:(e=0)=>o-e*r;return Array.from(e.variantChildren).sort(ed).forEach((e,r)=>{e.notify("AnimationStart",t),a.push(ec(e,t,{...s,delay:i+l(r)}).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(a)}(e,t,n+r,a,o,i)}:()=>Promise.resolve(),{when:l}=s;if(!l)return Promise.all([a(),o(i.delay)]);{let[e,t]="beforeChildren"===l?[a,o]:[o,a];return e().then(()=>t())}}function ed(e,t){return e.sortNodePosition(t)}function ep(e,t){if(!Array.isArray(t))return!1;let i=t.length;if(i!==e.length)return!1;for(let r=0;r<i;r++)if(t[r]!==e[r])return!1;return!0}function ef(e){return"string"==typeof e||Array.isArray(e)}let em=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],eg=["initial",...em],ev=eg.length,eA=[...em].reverse(),ey=em.length;function eB(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function eC(){return{animate:eB(!0),whileInView:eB(),whileHover:eB(),whileTap:eB(),whileDrag:eB(),whileFocus:eB(),exit:eB()}}class eb{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ex extends eb{constructor(e){super(e),e.animationState||(e.animationState=function(e){let t=t=>Promise.all(t.map(({animation:t,options:i})=>(function(e,t,i={}){let r;if(e.notify("AnimationStart",t),Array.isArray(t))r=Promise.all(t.map(t=>ec(e,t,i)));else if("string"==typeof t)r=ec(e,t,i);else{let n="function"==typeof t?u(e,t,i.custom):t;r=Promise.all(eh(e,n,i))}return r.then(()=>{e.notify("AnimationComplete",t)})})(e,t,i))),i=eC(),r=!0,n=t=>(i,r)=>{var n;let s=u(e,r,"exit"===t?null===(n=e.presenceContext)||void 0===n?void 0:n.custom:void 0);if(s){let{transition:e,transitionEnd:t,...r}=s;i={...i,...r,...t}}return i};function s(s){let{props:o}=e,l=function e(t){if(!t)return;if(!t.isControllingVariants){let i=t.parent&&e(t.parent)||{};return void 0!==t.props.initial&&(i.initial=t.props.initial),i}let i={};for(let e=0;e<ev;e++){let r=eg[e],n=t.props[r];(ef(n)||!1===n)&&(i[r]=n)}return i}(e.parent)||{},h=[],c=new Set,d={},f=1/0;for(let t=0;t<ey;t++){var m,g;let u=eA[t],v=i[u],A=void 0!==o[u]?o[u]:l[u],y=ef(A),B=u===s?v.isActive:null;!1===B&&(f=t);let C=A===l[u]&&A!==o[u]&&y;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),v.protectedKeys={...d},!v.isActive&&null===B||!A&&!v.prevProp||a(A)||"boolean"==typeof A)continue;let b=(m=v.prevProp,"string"==typeof(g=A)?g!==m:!!Array.isArray(g)&&!ep(g,m)),x=b||u===s&&v.isActive&&!C&&y||t>f&&y,w=!1,E=Array.isArray(A)?A:[A],M=E.reduce(n(u),{});!1===B&&(M={});let{prevResolvedValues:T={}}=v,S={...T,...M},P=t=>{x=!0,c.has(t)&&(w=!0,c.delete(t)),v.needsAnimating[t]=!0;let i=e.getValue(t);i&&(i.liveStyle=!1)};for(let e in S){let t=M[e],i=T[e];if(d.hasOwnProperty(e))continue;let r=!1;(p(t)&&p(i)?ep(t,i):t===i)?void 0!==t&&c.has(e)?P(e):v.protectedKeys[e]=!0:null!=t?P(e):c.add(e)}v.prevProp=A,v.prevResolvedValues=M,v.isActive&&(d={...d,...M}),r&&e.blockInitialAnimation&&(x=!1);let F=!(C&&b)||w;x&&F&&h.push(...E.map(e=>({animation:e,options:{type:u}})))}if(c.size){let t={};if("boolean"!=typeof o.initial){let i=u(e,Array.isArray(o.initial)?o.initial[0]:o.initial);i&&i.transition&&(t.transition=i.transition)}c.forEach(i=>{let r=e.getBaseTarget(i),n=e.getValue(i);n&&(n.liveStyle=!0),t[i]=null!=r?r:null}),h.push({animation:t})}let v=!!h.length;return r&&(!1===o.initial||o.initial===o.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(h):Promise.resolve()}return{animateChanges:s,setActive:function(t,r){var n;if(i[t].isActive===r)return Promise.resolve();null===(n=e.variantChildren)||void 0===n||n.forEach(e=>{var i;return null===(i=e.animationState)||void 0===i?void 0:i.setActive(t,r)}),i[t].isActive=r;let a=s(t);for(let e in i)i[e].protectedKeys={};return a},setAnimateFunction:function(i){t=i(e)},getState:()=>i,reset:()=>{i=eC(),r=!0}}}(e))}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();a(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}let ew=0;class eE extends eb{constructor(){super(...arguments),this.id=ew++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;let r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){let{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}function eM(e,t,i,r={passive:!0}){return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i)}function eT(e){return{point:{x:e.pageX,y:e.pageY}}}let eS=e=>t=>(0,h.Mc)(t)&&e(t,eT(t));function eP(e,t,i,r){return eM(e,t,eS(i),r)}function eF({top:e,left:t,right:i,bottom:r}){return{x:{min:t,max:i},y:{min:e,max:r}}}var eR=i(1109);function eD(e){return e.max-e.min}function eI(e,t,i,r=.5){e.origin=r,e.originPoint=(0,eR.k)(t.min,t.max,e.origin),e.scale=eD(i)/eD(t),e.translate=(0,eR.k)(i.min,i.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function eO(e,t,i,r){eI(e.x,t.x,i.x,r?r.originX:void 0),eI(e.y,t.y,i.y,r?r.originY:void 0)}function eG(e,t,i){e.min=i.min+t.min,e.max=e.min+eD(t)}function eL(e,t,i){e.min=t.min-i.min,e.max=e.min+eD(t)}function ek(e,t,i){eL(e.x,t.x,i.x),eL(e.y,t.y,i.y)}let eH=()=>({translate:0,scale:1,origin:0,originPoint:0}),e_=()=>({x:eH(),y:eH()}),ej=()=>({min:0,max:0}),eU=()=>({x:ej(),y:ej()});function eV(e){return[e("x"),e("y")]}function eJ(e){return void 0===e||1===e}function eN({scale:e,scaleX:t,scaleY:i}){return!eJ(e)||!eJ(t)||!eJ(i)}function eK(e){return eN(e)||eW(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function eW(e){var t,i;return(t=e.x)&&"0%"!==t||(i=e.y)&&"0%"!==i}function eX(e,t,i,r,n){return void 0!==n&&(e=r+n*(e-r)),r+i*(e-r)+t}function eQ(e,t=0,i=1,r,n){e.min=eX(e.min,t,i,r,n),e.max=eX(e.max,t,i,r,n)}function eY(e,{x:t,y:i}){eQ(e.x,t.translate,t.scale,t.originPoint),eQ(e.y,i.translate,i.scale,i.originPoint)}function ez(e,t){e.min=e.min+t,e.max=e.max+t}function eq(e,t,i,r,n=.5){let s=(0,eR.k)(e.min,e.max,n);eQ(e,t,i,s,r)}function eZ(e,t){eq(e.x,t.x,t.scaleX,t.scale,t.originX),eq(e.y,t.y,t.scaleY,t.scale,t.originY)}function e$(e,t){return eF(function(e,t){if(!t)return e;let i=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}let e0=({current:e})=>e?e.ownerDocument.defaultView:null;function e1(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}let e2=(e,t)=>Math.abs(e-t);var e9=i(7007);class e3{constructor(e,t,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:n=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let e=e6(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,i=function(e,t){return Math.sqrt(e2(e.x,t.x)**2+e2(e.y,t.y)**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!i)return;let{point:r}=e,{timestamp:n}=h.uv;this.history.push({...r,timestamp:n});let{onStart:s,onMove:a}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=e5(t,this.transformPagePoint),h.Gt.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:i,onSessionEnd:r,resumeAnimation:n}=this.handlers;if(this.dragSnapToOrigin&&n&&n(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let s=e6("pointercancel"===e.type?this.lastMoveEventInfo:e5(t,this.transformPagePoint),this.history);this.startEvent&&i&&i(e,s),r&&r(e,s)},!(0,h.Mc)(e))return;this.dragSnapToOrigin=n,this.handlers=t,this.transformPagePoint=i,this.contextWindow=r||window;let s=e5(eT(e),this.transformPagePoint),{point:a}=s,{timestamp:o}=h.uv;this.history=[{...a,timestamp:o}];let{onSessionStart:l}=t;l&&l(e,e6(s,this.history)),this.removeListeners=(0,e9.F)(eP(this.contextWindow,"pointermove",this.handlePointerMove),eP(this.contextWindow,"pointerup",this.handlePointerUp),eP(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),(0,h.WG)(this.updatePoint)}}function e5(e,t){return t?{point:t(e.point)}:e}function e8(e,t){return{x:e.x-t.x,y:e.y-t.y}}function e6({point:e},t){return{point:e,delta:e8(e,e4(t)),offset:e8(e,t[0]),velocity:function(e,t){if(e.length<2)return{x:0,y:0};let i=e.length-1,r=null,n=e4(e);for(;i>=0&&(r=e[i],!(n.timestamp-r.timestamp>(0,s.fD)(.1)));)i--;if(!r)return{x:0,y:0};let a=(0,s.Xu)(n.timestamp-r.timestamp);if(0===a)return{x:0,y:0};let o={x:(n.x-r.x)/a,y:(n.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}(t,.1)}}function e4(e){return e[e.length-1]}var e7=i(7782);function te(e,t,i){return{min:void 0!==t?e.min+t:void 0,max:void 0!==i?e.max+i-(e.max-e.min):void 0}}function tt(e,t){let i=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([i,r]=[r,i]),{min:i,max:r}}function ti(e,t,i){return{min:tr(e,t),max:tr(e,i)}}function tr(e,t){return"number"==typeof e?e:e[t]||0}let tn=new WeakMap;class ts{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=eU(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){let{presenceContext:i}=this.visualElement;if(i&&!1===i.isPresent)return;let{dragSnapToOrigin:r}=this.getProps();this.panSession=new e3(e,{onSessionStart:e=>{let{dragSnapToOrigin:i}=this.getProps();i?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(eT(e).point)},onStart:(e,t)=>{let{drag:i,dragPropagation:r,onDragStart:n}=this.getProps();if(i&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock=(0,h.Wp)(i),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eV(e=>{let t=this.getAxisMotionValue(e).get()||0;if(I.KN.test(t)){let{projection:i}=this.visualElement;if(i&&i.layout){let r=i.layout.layoutBox[e];r&&(t=eD(r)*(parseFloat(t)/100))}}this.originPoint[e]=t}),n&&h.Gt.postRender(()=>n(e,t)),v(this.visualElement,"transform");let{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{let{dragPropagation:i,dragDirectionLock:r,onDirectionLock:n,onDrag:s}=this.getProps();if(!i&&!this.openDragLock)return;let{offset:a}=t;if(r&&null===this.currentDirection){this.currentDirection=function(e,t=10){let i=null;return Math.abs(e.y)>t?i="y":Math.abs(e.x)>t&&(i="x"),i}(a),null!==this.currentDirection&&n&&n(this.currentDirection);return}this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>eV(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:e0(this.visualElement)})}stop(e,t){let i=this.isDragging;if(this.cancel(),!i)return;let{velocity:r}=t;this.startAnimation(r);let{onDragEnd:n}=this.getProps();n&&h.Gt.postRender(()=>n(e,t))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){let{drag:r}=this.getProps();if(!i||!ta(e,r,this.currentDirection))return;let n=this.getAxisMotionValue(e),s=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(s=function(e,{min:t,max:i},r){return void 0!==t&&e<t?e=r?(0,eR.k)(t,e,r.min):Math.max(e,t):void 0!==i&&e>i&&(e=r?(0,eR.k)(i,e,r.max):Math.min(e,i)),e}(s,this.constraints[e],this.elastic[e])),n.set(s)}resolveConstraints(){var e;let{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,n=this.constraints;t&&e1(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=function(e,{top:t,left:i,bottom:r,right:n}){return{x:te(e.x,i,n),y:te(e.y,t,r)}}(r.layoutBox,t):this.constraints=!1,this.elastic=function(e=.35){return!1===e?e=0:!0===e&&(e=.35),{x:ti(e,"left","right"),y:ti(e,"top","bottom")}}(i),n!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&eV(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){let i={};return void 0!==t.min&&(i.min=t.min-e.min),void 0!==t.max&&(i.max=t.max-e.min),i}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){var e;let{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!e1(t))return!1;let r=t.current;(0,s.V1)(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");let{projection:n}=this.visualElement;if(!n||!n.layout)return!1;let a=function(e,t,i){let r=e$(e,i),{scroll:n}=t;return n&&(ez(r.x,n.offset.x),ez(r.y,n.offset.y)),r}(r,n.root,this.visualElement.getTransformPagePoint()),o={x:tt((e=n.layout.layoutBox).x,a.x),y:tt(e.y,a.y)};if(i){let e=i(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(o));this.hasMutatedConstraints=!!e,e&&(o=eF(e))}return o}startAnimation(e){let{drag:t,dragMomentum:i,dragElastic:r,dragTransition:n,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{};return Promise.all(eV(a=>{if(!ta(a,t,this.currentDirection))return;let l=o&&o[a]||{};s&&(l={min:0,max:0});let u={type:"inertia",velocity:i?e[a]:0,bounceStiffness:r?200:1e6,bounceDamping:r?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...n,...l};return this.startAxisValueAnimation(a,u)})).then(a)}startAxisValueAnimation(e,t){let i=this.getAxisMotionValue(e);return v(this.visualElement,e),i.start(eu(e,i,0,t,this.visualElement,!1))}stopAnimation(){eV(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){eV(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps();return i[t]||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){eV(t=>{let{drag:i}=this.getProps();if(!ta(t,i,this.currentDirection))return;let{projection:r}=this.visualElement,n=this.getAxisMotionValue(t);if(r&&r.layout){let{min:i,max:s}=r.layout.layoutBox[t];n.set(e[t]-(0,eR.k)(i,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!e1(t)||!i||!this.constraints)return;this.stopAnimation();let r={x:0,y:0};eV(e=>{let t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){let i=t.get();r[e]=function(e,t){let i=.5,r=eD(e),n=eD(t);return n>r?i=(0,s.qB)(t.min,t.max-r,e.min):r>n&&(i=(0,s.qB)(e.min,e.max-n,t.min)),(0,e7.q)(0,1,i)}({min:i,max:i},this.constraints[e])}});let{transformTemplate:n}=this.visualElement.getProps();this.visualElement.current.style.transform=n?n({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),eV(t=>{if(!ta(t,e,null))return;let i=this.getAxisMotionValue(t),{min:n,max:s}=this.constraints[t];i.set((0,eR.k)(n,s,r[t]))})}addListeners(){if(!this.visualElement.current)return;tn.set(this.visualElement,this);let e=eP(this.visualElement.current,"pointerdown",e=>{let{drag:t,dragListener:i=!0}=this.getProps();t&&i&&this.start(e)}),t=()=>{let{dragConstraints:e}=this.getProps();e1(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,r=i.addEventListener("measure",t);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),h.Gt.read(t);let n=eM(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(eV(t=>{let i=this.getAxisMotionValue(t);i&&(this.originPoint[t]+=e[t].translate,i.set(i.get()+e[t].translate))}),this.visualElement.render())});return()=>{n(),e(),r(),s&&s()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:n=!1,dragElastic:s=.35,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:n,dragElastic:s,dragMomentum:a}}}function ta(e,t,i){return(!0===t||t===e)&&(null===i||i===e)}class to extends eb{constructor(e){super(e),this.removeGroupControls=s.lQ,this.removeListeners=s.lQ,this.controls=new ts(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||s.lQ}unmount(){this.removeGroupControls(),this.removeListeners()}}let tl=e=>(t,i)=>{e&&h.Gt.postRender(()=>e(t,i))};class tu extends eb{constructor(){super(...arguments),this.removePointerDownListener=s.lQ}onPointerDown(e){this.session=new e3(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:e0(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:tl(e),onStart:tl(t),onMove:i,onEnd:(e,t)=>{delete this.session,r&&h.Gt.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=eP(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}var th=i(5155),tc=i(2115),td=i(2082),tp=i(869);let tf=(0,tc.createContext)({}),tm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tg(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}let tv={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!I.px.test(e))return e;e=parseFloat(e)}let i=tg(e,t.target.x),r=tg(e,t.target.y);return`${i}% ${r}%`}},tA={};class ty extends tc.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:n}=e;!function(e){for(let t in e)tA[t]=e[t],(0,N.j)(t)&&(tA[t].isCSSVariable=!0)}(tC),n&&(t.group&&t.group.add(n),i&&i.register&&r&&i.register(n),n.root.didUpdate(),n.addEventListener("animationComplete",()=>{this.safeToRemove()}),n.setOptions({...n.options,onExitComplete:()=>this.safeToRemove()})),tm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:i,drag:r,isPresent:n}=this.props,s=i.projection;return s&&(s.isPresent=n,r||e.layoutDependency!==t||void 0===t||e.isPresent!==n?s.willUpdate():this.safeToRemove(),e.isPresent===n||(n?s.promote():s.relegate()||h.Gt.postRender(()=>{let e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),h.k2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}}function tB(e){let[t,i]=(0,td.xQ)(),r=(0,tc.useContext)(tp.L);return(0,th.jsx)(ty,{...e,layoutGroup:r,switchLayoutGroup:(0,tc.useContext)(tf),isPresent:t,safeToRemove:i})}let tC={borderRadius:{...tv,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tv,borderTopRightRadius:tv,borderBottomLeftRadius:tv,borderBottomRightRadius:tv,boxShadow:{correct:(e,{treeScale:t,projectionDelta:i})=>{let r=E.f.parse(e);if(r.length>5)return e;let n=E.f.createTransformer(e),s=+("number"!=typeof r[0]),a=i.x.scale*t.x,o=i.y.scale*t.y;r[0+s]/=a,r[1+s]/=o;let l=(0,eR.k)(a,o,.5);return"number"==typeof r[2+s]&&(r[2+s]/=l),"number"==typeof r[3+s]&&(r[3+s]/=l),n(r)}}},tb=(e,t)=>e.depth-t.depth;class tx{constructor(){this.children=[],this.isDirty=!1}add(e){(0,s.Kq)(this.children,e),this.isDirty=!0}remove(e){(0,s.Ai)(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(tb),this.isDirty=!1,this.children.forEach(e)}}function tw(e){let t=(0,g.S)(e)?e.get():e;return f(t)?t.toValue():t}let tE=["TopLeft","TopRight","BottomLeft","BottomRight"],tM=tE.length,tT=e=>"string"==typeof e?parseFloat(e):e,tS=e=>"number"==typeof e||I.px.test(e);function tP(e,t){return void 0!==e[t]?e[t]:e.borderRadius}let tF=tD(0,.5,x.yT),tR=tD(.5,.95,s.lQ);function tD(e,t,i){return r=>r<e?0:r>t?1:i((0,s.qB)(e,t,r))}function tI(e,t){e.min=t.min,e.max=t.max}function tO(e,t){tI(e.x,t.x),tI(e.y,t.y)}function tG(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function tL(e,t,i,r,n){return e-=t,e=r+1/i*(e-r),void 0!==n&&(e=r+1/n*(e-r)),e}function tk(e,t,[i,r,n],s,a){!function(e,t=0,i=1,r=.5,n,s=e,a=e){if(I.KN.test(t)&&(t=parseFloat(t),t=(0,eR.k)(a.min,a.max,t/100)-a.min),"number"!=typeof t)return;let o=(0,eR.k)(s.min,s.max,r);e===s&&(o-=t),e.min=tL(e.min,t,i,o,n),e.max=tL(e.max,t,i,o,n)}(e,t[i],t[r],t[n],t.scale,s,a)}let tH=["x","scaleX","originX"],t_=["y","scaleY","originY"];function tj(e,t,i,r){tk(e.x,t,tH,i?i.x:void 0,r?r.x:void 0),tk(e.y,t,t_,i?i.y:void 0,r?r.y:void 0)}function tU(e){return 0===e.translate&&1===e.scale}function tV(e){return tU(e.x)&&tU(e.y)}function tJ(e,t){return e.min===t.min&&e.max===t.max}function tN(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function tK(e,t){return tN(e.x,t.x)&&tN(e.y,t.y)}function tW(e){return eD(e.x)/eD(e.y)}function tX(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class tQ{constructor(){this.members=[]}add(e){(0,s.Kq)(this.members,e),e.scheduleRender()}remove(e){if((0,s.Ai)(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t;let i=this.members.findIndex(t=>e===t);if(0===i)return!1;for(let e=i;e>=0;e--){let i=this.members[e];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)}promote(e,t){let i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);let{crossfade:r}=e.options;!1===r&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}let tY={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},tz=["","X","Y","Z"],tq={visibility:"hidden"},tZ=0;function t$(e,t,i,r){let{latestValues:n}=t;n[e]&&(i[e]=n[e],t.setStaticValue(e,0),r&&(r[e]=0))}function t0({attachResizeListener:e,defaultParent:t,measureScroll:i,checkIsScrollRoot:r,resetTransform:n}){return class{constructor(e={},i=null==t?void 0:t()){this.id=tZ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,h.Qu.value&&(tY.nodes=tY.calculatedTargetDeltas=tY.calculatedProjections=0),this.nodes.forEach(t9),this.nodes.forEach(ie),this.nodes.forEach(it),this.nodes.forEach(t3),h.Qu.addProjectionMetrics&&h.Qu.addProjectionMetrics(tY)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=i?i.root||i:this,this.path=i?[...i.path,i]:[],this.parent=i,this.depth=i?i.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new tx)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new s.vY),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let i=this.eventHandlers.get(e);i&&i.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t,i=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=t instanceof SVGElement&&"svg"!==t.tagName,this.instance=t;let{layoutId:r,layout:n,visualElement:s}=this.options;if(s&&!s.current&&s.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),i&&(n||r)&&(this.isLayoutDirty=!0),e){let i;let r=()=>this.root.updateBlockedByResize=!1;e(t,()=>{this.root.updateBlockedByResize=!0,i&&i(),i=function(e,t){let i=h.kB.now(),r=({timestamp:n})=>{let s=n-i;s>=250&&((0,h.WG)(r),e(s-t))};return h.Gt.read(r,!0),()=>(0,h.WG)(r)}(r,250),tm.hasAnimatedSinceResize&&(tm.hasAnimatedSinceResize=!1,this.nodes.forEach(t7))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&s&&(r||n)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:i,layout:r})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let n=this.options.transition||s.getDefaultTransition()||il,{onLayoutAnimationStart:a,onLayoutAnimationComplete:o}=s.getProps(),l=!this.targetLayout||!tK(this.targetLayout,r),u=!t&&i;if(this.options.layoutRoot||this.resumeFrom||u||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,u);let t={...(0,h.rU)(n,"layout"),onPlay:a,onComplete:o};(s.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||t7(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,(0,h.WG)(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ii),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function e(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;let{visualElement:i}=t.options;if(!i)return;let r=i.props[y];if(window.MotionHasOptimisedAnimation(r,"transform")){let{layout:e,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",h.Gt,!(e||i))}let{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&e(n)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:i}=this.options;if(void 0===t&&!i)return;let r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(t8);return}this.isUpdating||this.nodes.forEach(t6),this.isUpdating=!1,this.nodes.forEach(t4),this.nodes.forEach(t1),this.nodes.forEach(t2),this.clearAllSnapshots();let e=h.kB.now();h.uv.delta=(0,e7.q)(0,1e3/60,e-h.uv.timestamp),h.uv.timestamp=e,h.uv.isProcessing=!0,h.PP.update.process(h.uv),h.PP.preRender.process(h.uv),h.PP.render.process(h.uv),h.uv.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,h.k2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(t5),this.sharedNodes.forEach(ir)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,h.Gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){h.Gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),!this.snapshot||eD(this.snapshot.measuredBox.x)||eD(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=eU(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){let t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!n)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!tV(this.projectionDelta),i=this.getTransformTemplate(),r=i?i(this.latestValues,""):void 0,s=r!==this.prevTransformTemplateValue;e&&(t||eK(this.latestValues)||s)&&(n(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){var t;let i=this.measurePageBox(),r=this.removeElementScroll(i);return e&&(r=this.removeTransform(r)),ic((t=r).x),ic(t.y),{animationId:this.root.animationId,measuredBox:i,layoutBox:r,latestValues:{},source:this.id}}measurePageBox(){var e;let{visualElement:t}=this.options;if(!t)return eU();let i=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(ip))){let{scroll:e}=this.root;e&&(ez(i.x,e.offset.x),ez(i.y,e.offset.y))}return i}removeElementScroll(e){var t;let i=eU();if(tO(i,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return i;for(let t=0;t<this.path.length;t++){let r=this.path[t],{scroll:n,options:s}=r;r!==this.root&&n&&s.layoutScroll&&(n.wasRoot&&tO(i,e),ez(i.x,n.offset.x),ez(i.y,n.offset.y))}return i}applyTransform(e,t=!1){let i=eU();tO(i,e);for(let e=0;e<this.path.length;e++){let r=this.path[e];!t&&r.options.layoutScroll&&r.scroll&&r!==r.root&&eZ(i,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),eK(r.latestValues)&&eZ(i,r.latestValues)}return eK(this.latestValues)&&eZ(i,this.latestValues),i}removeTransform(e){let t=eU();tO(t,e);for(let e=0;e<this.path.length;e++){let i=this.path[e];if(!i.instance||!eK(i.latestValues))continue;eN(i.latestValues)&&i.updateSnapshot();let r=eU();tO(r,i.measurePageBox()),tj(t,i.latestValues,i.snapshot?i.snapshot.layoutBox:void 0,r)}return eK(this.latestValues)&&tj(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==h.uv.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){var t,i,r,n;let s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);let a=!!this.resumingFrom||this!==s;if(!(e||a&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:o,layoutId:l}=this.options;if(this.layout&&(o||l)){if(this.resolvedRelativeTargetAt=h.uv.timestamp,!this.targetDelta&&!this.relativeTarget){let e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=eU(),this.relativeTargetOrigin=eU(),ek(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),tO(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if((this.target||(this.target=eU(),this.targetWithTransforms=eU()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target)?(this.forceRelativeParentToResolveTarget(),i=this.target,r=this.relativeTarget,n=this.relativeParent.target,eG(i.x,r.x,n.x),eG(i.y,r.y,n.y)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):tO(this.target,this.layout.layoutBox),eY(this.target,this.targetDelta)):tO(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let e=this.getClosestProjectingParent();e&&!!e.resumingFrom==!!this.resumingFrom&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=eU(),this.relativeTargetOrigin=eU(),ek(this.relativeTargetOrigin,this.target,e.target),tO(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}h.Qu.value&&tY.calculatedTargetDeltas++}}}getClosestProjectingParent(){return!this.parent||eN(this.parent.latestValues)||eW(this.parent.latestValues)?void 0:this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;let t=this.getLead(),i=!!this.resumingFrom||this!==t,r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),i&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===h.uv.timestamp&&(r=!1),r)return;let{layout:n,layoutId:s}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(n||s))return;tO(this.layoutCorrected,this.layout.layoutBox);let a=this.treeScale.x,o=this.treeScale.y;!function(e,t,i,r=!1){let n,s;let a=i.length;if(a){t.x=t.y=1;for(let o=0;o<a;o++){s=(n=i[o]).projectionDelta;let{visualElement:a}=n.options;(!a||!a.props.style||"contents"!==a.props.style.display)&&(r&&n.options.layoutScroll&&n.scroll&&n!==n.root&&eZ(e,{x:-n.scroll.offset.x,y:-n.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,eY(e,s)),r&&eK(n.latestValues)&&eZ(e,n.latestValues))}t.x<1.0000000000001&&t.x>.999999999999&&(t.x=1),t.y<1.0000000000001&&t.y>.999999999999&&(t.y=1)}}(this.layoutCorrected,this.treeScale,this.path,i),t.layout&&!t.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(t.target=t.layout.layoutBox,t.targetWithTransforms=eU());let{target:l}=t;if(!l){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(tG(this.prevProjectionDelta.x,this.projectionDelta.x),tG(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),eO(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===a&&this.treeScale.y===o&&tX(this.projectionDelta.x,this.prevProjectionDelta.x)&&tX(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),h.Qu.value&&tY.calculatedProjections++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=e_(),this.projectionDelta=e_(),this.projectionDeltaWithTransform=e_()}setAnimationOrigin(e,t=!1){let i;let r=this.snapshot,n=r?r.latestValues:{},s={...this.latestValues},a=e_();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let o=eU(),l=(r?r.source:void 0)!==(this.layout?this.layout.source:void 0),u=this.getStack(),h=!u||u.members.length<=1,c=!!(l&&!h&&!0===this.options.crossfade&&!this.path.some(io));this.animationProgress=0,this.mixTargetDelta=t=>{let r=t/1e3;if(is(a.x,e.x,r),is(a.y,e.y,r),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var u,d,p,f,m,g;if(ek(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,f=this.relativeTargetOrigin,m=o,g=r,ia(p.x,f.x,m.x,g),ia(p.y,f.y,m.y,g),i&&(u=this.relativeTarget,d=i,tJ(u.x,d.x)&&tJ(u.y,d.y)))this.isProjectionDirty=!1;i||(i=eU()),tO(i,this.relativeTarget)}l&&(this.animationValues=s,function(e,t,i,r,n,s){n?(e.opacity=(0,eR.k)(0,void 0!==i.opacity?i.opacity:1,tF(r)),e.opacityExit=(0,eR.k)(void 0!==t.opacity?t.opacity:1,0,tR(r))):s&&(e.opacity=(0,eR.k)(void 0!==t.opacity?t.opacity:1,void 0!==i.opacity?i.opacity:1,r));for(let n=0;n<tM;n++){let s=`border${tE[n]}Radius`,a=tP(t,s),o=tP(i,s);(void 0!==a||void 0!==o)&&(a||(a=0),o||(o=0),0===a||0===o||tS(a)===tS(o)?(e[s]=Math.max((0,eR.k)(tT(a),tT(o),r),0),(I.KN.test(o)||I.KN.test(a))&&(e[s]+="%")):e[s]=o)}(t.rotate||i.rotate)&&(e.rotate=(0,eR.k)(t.rotate||0,i.rotate||0,r))}(s,n,this.latestValues,r,c,h)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=r},this.mixTargetDelta(1e3*!!this.options.layoutRoot)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&((0,h.WG)(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=h.Gt.update(()=>{tm.hasAnimatedSinceResize=!0,h.qU.layout++,this.currentAnimation=function(e,t,i){let r=(0,g.S)(0)?0:(0,h.OQ)(e);return r.start(eu("",r,1e3,i)),r.animation}(0,0,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{h.qU.layout--},onComplete:()=>{h.qU.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:i,layout:r,latestValues:n}=e;if(t&&i&&r){if(this!==e&&this.layout&&r&&id(this.options.animationType,this.layout.layoutBox,r.layoutBox)){i=this.target||eU();let t=eD(this.layout.layoutBox.x);i.x.min=e.target.x.min,i.x.max=i.x.min+t;let r=eD(this.layout.layoutBox.y);i.y.min=e.target.y.min,i.y.max=i.y.min+r}tO(t,i),eZ(t,n),eO(this.projectionDeltaWithTransform,this.layoutCorrected,t,n)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new tQ),this.sharedNodes.get(e).add(t);let i=t.options.initialPromotionConfig;t.promote({transition:i?i.transition:void 0,preserveFollowOpacity:i&&i.shouldPreserveFollowOpacity?i.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return!e||e.lead===this}getLead(){var e;let{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;let{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:i}={}){let r=this.getStack();r&&r.promote(this,i),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:i}=e;if((i.z||i.rotate||i.rotateX||i.rotateY||i.rotateZ||i.skewX||i.skewY)&&(t=!0),!t)return;let r={};i.z&&t$("z",e,r,this.animationValues);for(let t=0;t<tz.length;t++)t$(`rotate${tz[t]}`,e,r,this.animationValues),t$(`skew${tz[t]}`,e,r,this.animationValues);for(let t in e.render(),r)e.setStaticValue(t,r[t]),this.animationValues&&(this.animationValues[t]=r[t]);e.scheduleRender()}getProjectionStyles(e){var t,i;if(!this.instance||this.isSVG)return;if(!this.isVisible)return tq;let r={visibility:""},n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=tw(null==e?void 0:e.pointerEvents)||"",r.transform=n?n(this.latestValues,""):"none",r;let s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){let t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=tw(null==e?void 0:e.pointerEvents)||""),this.hasProjected&&!eK(this.latestValues)&&(t.transform=n?n({},""):"none",this.hasProjected=!1),t}let a=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=function(e,t,i){let r="",n=e.x.translate/t.x,s=e.y.translate/t.y,a=(null==i?void 0:i.z)||0;if((n||s||a)&&(r=`translate3d(${n}px, ${s}px, ${a}px) `),(1!==t.x||1!==t.y)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),i){let{transformPerspective:e,rotate:t,rotateX:n,rotateY:s,skewX:a,skewY:o}=i;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),n&&(r+=`rotateX(${n}deg) `),s&&(r+=`rotateY(${s}deg) `),a&&(r+=`skewX(${a}deg) `),o&&(r+=`skewY(${o}deg) `)}let o=e.x.scale*t.x,l=e.y.scale*t.y;return(1!==o||1!==l)&&(r+=`scale(${o}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,a),n&&(r.transform=n(a,r.transform));let{x:o,y:l}=this.projectionDelta;for(let e in r.transformOrigin=`${100*o.origin}% ${100*l.origin}% 0`,s.animationValues?r.opacity=s===this?null!==(i=null!==(t=a.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==i?i:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=s===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0,tA){if(void 0===a[e])continue;let{correct:t,applyTo:i,isCSSVariable:n}=tA[e],o="none"===r.transform?a[e]:t(a[e],s);if(i){let e=i.length;for(let t=0;t<e;t++)r[i[t]]=o}else n?this.options.visualElement.renderState.vars[e]=o:r[e]=o}return this.options.layoutId&&(r.pointerEvents=s===this?tw(null==e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(t8),this.root.sharedNodes.clear()}}}function t1(e){e.updateLayout()}function t2(e){var t;let i=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&i&&e.hasListeners("didUpdate")){let{layoutBox:t,measuredBox:r}=e.layout,{animationType:n}=e.options,s=i.source!==e.layout.source;"size"===n?eV(e=>{let r=s?i.measuredBox[e]:i.layoutBox[e],n=eD(r);r.min=t[e].min,r.max=r.min+n}):id(n,i.layoutBox,t)&&eV(r=>{let n=s?i.measuredBox[r]:i.layoutBox[r],a=eD(t[r]);n.max=n.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)});let a=e_();eO(a,t,i.layoutBox);let o=e_();s?eO(o,e.applyTransform(r,!0),i.measuredBox):eO(o,t,i.layoutBox);let l=!tV(a),u=!1;if(!e.resumeFrom){let r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){let{snapshot:n,layout:s}=r;if(n&&s){let a=eU();ek(a,i.layoutBox,n.layoutBox);let o=eU();ek(o,t,s.layoutBox),tK(a,o)||(u=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:i,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function t9(e){h.Qu.value&&tY.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function t3(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function t5(e){e.clearSnapshot()}function t8(e){e.clearMeasurements()}function t6(e){e.isLayoutDirty=!1}function t4(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function t7(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ie(e){e.resolveTargetDelta()}function it(e){e.calcProjection()}function ii(e){e.resetSkewAndRotation()}function ir(e){e.removeLeadSnapshot()}function is(e,t,i){e.translate=(0,eR.k)(t.translate,0,i),e.scale=(0,eR.k)(t.scale,1,i),e.origin=t.origin,e.originPoint=t.originPoint}function ia(e,t,i,r){e.min=(0,eR.k)(t.min,i.min,r),e.max=(0,eR.k)(t.max,i.max,r)}function io(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}let il={duration:.45,ease:[.4,0,.1,1]},iu=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),ih=iu("applewebkit/")&&!iu("chrome/")?Math.round:s.lQ;function ic(e){e.min=ih(e.min),e.max=ih(e.max)}function id(e,t,i){return"position"===e||"preserve-aspect"===e&&!(.2>=Math.abs(tW(t)-tW(i)))}function ip(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}let im=t0({attachResizeListener:(e,t)=>eM(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ig={current:void 0},iv=t0({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ig.current){let e=new im({});e.mount(window),e.setOptions({layoutScroll:!0}),ig.current=e}return ig.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>"fixed"===window.getComputedStyle(e).position});function iA(e,t,i){let{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===i);let n=r["onHover"+i];n&&h.Gt.postRender(()=>n(t,eT(t)))}class iy extends eb{mount(){let{current:e}=this.node;e&&(this.unmount=(0,h.PT)(e,(e,t)=>(iA(this.node,t,"Start"),e=>iA(this.node,e,"End"))))}unmount(){}}class iB extends eb{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=(0,e9.F)(eM(this.node.current,"focus",()=>this.onFocus()),eM(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function iC(e,t,i){let{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===i);let n=r["onTap"+("End"===i?"":i)];n&&h.Gt.postRender(()=>n(t,eT(t)))}class ib extends eb{mount(){let{current:e}=this.node;e&&(this.unmount=(0,h.c$)(e,(e,t)=>(iC(this.node,t,"Start"),(e,{success:t})=>iC(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}let ix=new WeakMap,iw=new WeakMap,iE=e=>{let t=ix.get(e.target);t&&t(e)},iM=e=>{e.forEach(iE)},iT={some:0,all:1};class iS extends eb{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:n}=e,s={root:t?t.current:void 0,rootMargin:i,threshold:"number"==typeof r?r:iT[r]};return function(e,t,i){let r=function({root:e,...t}){let i=e||document;iw.has(i)||iw.set(i,{});let r=iw.get(i),n=JSON.stringify(t);return r[n]||(r[n]=new IntersectionObserver(iM,{root:e,...t})),r[n]}(t);return ix.set(e,i),r.observe(e),()=>{ix.delete(e),r.unobserve(e)}}(this.node.current,s,e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,n&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);let{onViewportEnter:i,onViewportLeave:r}=this.node.getProps(),s=t?i:r;s&&s(e)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return i=>e[i]!==t[i]}(e,t))&&this.startObserver()}unmount(){}}let iP=(0,tc.createContext)({strict:!1});var iF=i(1508);let iR=(0,tc.createContext)({});function iD(e){return a(e.animate)||eg.some(t=>ef(e[t]))}function iI(e){return!!(iD(e)||e.variants)}function iO(e){return Array.isArray(e)?e.join(" "):e}var iG=i(8972);let iL={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ik={};for(let e in iL)ik[e]={isEnabled:t=>iL[e].some(e=>!!t[e])};let iH=Symbol.for("motionComponentSymbol");var i_=i(845),ij=i(7494);function iU(e,{layout:t,layoutId:i}){return c.f.has(e)||e.startsWith("origin")||(t||void 0!==i)&&(!!tA[e]||"opacity"===e)}let iV=(e,t)=>t&&"number"==typeof e?t.transform(e):e,iJ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iN=c.U.length;function iK(e,t,i){let{style:r,vars:n,transformOrigin:s}=e,a=!1,o=!1;for(let e in t){let i=t[e];if(c.f.has(e)){a=!0;continue}if((0,N.j)(e)){n[e]=i;continue}{let t=iV(i,k[e]);e.startsWith("origin")?(o=!0,s[e]=t):r[e]=t}}if(!t.transform&&(a||i?r.transform=function(e,t,i){let r="",n=!0;for(let s=0;s<iN;s++){let a=c.U[s],o=e[a];if(void 0===o)continue;let l=!0;if(!(l="number"==typeof o?o===+!!a.startsWith("scale"):0===parseFloat(o))||i){let e=iV(o,k[a]);if(!l){n=!1;let t=iJ[a]||a;r+=`${t}(${e}) `}i&&(t[a]=e)}}return r=r.trim(),i?r=i(t,n?"":r):n&&(r="none"),r}(t,e.transform,i):r.transform&&(r.transform="none")),o){let{originX:e="50%",originY:t="50%",originZ:i=0}=s;r.transformOrigin=`${e} ${t} ${i}`}}let iW=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function iX(e,t,i){for(let r in t)(0,g.S)(t[r])||iU(r,i)||(e[r]=t[r])}let iQ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function iY(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||iQ.has(e)}let iz=e=>!iY(e);try{!function(e){e&&(iz=t=>t.startsWith("on")?!iY(t):e(t))}(require("@emotion/is-prop-valid").default)}catch(e){}let iq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function iZ(e){if("string"!=typeof e||e.includes("-"));else if(iq.indexOf(e)>-1||/[A-Z]/u.test(e))return!0;return!1}let i$={offset:"stroke-dashoffset",array:"stroke-dasharray"},i0={offset:"strokeDashoffset",array:"strokeDasharray"};function i1(e,t,i){return"string"==typeof e?e:I.px.transform(t+i*e)}function i2(e,{attrX:t,attrY:i,attrScale:r,originX:n,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...u},h,c){if(iK(e,u,c),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:d,style:p,dimensions:f}=e;d.transform&&(f&&(p.transform=d.transform),delete d.transform),f&&(void 0!==n||void 0!==s||p.transform)&&(p.transformOrigin=function(e,t,i){let r=i1(t,e.x,e.width),n=i1(i,e.y,e.height);return`${r} ${n}`}(f,void 0!==n?n:.5,void 0!==s?s:.5)),void 0!==t&&(d.x=t),void 0!==i&&(d.y=i),void 0!==r&&(d.scale=r),void 0!==a&&function(e,t,i=1,r=0,n=!0){e.pathLength=1;let s=n?i$:i0;e[s.offset]=I.px.transform(-r);let a=I.px.transform(t),o=I.px.transform(i);e[s.array]=`${a} ${o}`}(d,a,o,l,!1)}let i9=()=>({...iW(),attrs:{}}),i3=e=>"string"==typeof e&&"svg"===e.toLowerCase();var i5=i(2885);let i8=e=>(t,i)=>{let r=(0,tc.useContext)(iR),n=(0,tc.useContext)(i_.t),s=()=>(function({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:i},r,n,s){let o={latestValues:function(e,t,i,r){let n={},s=r(e,{});for(let e in s)n[e]=tw(s[e]);let{initial:o,animate:u}=e,h=iD(e),c=iI(e);t&&c&&!h&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===u&&(u=t.animate));let d=!!i&&!1===i.initial,p=(d=d||!1===o)?u:o;if(p&&"boolean"!=typeof p&&!a(p)){let t=Array.isArray(p)?p:[p];for(let i=0;i<t.length;i++){let r=l(e,t[i]);if(r){let{transitionEnd:e,transition:t,...i}=r;for(let e in i){let t=i[e];if(Array.isArray(t)){let e=d?t.length-1:0;t=t[e]}null!==t&&(n[e]=t)}for(let t in e)n[t]=e[t]}}}return n}(r,n,s,e),renderState:t()};return i&&(o.onMount=e=>i({props:r,current:e,...o}),o.onUpdate=e=>i(e)),o})(e,t,r,n);return i?s():(0,i5.M)(s)};function i6(e,t,i){var r;let{style:n}=e,s={};for(let a in n)((0,g.S)(n[a])||t.style&&(0,g.S)(t.style[a])||iU(a,e)||(null===(r=null==i?void 0:i.getValue(a))||void 0===r?void 0:r.liveStyle)!==void 0)&&(s[a]=n[a]);return s}let i4={useVisualState:i8({scrapeMotionValuesFromProps:i6,createRenderState:iW})};function i7(e,t){try{t.dimensions="function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(e){t.dimensions={x:0,y:0,width:0,height:0}}}function re(e,{style:t,vars:i},r,n){for(let s in Object.assign(e.style,t,n&&n.getProjectionStyles(r)),i)e.style.setProperty(s,i[s])}let rt=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ri(e,t,i,r){for(let i in re(e,t,void 0,r),t.attrs)e.setAttribute(rt.has(i)?i:A(i),t.attrs[i])}function rr(e,t,i){let r=i6(e,t,i);for(let i in e)((0,g.S)(e[i])||(0,g.S)(t[i]))&&(r[-1!==c.U.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]);return r}let rn=["x","y","width","height","cx","cy","r"],rs={useVisualState:i8({scrapeMotionValuesFromProps:rr,createRenderState:i9,onUpdate:({props:e,prevProps:t,current:i,renderState:r,latestValues:n})=>{if(!i)return;let s=!!e.drag;if(!s){for(let e in n)if(c.f.has(e)){s=!0;break}}if(!s)return;let a=!t;if(t)for(let i=0;i<rn.length;i++){let r=rn[i];e[r]!==t[r]&&(a=!0)}a&&h.Gt.read(()=>{i7(i,r),h.Gt.render(()=>{i2(r,n,i3(i.tagName),e.transformTemplate),ri(i,r)})})}})},ra={current:null},ro={current:!1},rl=[...Q,R.y,E.f],ru=e=>rl.find(X(e)),rh=new WeakMap,rc=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class rd{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:n,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=V.h,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=h.kB.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,h.Gt.render(this.render,!1,!0))};let{latestValues:o,renderState:l,onUpdate:u}=s;this.onUpdate=u,this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!n,this.isControllingVariants=iD(t),this.isVariantNode=iI(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);let{willChange:c,...d}=this.scrapeMotionValuesFromProps(t,{},this);for(let e in d){let t=d[e];void 0!==o[e]&&(0,g.S)(t)&&t.set(o[e],!1)}}mount(e){this.current=e,rh.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),ro.current||function(){if(ro.current=!0,iG.B){if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ra.current=e.matches;e.addListener(t),t()}else ra.current=!1}}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||ra.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){for(let e in this.projection&&this.projection.unmount(),(0,h.WG)(this.notifyUpdate),(0,h.WG)(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){let i;this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();let r=c.f.has(e);r&&this.onBindTransform&&this.onBindTransform();let n=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&h.Gt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{n(),s(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in ik){let t=ik[e];if(!t)continue;let{isEnabled:i,Feature:r}=t;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):eU()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<rc.length;t++){let i=rc[t];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);let r=e["on"+i];r&&(this.propEventSubscriptions[i]=this.on(i,r))}this.prevMotionValues=function(e,t,i){for(let r in t){let n=t[r],s=i[r];if((0,g.S)(n))e.addValue(r,n);else if((0,g.S)(s))e.addValue(r,(0,h.OQ)(n,{owner:e}));else if(s!==n){if(e.hasValue(r)){let t=e.getValue(r);!0===t.liveStyle?t.jump(n):t.hasAnimated||t.set(n)}else{let t=e.getStaticValue(r);e.addValue(r,(0,h.OQ)(void 0!==t?t:n,{owner:e}))}}}for(let r in i)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return void 0===i&&void 0!==t&&(i=(0,h.OQ)(null===t?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){var i;let r=void 0===this.latestValues[e]&&this.current?null!==(i=this.getBaseTargetFromProps(this.props,e))&&void 0!==i?i:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return null!=r&&("string"==typeof r&&(J(r)||w(r))?r=parseFloat(r):!ru(r)&&E.f.test(t)&&(r=j(e,t)),this.setBaseTarget(e,(0,g.S)(r)?r.get():r)),(0,g.S)(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;let i;let{initial:r}=this.props;if("string"==typeof r||"object"==typeof r){let n=l(this.props,r,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);n&&(i=n[e])}if(r&&void 0!==i)return i;let n=this.getBaseTargetFromProps(this.props,e);return void 0===n||(0,g.S)(n)?void 0!==this.initialValues[e]&&void 0===i?void 0:this.baseTarget[e]:n}on(e,t){return this.events[e]||(this.events[e]=new s.vY),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class rp extends rd{constructor(){super(...arguments),this.KeyframeResolver=z}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;(0,g.S)(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}var rf=i(4576);class rm extends rp{constructor(){super(...arguments),this.type="html",this.renderInstance=re}readValueFromInstance(e,t){if(c.f.has(t))return(0,rf.I)(e,t);{let i=window.getComputedStyle(e),r=((0,N.j)(t)?i.getPropertyValue(t):i[t])||0;return"string"==typeof r?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return e$(e,t)}build(e,t,i){iK(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return i6(e,t,i)}}class rg extends rp{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=eU,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&i7(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(c.f.has(t)){let e=_(t);return e&&e.default||0}return t=rt.has(t)?t:A(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return rr(e,t,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&h.Gt.postRender(this.updateDimensions)}build(e,t,i){i2(e,t,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,i,r){ri(e,t,i,r)}mount(e){this.isSVGTag=i3(e.tagName),super.mount(e)}}let rv=function(e){if("undefined"==typeof Proxy)return e;let t=new Map;return new Proxy((...t)=>e(...t),{get:(i,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}((r={animation:{Feature:ex},exit:{Feature:eE},inView:{Feature:iS},tap:{Feature:ib},focus:{Feature:iB},hover:{Feature:iy},pan:{Feature:tu},drag:{Feature:to,ProjectionNode:iv,MeasureLayout:tB},layout:{ProjectionNode:iv,MeasureLayout:tB}},n=(e,t)=>iZ(e)?new rg(t):new rm(t,{allowProjection:e!==tc.Fragment}),function(e,{forwardMotionProps:t}={forwardMotionProps:!1}){return function(e){var t,i;let{preloadedFeatures:r,createVisualElement:n,useRender:s,useVisualState:a,Component:o}=e;function l(e,t){var i,r,l;let u;let c={...(0,tc.useContext)(iF.Q),...e,layoutId:function(e){let{layoutId:t}=e,i=(0,tc.useContext)(tp.L).id;return i&&void 0!==t?i+"-"+t:t}(e)},{isStatic:d}=c,p=function(e){let{initial:t,animate:i}=function(e,t){if(iD(e)){let{initial:t,animate:i}=e;return{initial:!1===t||ef(t)?t:void 0,animate:ef(i)?i:void 0}}return!1!==e.inherit?t:{}}(e,(0,tc.useContext)(iR));return(0,tc.useMemo)(()=>({initial:t,animate:i}),[iO(t),iO(i)])}(e),f=a(e,d);if(!d&&iG.B){r=0,l=0,(0,tc.useContext)(iP).strict;let e=function(e){let{drag:t,layout:i}=ik;if(!t&&!i)return{};let r={...t,...i};return{MeasureLayout:(null==t?void 0:t.isEnabled(e))||(null==i?void 0:i.isEnabled(e))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(c);u=e.MeasureLayout,p.visualElement=function(e,t,i,r,n){var s,a;let{visualElement:o}=(0,tc.useContext)(iR),l=(0,tc.useContext)(iP),u=(0,tc.useContext)(i_.t),c=(0,tc.useContext)(iF.Q).reducedMotion,d=(0,tc.useRef)(null);r=r||l.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:o,props:i,presenceContext:u,blockInitialAnimation:!!u&&!1===u.initial,reducedMotionConfig:c}));let p=d.current,f=(0,tc.useContext)(tf);p&&!p.projection&&n&&("html"===p.type||"svg"===p.type)&&function(e,t,i,r){let{layoutId:n,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u}=t;e.projection=new i(e.latestValues,t["data-framer-portal-id"]?void 0:function e(t){if(t)return!1!==t.options.allowProjection?t.projection:e(t.parent)}(e.parent)),e.projection.setOptions({layoutId:n,layout:s,alwaysMeasureLayout:!!a||o&&e1(o),visualElement:e,animationType:"string"==typeof s?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}(d.current,i,n,f);let m=(0,tc.useRef)(!1);(0,tc.useInsertionEffect)(()=>{p&&m.current&&p.update(i,u)});let g=i[y],v=(0,tc.useRef)(!!g&&!(null===(s=window.MotionHandoffIsComplete)||void 0===s?void 0:s.call(window,g))&&(null===(a=window.MotionHasOptimisedAnimation)||void 0===a?void 0:a.call(window,g)));return(0,ij.E)(()=>{p&&(m.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),h.k2.render(p.render),v.current&&p.animationState&&p.animationState.animateChanges())}),(0,tc.useEffect)(()=>{p&&(!v.current&&p.animationState&&p.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,g)}),v.current=!1))}),p}(o,f,c,n,e.ProjectionNode)}return(0,th.jsxs)(iR.Provider,{value:p,children:[u&&p.visualElement?(0,th.jsx)(u,{visualElement:p.visualElement,...c}):null,s(o,e,(i=p.visualElement,(0,tc.useCallback)(e=>{e&&f.onMount&&f.onMount(e),i&&(e?i.mount(e):i.unmount()),t&&("function"==typeof t?t(e):e1(t)&&(t.current=e))},[i])),f,d,p.visualElement)]})}r&&function(e){for(let t in e)ik[t]={...ik[t],...e[t]}}(r),l.displayName="motion.".concat("string"==typeof o?o:"create(".concat(null!==(i=null!==(t=o.displayName)&&void 0!==t?t:o.name)&&void 0!==i?i:"",")"));let u=(0,tc.forwardRef)(l);return u[iH]=o,u}({...iZ(e)?rs:i4,preloadedFeatures:r,useRender:function(e=!1){return(t,i,r,{latestValues:n},s)=>{let a=(iZ(t)?function(e,t,i,r){let n=(0,tc.useMemo)(()=>{let i=i9();return i2(i,t,i3(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){let t={};iX(t,e.style,e),n.style={...t,...n.style}}return n}:function(e,t){let i={},r=function(e,t){let i=e.style||{},r={};return iX(r,i,e),Object.assign(r,function({transformTemplate:e},t){return(0,tc.useMemo)(()=>{let i=iW();return iK(i,t,e),Object.assign({},i.vars,i.style)},[t])}(e,t)),r}(e,t);return e.drag&&!1!==e.dragListener&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":`pan-${"x"===e.drag?"y":"x"}`),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=r,i})(i,n,s,t),o=function(e,t,i){let r={};for(let n in e)("values"!==n||"object"!=typeof e.values)&&(iz(n)||!0===i&&iY(n)||!t&&!iY(n)||e.draggable&&n.startsWith("onDrag"))&&(r[n]=e[n]);return r}(i,"string"==typeof t,e),l=t!==tc.Fragment?{...o,...a,ref:r}:{},{children:u}=i,h=(0,tc.useMemo)(()=>(0,g.S)(u)?u.get():u,[u]);return(0,tc.createElement)(t,{...l,children:h})}}(t),createVisualElement:n,Component:e})}))},6479:(e,t,i)=>{i.d(t,{S:()=>r});let r=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu},6498:(e,t,i)=>{i.d(t,{G:()=>r});let r=e=>t=>1-e(1-t)},6500:(e,t)=>{t.ConcurrentRoot=1,t.ContinuousEventPriority=8,t.DefaultEventPriority=32,t.DiscreteEventPriority=2},6660:(e,t,i)=>{i.d(t,{b:()=>n});var r=i(5190);let n=e=>(e*=2)<1?.5*(0,r.dg)(e):.5*(2-Math.pow(2,-10*(e-1)))},6836:(e,t,i)=>{i.d(t,{V:()=>a});var r=i(5443),n=i(2115),s=i(8619);function a(e){var t,i;let a=(0,s.d)(e.getVelocity()),o=()=>{let t=e.getVelocity();a.set(t),t&&r.Gt.update(o)};return t="change",i=()=>{r.Gt.update(o,!1,!0)},(0,n.useInsertionEffect)(()=>e.on(t,i),[e,t,i]),a}},6892:(e,t)=>{function i(e,t){var i=e.length;for(e.push(t);0<i;){var r=i-1>>>1,n=e[r];if(0<s(n,t))e[r]=t,e[i]=n,i=r;else break}}function r(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],i=e.pop();if(i!==t){e[0]=i;for(var r=0,n=e.length,a=n>>>1;r<a;){var o=2*(r+1)-1,l=e[o],u=o+1,h=e[u];if(0>s(l,i))u<n&&0>s(h,l)?(e[r]=h,e[u]=i,r=u):(e[r]=l,e[o]=i,r=o);else if(u<n&&0>s(h,i))e[r]=h,e[u]=i,r=u;else break}}return t}function s(e,t){var i=e.sortIndex-t.sortIndex;return 0!==i?i:e.id-t.id}if(t.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var a,o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],c=[],d=1,p=null,f=3,m=!1,g=!1,v=!1,A="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,B="undefined"!=typeof setImmediate?setImmediate:null;function C(e){for(var t=r(c);null!==t;){if(null===t.callback)n(c);else if(t.startTime<=e)n(c),t.sortIndex=t.expirationTime,i(h,t);else break;t=r(c)}}function b(e){if(v=!1,C(e),!g){if(null!==r(h))g=!0,R();else{var t=r(c);null!==t&&D(b,t.startTime-e)}}}var x=!1,w=-1,E=5,M=-1;function T(){return!(t.unstable_now()-M<E)}function S(){if(x){var e=t.unstable_now();M=e;var i=!0;try{e:{g=!1,v&&(v=!1,y(w),w=-1),m=!0;var s=f;try{t:{for(C(e),p=r(h);null!==p&&!(p.expirationTime>e&&T());){var o=p.callback;if("function"==typeof o){p.callback=null,f=p.priorityLevel;var l=o(p.expirationTime<=e);if(e=t.unstable_now(),"function"==typeof l){p.callback=l,C(e),i=!0;break t}p===r(h)&&n(h),C(e)}else n(h);p=r(h)}if(null!==p)i=!0;else{var u=r(c);null!==u&&D(b,u.startTime-e),i=!1}}break e}finally{p=null,f=s,m=!1}i=void 0}}finally{i?a():x=!1}}}if("function"==typeof B)a=function(){B(S)};else if("undefined"!=typeof MessageChannel){var P=new MessageChannel,F=P.port2;P.port1.onmessage=S,a=function(){F.postMessage(null)}}else a=function(){A(S,0)};function R(){x||(x=!0,a())}function D(e,i){w=A(function(){e(t.unstable_now())},i)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,R())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var i=f;f=t;try{return e()}finally{f=i}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var i=f;f=e;try{return t()}finally{f=i}},t.unstable_scheduleCallback=function(e,n,s){var a=t.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?a+s:a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=0x3fffffff;break;case 4:o=1e4;break;default:o=5e3}return o=s+o,e={id:d++,callback:n,priorityLevel:e,startTime:s,expirationTime:o,sortIndex:-1},s>a?(e.sortIndex=s,i(c,e),null===r(h)&&e===r(c)&&(v?(y(w),w=-1):v=!0,D(b,s-a))):(e.sortIndex=o,i(h,e),g||m||(g=!0,R())),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var i=f;f=t;try{return e.apply(this,arguments)}finally{f=i}}}},7007:(e,t,i)=>{i.d(t,{F:()=>n});let r=(e,t)=>i=>t(e(i)),n=(...e)=>e.reduce(r)},7178:(e,t,i)=>{i.d(t,{z:()=>d});var r=i(5443),n=i(4331),s=i(2115),a=i(856),o=i(1508),l=i(2885),u=i(7494),h=i(8619),c=i(4570);function d(e,t={}){let{isStatic:i}=(0,s.useContext)(o.Q),f=(0,s.useRef)(null),m=(0,l.M)(()=>(0,c.S)(e)?e.get():e),g=(0,l.M)(()=>"string"==typeof m?m.replace(/[\d.-]/g,""):void 0),v=(0,h.d)(m),A=(0,s.useRef)(m),y=(0,s.useRef)(n.lQ),B=()=>{C(),f.current=(0,a.L)({keyframes:[p(v.get()),p(A.current)],velocity:v.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...t,onUpdate:y.current})},C=()=>{f.current&&f.current.stop()};return(0,s.useInsertionEffect)(()=>v.attach((e,t)=>i?t(e):(A.current=e,y.current=e=>{var i,r;return t((i=e,(r=g)?i+r:i))},r.Gt.postRender(B),v.get()),C),[JSON.stringify(t)]),(0,u.E)(()=>{if((0,c.S)(e))return e.on("change",e=>{var t,i;return v.set((t=e,(i=g)?t+i:t))})},[v,g]),v}function p(e){return"number"==typeof e?e:parseFloat(e)}},7219:(e,t,i)=>{i.d(t,{$:()=>s,q:()=>a});var r=i(6479);let n=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,s=(e,t)=>i=>!!("string"==typeof i&&n.test(i)&&i.startsWith(e)||t&&null!=i&&Object.prototype.hasOwnProperty.call(i,t)),a=(e,t,i)=>n=>{if("string"!=typeof n)return n;let[s,a,o,l]=n.match(r.S);return{[e]:parseFloat(s),[t]:parseFloat(a),[i]:parseFloat(o),alpha:void 0!==l?parseFloat(l):1}}},7345:(e,t,i)=>{i.d(t,{Z:()=>s});var r=i(4331),n=i(1109);function s(e){let t=[0];return!function(e,t){let i=e[e.length-1];for(let s=1;s<=t;s++){let a=(0,r.qB)(0,t,s);e.push((0,n.k)(i,1,a))}}(t,e.length-1),t}},7387:(e,t,i)=>{i.d(t,{U:()=>r,f:()=>n});let r=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],n=new Set(r)},7437:(e,t,i)=>{i.d(t,{j:()=>E});var r=i(1109),n=i(4331);function s(e,t,i){return(i<0&&(i+=1),i>1&&(i-=1),i<1/6)?e+(t-e)*6*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}var a=i(7730),o=i(4935),l=i(2083);function u(e,t){return i=>i>0?t:e}let h=(e,t,i)=>{let r=e*e,n=i*(t*t-r)+r;return n<0?0:Math.sqrt(n)},c=[a.u,o.B,l.V],d=e=>c.find(t=>t.test(e));function p(e){let t=d(e);if((0,n.$e)(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`),!t)return!1;let i=t.parse(e);return t===l.V&&(i=function({hue:e,saturation:t,lightness:i,alpha:r}){e/=360,i/=100;let n=0,a=0,o=0;if(t/=100){let r=i<.5?i*(1+t):i+t-i*t,l=2*i-r;n=s(l,r,e+1/3),a=s(l,r,e),o=s(l,r,e-1/3)}else n=a=o=i;return{red:Math.round(255*n),green:Math.round(255*a),blue:Math.round(255*o),alpha:r}}(i)),i}let f=(e,t)=>{let i=p(e),n=p(t);if(!i||!n)return u(e,t);let s={...i};return e=>(s.red=h(i.red,n.red,e),s.green=h(i.green,n.green,e),s.blue=h(i.blue,n.blue,e),s.alpha=(0,r.k)(i.alpha,n.alpha,e),o.B.transform(s))};var m=i(7007),g=i(2897),v=i(3013),A=i(3676);let y=new Set(["none","hidden"]);function B(e,t){return i=>(0,r.k)(e,t,i)}function C(e){return"number"==typeof e?B:"string"==typeof e?(0,A.p)(e)?u:g.y.test(e)?f:w:Array.isArray(e)?b:"object"==typeof e?g.y.test(e)?f:x:u}function b(e,t){let i=[...e],r=i.length,n=e.map((e,i)=>C(e)(e,t[i]));return e=>{for(let t=0;t<r;t++)i[t]=n[t](e);return i}}function x(e,t){let i={...e,...t},r={};for(let n in i)void 0!==e[n]&&void 0!==t[n]&&(r[n]=C(e[n])(e[n],t[n]));return e=>{for(let t in r)i[t]=r[t](e);return i}}let w=(e,t)=>{let i=v.f.createTransformer(t),r=(0,v.V)(e),s=(0,v.V)(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?y.has(e)&&!s.values.length||y.has(t)&&!r.values.length?function(e,t){return y.has(e)?i=>i<=0?e:t:i=>i>=1?t:e}(e,t):(0,m.F)(b(function(e,t){var i;let r=[],n={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){let a=t.types[s],o=e.indexes[a][n[a]],l=null!==(i=e.values[o])&&void 0!==i?i:0;r[s]=l,n[a]++}return r}(r,s),s.values),i):((0,n.$e)(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),u(e,t))};function E(e,t,i){return"number"==typeof e&&"number"==typeof t&&"number"==typeof i?(0,r.k)(e,t,i):C(e)(e,t)}},7471:(e,t,i)=>{i.d(t,{Q:()=>r});let r=(0,i(2115).createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"})},7494:(e,t,i)=>{i.d(t,{E:()=>n});var r=i(2115);let n=i(8972).B?r.useLayoutEffect:r.useEffect},7558:(e,t,i)=>{i.d(t,{Hl:()=>d});var r=i(73),n=i(2115),s=i(7431);function a(e,t){let i;return(...r)=>{window.clearTimeout(i),i=window.setTimeout(()=>e(...r),t)}}let o=["x","y","top","bottom","left","right","width","height"],l=(e,t)=>o.every(i=>e[i]===t[i]);var u=i(6354),h=i(5155);function c({ref:e,children:t,fallback:i,resize:o,style:u,gl:c,events:d=r.f,eventSource:p,eventPrefix:f,shadows:m,linear:g,flat:v,legacy:A,orthographic:y,frameloop:B,dpr:C,performance:b,raycaster:x,camera:w,scene:E,onPointerMissed:M,onCreated:T,...S}){n.useMemo(()=>(0,r.e)(s),[]);let P=(0,r.u)(),[F,R]=function({debounce:e,scroll:t,polyfill:i,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){var s,o,u;let h=i||("undefined"==typeof window?class{}:window.ResizeObserver);if(!h)throw Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[c,d]=(0,n.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),p=(0,n.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:c,orientationHandler:null}),f=e?"number"==typeof e?e:e.scroll:null,m=e?"number"==typeof e?e:e.resize:null,g=(0,n.useRef)(!1);(0,n.useEffect)(()=>(g.current=!0,()=>void(g.current=!1)));let[v,A,y]=(0,n.useMemo)(()=>{let e=()=>{if(!p.current.element)return;let{left:e,top:t,width:i,height:n,bottom:s,right:a,x:o,y:u}=p.current.element.getBoundingClientRect(),h={left:e,top:t,width:i,height:n,bottom:s,right:a,x:o,y:u};p.current.element instanceof HTMLElement&&r&&(h.height=p.current.element.offsetHeight,h.width=p.current.element.offsetWidth),Object.freeze(h),g.current&&!l(p.current.lastBounds,h)&&d(p.current.lastBounds=h)};return[e,m?a(e,m):e,f?a(e,f):e]},[d,r,f,m]);function B(){p.current.scrollContainers&&(p.current.scrollContainers.forEach(e=>e.removeEventListener("scroll",y,!0)),p.current.scrollContainers=null),p.current.resizeObserver&&(p.current.resizeObserver.disconnect(),p.current.resizeObserver=null),p.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",p.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",p.current.orientationHandler))}function C(){p.current.element&&(p.current.resizeObserver=new h(y),p.current.resizeObserver.observe(p.current.element),t&&p.current.scrollContainers&&p.current.scrollContainers.forEach(e=>e.addEventListener("scroll",y,{capture:!0,passive:!0})),p.current.orientationHandler=()=>{y()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",p.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",p.current.orientationHandler))}return s=y,o=!!t,(0,n.useEffect)(()=>{if(o)return window.addEventListener("scroll",s,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",s,!0)},[s,o]),u=A,(0,n.useEffect)(()=>(window.addEventListener("resize",u),()=>void window.removeEventListener("resize",u)),[u]),(0,n.useEffect)(()=>{B(),C()},[t,y,A]),(0,n.useEffect)(()=>B,[]),[e=>{e&&e!==p.current.element&&(B(),p.current.element=e,p.current.scrollContainers=function e(t){let i=[];if(!t||t===document.body)return i;let{overflow:r,overflowX:n,overflowY:s}=window.getComputedStyle(t);return[r,n,s].some(e=>"auto"===e||"scroll"===e)&&i.push(t),[...i,...e(t.parentElement)]}(e),C())},c,v]}({scroll:!0,debounce:{scroll:50,resize:0},...o}),D=n.useRef(null),I=n.useRef(null);n.useImperativeHandle(e,()=>D.current);let O=(0,r.a)(M),[G,L]=n.useState(!1),[k,H]=n.useState(!1);if(G)throw G;if(k)throw k;let _=n.useRef(null);(0,r.b)(()=>{let e=D.current;R.width>0&&R.height>0&&e&&(_.current||(_.current=(0,r.c)(e)),async function(){await _.current.configure({gl:c,scene:E,events:d,shadows:m,linear:g,flat:v,legacy:A,orthographic:y,frameloop:B,dpr:C,performance:b,raycaster:x,camera:w,size:R,onPointerMissed:(...e)=>null==O.current?void 0:O.current(...e),onCreated:e=>{null==e.events.connect||e.events.connect(p?(0,r.i)(p)?p.current:p:I.current),f&&e.setEvents({compute:(e,t)=>{let i=e[f+"X"],r=e[f+"Y"];t.pointer.set(i/t.size.width*2-1,-(2*(r/t.size.height))+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==T||T(e)}}),_.current.render((0,h.jsx)(P,{children:(0,h.jsx)(r.E,{set:H,children:(0,h.jsx)(n.Suspense,{fallback:(0,h.jsx)(r.B,{set:L}),children:null!=t?t:null})})}))}())}),n.useEffect(()=>{let e=D.current;if(e)return()=>(0,r.d)(e)},[]);let j=p?"none":"auto";return(0,h.jsx)("div",{ref:I,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:j,...u},...S,children:(0,h.jsx)("div",{ref:F,style:{width:"100%",height:"100%"},children:(0,h.jsx)("canvas",{ref:D,style:{display:"block"},children:i})})})}function d(e){return(0,h.jsx)(u.Af,{children:(0,h.jsx)(c,{...e})})}i(1933),i(5220),i(2407)},7696:(e,t,i)=>{i.d(t,{Q:()=>a});let r={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function n(e){4===e.length&&(e=e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t||console.warn(`Unable to convert hex string ${e} to rgb values`),[parseInt(t[1],16)/255,parseInt(t[2],16)/255,parseInt(t[3],16)/255]}function s(e){if(void 0===e)return[0,0,0];if(3==arguments.length)return arguments;if(!isNaN(e)){var t;return[((t=parseInt(t=e))>>16&255)/255,(t>>8&255)/255,(255&t)/255]}return"#"===e[0]?n(e):r[e.toLowerCase()]?n(r[e.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0])}class a extends Array{constructor(e){if(Array.isArray(e))return super(...e);return super(...s(...arguments))}get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}set r(e){this[0]=e}set g(e){this[1]=e}set b(e){this[2]=e}set(e){return Array.isArray(e)?this.copy(e):this.copy(s(...arguments))}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this}}},7728:(e,t,i)=>{i.d(t,{L:()=>r});let r=(0,i(2115).createContext)({})},7730:(e,t,i)=>{i.d(t,{u:()=>n});var r=i(4935);let n={test:(0,i(7219).$)("#"),parse:function(e){let t="",i="",r="",n="";return e.length>5?(t=e.substring(1,3),i=e.substring(3,5),r=e.substring(5,7),n=e.substring(7,9)):(t=e.substring(1,2),i=e.substring(2,3),r=e.substring(3,4),n=e.substring(4,5),t+=t,i+=i,r+=r,n+=n),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:n?parseInt(n,16)/255:1}},transform:r.B.transform}},7782:(e,t,i)=>{i.d(t,{q:()=>r});let r=(e,t,i)=>i>t?t:i<e?e:i},7846:(e,t,i)=>{i.d(t,{G:()=>o});var r=i(4331),n=i(7782),s=i(7437),a=i(7007);function o(e,t,{clamp:i=!0,ease:l,mixer:u}={}){let h=e.length;if((0,r.V1)(h===t.length,"Both input and output ranges must be the same length"),1===h)return()=>t[0];if(2===h&&t[0]===t[1])return()=>t[1];let c=e[0]===e[1];e[0]>e[h-1]&&(e=[...e].reverse(),t=[...t].reverse());let d=function(e,t,i){let n=[],o=i||s.j,l=e.length-1;for(let i=0;i<l;i++){let s=o(e[i],e[i+1]);if(t){let e=Array.isArray(t)?t[i]||r.lQ:t;s=(0,a.F)(e,s)}n.push(s)}return n}(t,l,u),p=d.length,f=i=>{if(c&&i<e[0])return t[0];let n=0;if(p>1)for(;n<e.length-2&&!(i<e[n+1]);n++);let s=(0,r.qB)(e[n],e[n+1],i);return d[n](s)};return i?t=>f((0,n.q)(e[0],e[h-1],t)):f}},8090:(e,t,i)=>{i.d(t,{O:()=>o});var r=i(9630),n=i(73),s=i(2115),a=i(3264);let o=s.forwardRef(({light:e,args:t,map:i,toneMapped:o=!1,color:l="white",form:u="rect",intensity:h=1,scale:c=1,target:d=[0,0,0],children:p,...f},m)=>{let g=s.useRef(null);return s.useImperativeHandle(m,()=>g.current,[]),s.useLayoutEffect(()=>{p||f.material||((0,n.q)(g.current.material,{color:l}),g.current.material.color.multiplyScalar(h))},[l,h,p,f.material]),s.useLayoutEffect(()=>{f.rotation||g.current.quaternion.identity(),d&&!f.rotation&&("boolean"==typeof d?g.current.lookAt(0,0,0):g.current.lookAt(Array.isArray(d)?new a.Pq0(...d):d))},[d,f.rotation]),c=Array.isArray(c)&&2===c.length?[c[0],c[1],1]:c,s.createElement("mesh",(0,r.A)({ref:g,scale:c},f),"circle"===u?s.createElement("ringGeometry",{args:t||[0,.5,64]}):"ring"===u?s.createElement("ringGeometry",{args:t||[.25,.5,64]}):"rect"===u||"plane"===u?s.createElement("planeGeometry",{args:t||[1,1]}):"box"===u?s.createElement("boxGeometry",{args:t||[1,1,1]}):s.createElement(u,{args:t}),p||s.createElement("meshBasicMaterial",{toneMapped:o,map:i,side:a.$EB}),e&&s.createElement("pointLight",(0,r.A)({castShadow:!0},e)))})},8203:(e,t,i)=>{i.d(t,{h:()=>c,q:()=>h});var r=i(5443),n=i(9280);let s=new Set,a=!1,o=!1;function l(){if(o){let e=Array.from(s).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),i=new Map;t.forEach(e=>{let t=(0,n.W9)(e);t.length&&(i.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=i.get(e);t&&t.forEach(([t,i])=>{var r;null===(r=e.getValue(t))||void 0===r||r.set(i)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}o=!1,a=!1,s.forEach(e=>e.complete()),s.clear()}function u(){s.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(o=!0)})}function h(){u(),l()}class c{constructor(e,t,i,r,n,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=n,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(s.add(this),a||(a=!0,r.Gt.read(u),r.Gt.resolveKeyframes(l))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;for(let n=0;n<e.length;n++)if(null===e[n]){if(0===n){let n=null==r?void 0:r.get(),s=e[e.length-1];if(void 0!==n)e[0]=n;else if(i&&t){let r=i.readValue(t,s);null!=r&&(e[0]=r)}void 0===e[0]&&(e[0]=s),r&&void 0===n&&r.set(e[0])}else e[n]=e[n-1]}}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),s.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,s.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}},8237:(e,t,i)=>{let r;function n(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function s(e){let t=[{},{}];return null==e||e.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function a(e,t,i,r){if("function"==typeof t){let[n,a]=s(r);t=t(void 0!==i?i:e.custom,n,a)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){let[n,a]=s(r);t=t(void 0!==i?i:e.custom,n,a)}return t}function o(e,t,i){let r=e.getProps();return a(r,t,void 0!==i?i:r.custom,e)}function l(e,t){return e?e[t]||e.default||e:void 0}i.d(t,{P:()=>sT});let u=e=>e,h={skipAnimations:!1,useManualTiming:!1},c=["read","resolveKeyframes","update","preRender","render","postRender"],d={value:null,addProjectionMetrics:null};function p(e,t){let i=!1,r=!0,n={delta:0,timestamp:0,isProcessing:!1},s=()=>i=!0,a=c.reduce((e,i)=>(e[i]=function(e,t){let i=new Set,r=new Set,n=!1,s=!1,a=new WeakSet,o={delta:0,timestamp:0,isProcessing:!1},l=0;function u(t){a.has(t)&&(h.schedule(t),e()),l++,t(o)}let h={schedule:(e,t=!1,s=!1)=>{let o=s&&n?i:r;return t&&a.add(e),o.has(e)||o.add(e),e},cancel:e=>{r.delete(e),a.delete(e)},process:e=>{if(o=e,n){s=!0;return}n=!0,[i,r]=[r,i],i.forEach(u),t&&d.value&&d.value.frameloop[t].push(l),l=0,i.clear(),n=!1,s&&(s=!1,h.process(e))}};return h}(s,t?i:void 0),e),{}),{read:o,resolveKeyframes:l,update:u,preRender:p,render:f,postRender:m}=a,g=()=>{let s=h.useManualTiming?n.timestamp:performance.now();i=!1,h.useManualTiming||(n.delta=r?1e3/60:Math.max(Math.min(s-n.timestamp,40),1)),n.timestamp=s,n.isProcessing=!0,o.process(n),l.process(n),u.process(n),p.process(n),f.process(n),m.process(n),n.isProcessing=!1,i&&t&&(r=!1,e(g))},v=()=>{i=!0,r=!0,n.isProcessing||e(g)};return{schedule:c.reduce((e,t)=>{let r=a[t];return e[t]=(e,t=!1,n=!1)=>(i||v(),r.schedule(e,t,n)),e},{}),cancel:e=>{for(let t=0;t<c.length;t++)a[c[t]].cancel(e)},state:n,steps:a}}let{schedule:f,cancel:m,state:g,steps:v}=p("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:u,!0),A=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],y=new Set(A),B=new Set(["width","height","top","left","right","bottom",...A]);function C(e,t){-1===e.indexOf(t)&&e.push(t)}function b(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}class x{constructor(){this.subscriptions=[]}add(e){return C(this.subscriptions,e),()=>b(this.subscriptions,e)}notify(e,t,i){let r=this.subscriptions.length;if(r){if(1===r)this.subscriptions[0](e,t,i);else for(let n=0;n<r;n++){let r=this.subscriptions[n];r&&r(e,t,i)}}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function w(){r=void 0}let E={now:()=>(void 0===r&&E.set(g.isProcessing||h.useManualTiming?g.timestamp:performance.now()),r),set:e=>{r=e,queueMicrotask(w)}},M=e=>!isNaN(parseFloat(e)),T={current:void 0};class S{constructor(e,t={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(e,t=!0)=>{let i=E.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=E.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=M(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new x);let i=this.events[e].add(t);return"change"===e?()=>{i(),f.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return T.current&&T.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var e;let t=E.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;let i=Math.min(this.updatedAt-this.prevUpdatedAt,30);return e=parseFloat(this.current)-parseFloat(this.prevFrameValue),i?1e3/i*e:0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function P(e,t){return new S(e,t)}let F=e=>Array.isArray(e),R=e=>!!(e&&"object"==typeof e&&e.mix&&e.toValue),D=e=>F(e)?e[e.length-1]||0:e,I=e=>!!(e&&e.getVelocity);function O(e,t){let i=e.getValue("willChange");if(I(i)&&i.add)return i.add(t)}let G=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),L="data-"+G("framerAppearId");function k(e){let t;return()=>(void 0===t&&(t=e()),t)}let H=k(()=>void 0!==window.ScrollTimeline);class _{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e,t){let i=this.animations.map(i=>H()&&i.attachTimeline?i.attachTimeline(e):"function"==typeof t?t(i):void 0);return()=>{i.forEach((e,t)=>{e&&e(),this.animations[t].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class j extends _{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}let U=e=>1e3*e,V=e=>e/1e3,J={current:!1};function N(e){return"function"==typeof e}function K(e,t){e.timeline=t,e.onfinish=null}let W=e=>Array.isArray(e)&&"number"==typeof e[0],X={linearEasing:void 0},Q=function(e,t){let i=k(e);return()=>{var e;return null!==(e=X[t])&&void 0!==e?e:i()}}(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),Y=(e,t,i)=>{let r=t-e;return 0===r?1:(i-e)/r},z=(e,t,i=10)=>{let r="",n=Math.max(Math.round(t/i),2);for(let t=0;t<n;t++)r+=e(Y(0,n-1,t))+", ";return`linear(${r.substring(0,r.length-2)})`},q=([e,t,i,r])=>`cubic-bezier(${e}, ${t}, ${i}, ${r})`,Z={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:q([0,.65,.55,1]),circOut:q([.55,0,1,.45]),backIn:q([.31,.01,.66,-.59]),backOut:q([.33,1.53,.69,.99])},$=(e,t,i)=>(((1-3*i+3*t)*e+(3*i-6*t))*e+3*t)*e;function ee(e,t,i,r){if(e===t&&i===r)return u;let n=t=>(function(e,t,i,r,n){let s,a;let o=0;do(s=$(a=t+(i-t)/2,r,n)-e)>0?i=a:t=a;while(Math.abs(s)>1e-7&&++o<12);return a})(t,0,1,e,i);return e=>0===e||1===e?e:$(n(e),t,r)}let et=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ei=e=>t=>1-e(1-t),er=ee(.33,1.53,.69,.99),en=ei(er),es=et(en),ea=e=>(e*=2)<1?.5*en(e):.5*(2-Math.pow(2,-10*(e-1))),eo=e=>1-Math.sin(Math.acos(e)),el=ei(eo),eu=et(eo),eh=e=>/^0[^.\s]+$/u.test(e),ec=(e,t,i)=>i>t?t:i<e?e:i,ed={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},ep={...ed,transform:e=>ec(0,1,e)},ef={...ed,default:1},em=e=>Math.round(1e5*e)/1e5,eg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,ev=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,eA=(e,t)=>i=>!!("string"==typeof i&&ev.test(i)&&i.startsWith(e)||t&&null!=i&&Object.prototype.hasOwnProperty.call(i,t)),ey=(e,t,i)=>r=>{if("string"!=typeof r)return r;let[n,s,a,o]=r.match(eg);return{[e]:parseFloat(n),[t]:parseFloat(s),[i]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},eB=e=>ec(0,255,e),eC={...ed,transform:e=>Math.round(eB(e))},eb={test:eA("rgb","red"),parse:ey("red","green","blue"),transform:({red:e,green:t,blue:i,alpha:r=1})=>"rgba("+eC.transform(e)+", "+eC.transform(t)+", "+eC.transform(i)+", "+em(ep.transform(r))+")"},ex={test:eA("#"),parse:function(e){let t="",i="",r="",n="";return e.length>5?(t=e.substring(1,3),i=e.substring(3,5),r=e.substring(5,7),n=e.substring(7,9)):(t=e.substring(1,2),i=e.substring(2,3),r=e.substring(3,4),n=e.substring(4,5),t+=t,i+=i,r+=r,n+=n),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:n?parseInt(n,16)/255:1}},transform:eb.transform},ew=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),eE=ew("deg"),eM=ew("%"),eT=ew("px"),eS=ew("vh"),eP=ew("vw"),eF={...eM,parse:e=>eM.parse(e)/100,transform:e=>eM.transform(100*e)},eR={test:eA("hsl","hue"),parse:ey("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:i,alpha:r=1})=>"hsla("+Math.round(e)+", "+eM.transform(em(t))+", "+eM.transform(em(i))+", "+em(ep.transform(r))+")"},eD={test:e=>eb.test(e)||ex.test(e)||eR.test(e),parse:e=>eb.test(e)?eb.parse(e):eR.test(e)?eR.parse(e):ex.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?eb.transform(e):eR.transform(e)},eI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,eO="number",eG="color",eL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ek(e){let t=e.toString(),i=[],r={color:[],number:[],var:[]},n=[],s=0,a=t.replace(eL,e=>(eD.test(e)?(r.color.push(s),n.push(eG),i.push(eD.parse(e))):e.startsWith("var(")?(r.var.push(s),n.push("var"),i.push(e)):(r.number.push(s),n.push(eO),i.push(parseFloat(e))),++s,"${}")).split("${}");return{values:i,split:a,indexes:r,types:n}}function eH(e){return ek(e).values}function e_(e){let{split:t,types:i}=ek(e),r=t.length;return e=>{let n="";for(let s=0;s<r;s++)if(n+=t[s],void 0!==e[s]){let t=i[s];t===eO?n+=em(e[s]):t===eG?n+=eD.transform(e[s]):n+=e[s]}return n}}let ej=e=>"number"==typeof e?0:e,eU={test:function(e){var t,i;return isNaN(e)&&"string"==typeof e&&((null===(t=e.match(eg))||void 0===t?void 0:t.length)||0)+((null===(i=e.match(eI))||void 0===i?void 0:i.length)||0)>0},parse:eH,createTransformer:e_,getAnimatableNone:function(e){let t=eH(e);return e_(e)(t.map(ej))}},eV=new Set(["brightness","contrast","saturate","opacity"]);function eJ(e){let[t,i]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;let[r]=i.match(eg)||[];if(!r)return e;let n=i.replace(r,""),s=+!!eV.has(t);return r!==i&&(s*=100),t+"("+s+n+")"}let eN=/\b([a-z-]*)\(.*?\)/gu,eK={...eU,getAnimatableNone:e=>{let t=e.match(eN);return t?t.map(eJ).join(" "):e}},eW={...ed,transform:Math.round},eX={borderWidth:eT,borderTopWidth:eT,borderRightWidth:eT,borderBottomWidth:eT,borderLeftWidth:eT,borderRadius:eT,radius:eT,borderTopLeftRadius:eT,borderTopRightRadius:eT,borderBottomRightRadius:eT,borderBottomLeftRadius:eT,width:eT,maxWidth:eT,height:eT,maxHeight:eT,top:eT,right:eT,bottom:eT,left:eT,padding:eT,paddingTop:eT,paddingRight:eT,paddingBottom:eT,paddingLeft:eT,margin:eT,marginTop:eT,marginRight:eT,marginBottom:eT,marginLeft:eT,backgroundPositionX:eT,backgroundPositionY:eT,rotate:eE,rotateX:eE,rotateY:eE,rotateZ:eE,scale:ef,scaleX:ef,scaleY:ef,scaleZ:ef,skew:eE,skewX:eE,skewY:eE,distance:eT,translateX:eT,translateY:eT,translateZ:eT,x:eT,y:eT,z:eT,perspective:eT,transformPerspective:eT,opacity:ep,originX:eF,originY:eF,originZ:eT,zIndex:eW,size:eT,fillOpacity:ep,strokeOpacity:ep,numOctaves:eW},eQ={...eX,color:eD,backgroundColor:eD,outlineColor:eD,fill:eD,stroke:eD,borderColor:eD,borderTopColor:eD,borderRightColor:eD,borderBottomColor:eD,borderLeftColor:eD,filter:eK,WebkitFilter:eK},eY=e=>eQ[e];function ez(e,t){let i=eY(e);return i!==eK&&(i=eU),i.getAnimatableNone?i.getAnimatableNone(t):void 0}let eq=new Set(["auto","none","0"]),eZ=e=>180*e/Math.PI,e$=e=>e1(eZ(Math.atan2(e[1],e[0]))),e0={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:e$,rotateZ:e$,skewX:e=>eZ(Math.atan(e[1])),skewY:e=>eZ(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},e1=e=>((e%=360)<0&&(e+=360),e),e2=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),e9=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),e3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:e2,scaleY:e9,scale:e=>(e2(e)+e9(e))/2,rotateX:e=>e1(eZ(Math.atan2(e[6],e[5]))),rotateY:e=>e1(eZ(Math.atan2(-e[2],e[0]))),rotateZ:e$,rotate:e$,skewX:e=>eZ(Math.atan(e[4])),skewY:e=>eZ(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function e5(e){return+!!e.includes("scale")}function e8(e,t){let i,r;if(!e||"none"===e)return e5(t);let n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);if(n)i=e3,r=n;else{let t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=e0,r=t}if(!r)return e5(t);let s=i[t],a=r[1].split(",").map(e4);return"function"==typeof s?s(a):a[s]}let e6=(e,t)=>{let{transform:i="none"}=getComputedStyle(e);return e8(i,t)};function e4(e){return parseFloat(e.trim())}let e7=e=>e===ed||e===eT,te=new Set(["x","y","z"]),tt=A.filter(e=>!te.has(e)),ti={width:({x:e},{paddingLeft:t="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),height:({y:e},{paddingTop:t="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>e8(t,"x"),y:(e,{transform:t})=>e8(t,"y")};ti.translateX=ti.x,ti.translateY=ti.y;let tr=new Set,tn=!1,ts=!1;function ta(){if(ts){let e=Array.from(tr).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),i=new Map;t.forEach(e=>{let t=function(e){let t=[];return tt.forEach(i=>{let r=e.getValue(i);void 0!==r&&(t.push([i,r.get()]),r.set(+!!i.startsWith("scale")))}),t}(e);t.length&&(i.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=i.get(e);t&&t.forEach(([t,i])=>{var r;null===(r=e.getValue(t))||void 0===r||r.set(i)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}ts=!1,tn=!1,tr.forEach(e=>e.complete()),tr.clear()}function to(){tr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ts=!0)})}class tl{constructor(e,t,i,r,n,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=n,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(tr.add(this),tn||(tn=!0,f.read(to),f.resolveKeyframes(ta))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;for(let n=0;n<e.length;n++)if(null===e[n]){if(0===n){let n=null==r?void 0:r.get(),s=e[e.length-1];if(void 0!==n)e[0]=n;else if(i&&t){let r=i.readValue(t,s);null!=r&&(e[0]=r)}void 0===e[0]&&(e[0]=s),r&&void 0===n&&r.set(e[0])}else e[n]=e[n-1]}}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),tr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,tr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}let tu=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),th=e=>t=>"string"==typeof t&&t.startsWith(e),tc=th("--"),td=th("var(--"),tp=e=>!!td(e)&&tf.test(e.split("/*")[0].trim()),tf=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,tm=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,tg=e=>t=>t.test(e),tv=[ed,eT,eM,eE,eP,eS,{test:e=>"auto"===e,parse:e=>e}],tA=e=>tv.find(tg(e));class ty extends tl{constructor(e,t,i,r,n){super(e,t,i,r,n,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let i=0;i<e.length;i++){let r=e[i];if("string"==typeof r&&tp(r=r.trim())){let n=function e(t,i,r=1){u(r<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`);let[n,s]=function(e){let t=tm.exec(e);if(!t)return[,];let[,i,r,n]=t;return[`--${null!=i?i:r}`,n]}(t);if(!n)return;let a=window.getComputedStyle(i).getPropertyValue(n);if(a){let e=a.trim();return tu(e)?parseFloat(e):e}return tp(s)?e(s,i,r+1):s}(r,t.current);void 0!==n&&(e[i]=n),i===e.length-1&&(this.finalKeyframe=r)}}if(this.resolveNoneKeyframes(),!B.has(i)||2!==e.length)return;let[r,n]=e,s=tA(r),a=tA(n);if(s!==a){if(e7(s)&&e7(a))for(let t=0;t<e.length;t++){let i=e[t];"string"==typeof i&&(e[t]=parseFloat(i))}else this.needsMeasurement=!0}}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,i=[];for(let t=0;t<e.length;t++){var r;("number"==typeof(r=e[t])?0===r:null===r||"none"===r||"0"===r||eh(r))&&i.push(t)}i.length&&function(e,t,i){let r,n=0;for(;n<e.length&&!r;){let t=e[n];"string"==typeof t&&!eq.has(t)&&ek(t).values.length&&(r=e[n]),n++}if(r&&i)for(let n of t)e[n]=ez(i,r)}(e,i,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;"height"===i&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ti[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let r=t[t.length-1];void 0!==r&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;let{element:t,name:i,unresolvedKeyframes:r}=this;if(!t||!t.current)return;let n=t.getValue(i);n&&n.jump(this.measuredOrigin,!1);let s=r.length-1,a=r[s];r[s]=ti[i](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach(([e,i])=>{t.getValue(e).set(i)}),this.resolveNoneKeyframes()}}let tB=(e,t)=>"zIndex"!==t&&!!("number"==typeof e||Array.isArray(e)||"string"==typeof e&&(eU.test(e)||"0"===e)&&!e.startsWith("url(")),tC=e=>null!==e;function tb(e,{repeat:t,repeatType:i="loop"},r){let n=e.filter(tC),s=t&&"loop"!==i&&t%2==1?0:n.length-1;return s&&void 0!==r?r:n[s]}class tx{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:r=0,repeatDelay:n=0,repeatType:s="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=E.now(),this.options={autoplay:e,delay:t,type:i,repeat:r,repeatDelay:n,repeatType:s,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(to(),ta()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=E.now(),this.hasAttemptedResolve=!0;let{name:i,type:r,velocity:n,delay:s,onComplete:a,onUpdate:o,isGenerator:l}=this.options;if(!l&&!function(e,t,i,r){let n=e[0];if(null===n)return!1;if("display"===t||"visibility"===t)return!0;let s=e[e.length-1],a=tB(n,t),o=tB(s,t);return u(a===o,`You are trying to animate ${t} from "${n}" to "${s}". ${n} is not an animatable value - to enable this animation set ${n} to a value animatable to ${s} via the \`style\` property.`),!!a&&!!o&&(function(e){let t=e[0];if(1===e.length)return!0;for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}(e)||("spring"===i||N(i))&&r)}(e,i,r,n)){if(J.current||!s){o&&o(tb(e,this.options,t)),a&&a(),this.resolveFinishedPromise();return}this.options.duration=0}let h=this.initPlayback(e,t);!1!==h&&(this._resolved={keyframes:e,finalKeyframe:t,...h},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function tw(e){let t=0,i=e.next(t);for(;!i.done&&t<2e4;)t+=50,i=e.next(t);return t>=2e4?1/0:t}let tE={layout:0,mainThread:0,waapi:0},tM=(e,t,i)=>e+(t-e)*i;function tT(e,t,i){return(i<0&&(i+=1),i>1&&(i-=1),i<1/6)?e+(t-e)*6*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function tS(e,t){return i=>i>0?t:e}let tP=(e,t,i)=>{let r=e*e,n=i*(t*t-r)+r;return n<0?0:Math.sqrt(n)},tF=[ex,eb,eR],tR=e=>tF.find(t=>t.test(e));function tD(e){let t=tR(e);if(u(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`),!t)return!1;let i=t.parse(e);return t===eR&&(i=function({hue:e,saturation:t,lightness:i,alpha:r}){e/=360,i/=100;let n=0,s=0,a=0;if(t/=100){let r=i<.5?i*(1+t):i+t-i*t,o=2*i-r;n=tT(o,r,e+1/3),s=tT(o,r,e),a=tT(o,r,e-1/3)}else n=s=a=i;return{red:Math.round(255*n),green:Math.round(255*s),blue:Math.round(255*a),alpha:r}}(i)),i}let tI=(e,t)=>{let i=tD(e),r=tD(t);if(!i||!r)return tS(e,t);let n={...i};return e=>(n.red=tP(i.red,r.red,e),n.green=tP(i.green,r.green,e),n.blue=tP(i.blue,r.blue,e),n.alpha=tM(i.alpha,r.alpha,e),eb.transform(n))},tO=(e,t)=>i=>t(e(i)),tG=(...e)=>e.reduce(tO),tL=new Set(["none","hidden"]);function tk(e,t){return i=>tM(e,t,i)}function tH(e){return"number"==typeof e?tk:"string"==typeof e?tp(e)?tS:eD.test(e)?tI:tU:Array.isArray(e)?t_:"object"==typeof e?eD.test(e)?tI:tj:tS}function t_(e,t){let i=[...e],r=i.length,n=e.map((e,i)=>tH(e)(e,t[i]));return e=>{for(let t=0;t<r;t++)i[t]=n[t](e);return i}}function tj(e,t){let i={...e,...t},r={};for(let n in i)void 0!==e[n]&&void 0!==t[n]&&(r[n]=tH(e[n])(e[n],t[n]));return e=>{for(let t in r)i[t]=r[t](e);return i}}let tU=(e,t)=>{let i=eU.createTransformer(t),r=ek(e),n=ek(t);return r.indexes.var.length===n.indexes.var.length&&r.indexes.color.length===n.indexes.color.length&&r.indexes.number.length>=n.indexes.number.length?tL.has(e)&&!n.values.length||tL.has(t)&&!r.values.length?function(e,t){return tL.has(e)?i=>i<=0?e:t:i=>i>=1?t:e}(e,t):tG(t_(function(e,t){var i;let r=[],n={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){let a=t.types[s],o=e.indexes[a][n[a]],l=null!==(i=e.values[o])&&void 0!==i?i:0;r[s]=l,n[a]++}return r}(r,n),n.values),i):(u(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),tS(e,t))};function tV(e,t,i){return"number"==typeof e&&"number"==typeof t&&"number"==typeof i?tM(e,t,i):tH(e)(e,t)}function tJ(e,t,i){var r,n;let s=Math.max(t-5,0);return r=i-e(s),(n=t-s)?1e3/n*r:0}let tN={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1};function tK(e,t){return e*Math.sqrt(1-t*t)}let tW=["duration","bounce"],tX=["stiffness","damping","mass"];function tQ(e,t){return t.some(t=>void 0!==e[t])}function tY(e=tN.visualDuration,t=tN.bounce){let i;let r="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e,{restSpeed:n,restDelta:s}=r,a=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:a},{stiffness:h,damping:c,mass:d,duration:p,velocity:f,isResolvedFromDuration:m}=function(e){let t={velocity:tN.velocity,stiffness:tN.stiffness,damping:tN.damping,mass:tN.mass,isResolvedFromDuration:!1,...e};if(!tQ(e,tX)&&tQ(e,tW)){if(e.visualDuration){let i=2*Math.PI/(1.2*e.visualDuration),r=i*i,n=2*ec(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:tN.mass,stiffness:r,damping:n}}else{let i=function({duration:e=tN.duration,bounce:t=tN.bounce,velocity:i=tN.velocity,mass:r=tN.mass}){let n,s;u(e<=U(tN.maxDuration),"Spring duration must be 10 seconds or less");let a=1-t;a=ec(tN.minDamping,tN.maxDamping,a),e=ec(tN.minDuration,tN.maxDuration,V(e)),a<1?(n=t=>{let r=t*a,n=r*e;return .001-(r-i)/tK(t,a)*Math.exp(-n)},s=t=>{let r=t*a*e,s=Math.pow(a,2)*Math.pow(t,2)*e,o=Math.exp(-r),l=tK(Math.pow(t,2),a);return(r*i+i-s)*o*(-n(t)+.001>0?-1:1)/l}):(n=t=>-.001+Math.exp(-t*e)*((t-i)*e+1),s=t=>e*e*(i-t)*Math.exp(-t*e));let o=function(e,t,i){let r=i;for(let i=1;i<12;i++)r-=e(r)/t(r);return r}(n,s,5/e);if(e=U(e),isNaN(o))return{stiffness:tN.stiffness,damping:tN.damping,duration:e};{let t=Math.pow(o,2)*r;return{stiffness:t,damping:2*a*Math.sqrt(r*t),duration:e}}}(e);(t={...t,...i,mass:tN.mass}).isResolvedFromDuration=!0}}return t}({...r,velocity:-V(r.velocity||0)}),g=f||0,v=c/(2*Math.sqrt(h*d)),A=o-a,y=V(Math.sqrt(h/d)),B=5>Math.abs(A);if(n||(n=B?tN.restSpeed.granular:tN.restSpeed.default),s||(s=B?tN.restDelta.granular:tN.restDelta.default),v<1){let e=tK(y,v);i=t=>o-Math.exp(-v*y*t)*((g+v*y*A)/e*Math.sin(e*t)+A*Math.cos(e*t))}else if(1===v)i=e=>o-Math.exp(-y*e)*(A+(g+y*A)*e);else{let e=y*Math.sqrt(v*v-1);i=t=>{let i=Math.exp(-v*y*t),r=Math.min(e*t,300);return o-i*((g+v*y*A)*Math.sinh(r)+e*A*Math.cosh(r))/e}}let C={calculatedDuration:m&&p||null,next:e=>{let t=i(e);if(m)l.done=e>=p;else{let r=0;v<1&&(r=0===e?U(g):tJ(i,e,t));let a=Math.abs(o-t)<=s;l.done=Math.abs(r)<=n&&a}return l.value=l.done?o:t,l},toString:()=>{let e=Math.min(tw(C),2e4),t=z(t=>C.next(e*t).value,e,30);return e+"ms "+t}};return C}function tz({keyframes:e,velocity:t=0,power:i=.8,timeConstant:r=325,bounceDamping:n=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:h}){let c,d;let p=e[0],f={done:!1,value:p},m=e=>void 0!==o&&e<o||void 0!==l&&e>l,g=e=>void 0===o?l:void 0===l?o:Math.abs(o-e)<Math.abs(l-e)?o:l,v=i*t,A=p+v,y=void 0===a?A:a(A);y!==A&&(v=y-p);let B=e=>-v*Math.exp(-e/r),C=e=>y+B(e),b=e=>{let t=B(e),i=C(e);f.done=Math.abs(t)<=u,f.value=f.done?y:i},x=e=>{m(f.value)&&(c=e,d=tY({keyframes:[f.value,g(f.value)],velocity:tJ(C,e,f.value),damping:n,stiffness:s,restDelta:u,restSpeed:h}))};return x(0),{calculatedDuration:null,next:e=>{let t=!1;return(d||void 0!==c||(t=!0,b(e),x(e)),void 0!==c&&e>=c)?d.next(e-c):(t||b(e),f)}}}let tq=ee(.42,0,1,1),tZ=ee(0,0,.58,1),t$=ee(.42,0,.58,1),t0=e=>Array.isArray(e)&&"number"!=typeof e[0],t1={linear:u,easeIn:tq,easeInOut:t$,easeOut:tZ,circIn:eo,circInOut:eu,circOut:el,backIn:en,backInOut:es,backOut:er,anticipate:ea},t2=e=>{if(W(e)){u(4===e.length,"Cubic bezier arrays must contain four numerical values.");let[t,i,r,n]=e;return ee(t,i,r,n)}return"string"==typeof e?(u(void 0!==t1[e],`Invalid easing type '${e}'`),t1[e]):e};function t9({duration:e=300,keyframes:t,times:i,ease:r="easeInOut"}){let n=t0(r)?r.map(t2):t2(r),s={done:!1,value:t[0]},a=function(e,t,{clamp:i=!0,ease:r,mixer:n}={}){let s=e.length;if(u(s===t.length,"Both input and output ranges must be the same length"),1===s)return()=>t[0];if(2===s&&t[0]===t[1])return()=>t[1];let a=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());let o=function(e,t,i){let r=[],n=i||tV,s=e.length-1;for(let i=0;i<s;i++){let s=n(e[i],e[i+1]);t&&(s=tG(Array.isArray(t)?t[i]||u:t,s)),r.push(s)}return r}(t,r,n),l=o.length,h=i=>{if(a&&i<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(i<e[r+1]);r++);let n=Y(e[r],e[r+1],i);return o[r](n)};return i?t=>h(ec(e[0],e[s-1],t)):h}((i&&i.length===t.length?i:function(e){let t=[0];return function(e,t){let i=e[e.length-1];for(let r=1;r<=t;r++){let n=Y(0,t,r);e.push(tM(i,1,n))}}(t,e.length-1),t}(t)).map(t=>t*e),t,{ease:Array.isArray(n)?n:t.map(()=>n||t$).splice(0,t.length-1)});return{calculatedDuration:e,next:t=>(s.value=a(t),s.done=t>=e,s)}}let t3=e=>{let t=({timestamp:t})=>e(t);return{start:()=>f.update(t,!0),stop:()=>m(t),now:()=>g.isProcessing?g.timestamp:E.now()}},t5={decay:tz,inertia:tz,tween:t9,keyframes:t9,spring:tY},t8=e=>e/100;class t6 extends tx{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();let{onStop:e}=this.options;e&&e()};let{name:t,motionValue:i,element:r,keyframes:n}=this.options,s=(null==r?void 0:r.KeyframeResolver)||tl;this.resolver=new s(n,(e,t)=>this.onKeyframesResolved(e,t),t,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){let t,i;let{type:r="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:a,velocity:o=0}=this.options,l=N(r)?r:t5[r]||t9;l!==t9&&"number"!=typeof e[0]&&(t=tG(t8,tV(e[0],e[1])),e=[0,100]);let u=l({...this.options,keyframes:e});"mirror"===a&&(i=l({...this.options,keyframes:[...e].reverse(),velocity:-o})),null===u.calculatedDuration&&(u.calculatedDuration=tw(u));let{calculatedDuration:h}=u,c=h+s;return{generator:u,mirroredGenerator:i,mapPercentToKeyframes:t,calculatedDuration:h,resolvedDuration:c,totalDuration:c*(n+1)-s}}onPostResolved(){let{autoplay:e=!0}=this.options;tE.mainThread++,this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e,t=!1){let{resolved:i}=this;if(!i){let{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}let{finalKeyframe:r,generator:n,mirroredGenerator:s,mapPercentToKeyframes:a,keyframes:o,calculatedDuration:l,totalDuration:u,resolvedDuration:h}=i;if(null===this.startTime)return n.next(0);let{delay:c,repeat:d,repeatType:p,repeatDelay:f,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;let g=this.currentTime-c*(this.speed>=0?1:-1),v=this.speed>=0?g<0:g>u;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=u);let A=this.currentTime,y=n;if(d){let e=Math.min(this.currentTime,u)/h,t=Math.floor(e),i=e%1;!i&&e>=1&&(i=1),1===i&&t--,(t=Math.min(t,d+1))%2&&("reverse"===p?(i=1-i,f&&(i-=f/h)):"mirror"===p&&(y=s)),A=ec(0,1,i)*h}let B=v?{done:!1,value:o[0]}:y.next(A);a&&(B.value=a(B.value));let{done:C}=B;v||null===l||(C=this.speed>=0?this.currentTime>=u:this.currentTime<=0);let b=null===this.holdTime&&("finished"===this.state||"running"===this.state&&C);return b&&void 0!==r&&(B.value=tb(o,this.options,r)),m&&m(B.value),b&&this.finish(),B}get duration(){let{resolved:e}=this;return e?V(e.calculatedDuration):0}get time(){return V(this.currentTime)}set time(e){e=U(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=V(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;let{driver:e=t3,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),t&&t();let r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=null!=i?i:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";let{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel(),tE.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}let t4=new Set(["opacity","clipPath","filter","transform"]),t7=k(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ie={anticipate:ea,backInOut:es,circInOut:eu};class it extends tx{constructor(e){super(e);let{name:t,motionValue:i,element:r,keyframes:n}=this.options;this.resolver=new ty(n,(e,t)=>this.onKeyframesResolved(e,t),t,i,r),this.resolver.scheduleResolve()}initPlayback(e,t){var i;let{duration:r=300,times:n,ease:s,type:a,motionValue:o,name:l,startTime:u}=this.options;if(!o.owner||!o.owner.current)return!1;if("string"==typeof s&&Q()&&s in ie&&(s=ie[s]),N((i=this.options).type)||"spring"===i.type||!function e(t){return!!("function"==typeof t&&Q()||!t||"string"==typeof t&&(t in Z||Q())||W(t)||Array.isArray(t)&&t.every(e))}(i.ease)){let{onComplete:t,onUpdate:i,motionValue:o,element:l,...u}=this.options,h=function(e,t){let i=new t6({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0}),r={done:!1,value:e[0]},n=[],s=0;for(;!r.done&&s<2e4;)n.push((r=i.sample(s)).value),s+=10;return{times:void 0,keyframes:n,duration:s-10,ease:"linear"}}(e,u);1===(e=h.keyframes).length&&(e[1]=e[0]),r=h.duration,n=h.times,s=h.ease,a="keyframes"}let h=function(e,t,i,{delay:r=0,duration:n=300,repeat:s=0,repeatType:a="loop",ease:o="easeInOut",times:l}={}){let u={[t]:i};l&&(u.offset=l);let h=function e(t,i){if(t)return"function"==typeof t&&Q()?z(t,i):W(t)?q(t):Array.isArray(t)?t.map(t=>e(t,i)||Z.easeOut):Z[t]}(o,n);Array.isArray(h)&&(u.easing=h),d.value&&tE.waapi++;let c=e.animate(u,{delay:r,duration:n,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:"reverse"===a?"alternate":"normal"});return d.value&&c.finished.finally(()=>{tE.waapi--}),c}(o.owner.current,l,e,{...this.options,duration:r,times:n,ease:s});return h.startTime=null!=u?u:this.calcStartTime(),this.pendingTimeline?(K(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{let{onComplete:i}=this.options;o.set(tb(e,this.options,t)),i&&i(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:r,times:n,type:a,ease:s,keyframes:e}}get duration(){let{resolved:e}=this;if(!e)return 0;let{duration:t}=e;return V(t)}get time(){let{resolved:e}=this;if(!e)return 0;let{animation:t}=e;return V(t.currentTime||0)}set time(e){let{resolved:t}=this;if(!t)return;let{animation:i}=t;i.currentTime=U(e)}get speed(){let{resolved:e}=this;if(!e)return 1;let{animation:t}=e;return t.playbackRate}set speed(e){let{resolved:t}=this;if(!t)return;let{animation:i}=t;i.playbackRate=e}get state(){let{resolved:e}=this;if(!e)return"idle";let{animation:t}=e;return t.playState}get startTime(){let{resolved:e}=this;if(!e)return null;let{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){let{resolved:t}=this;if(!t)return u;let{animation:i}=t;K(i,e)}else this.pendingTimeline=e;return u}play(){if(this.isStopped)return;let{resolved:e}=this;if(!e)return;let{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){let{resolved:e}=this;if(!e)return;let{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();let{resolved:e}=this;if(!e)return;let{animation:t,keyframes:i,duration:r,type:n,ease:s,times:a}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){let{motionValue:e,onUpdate:t,onComplete:o,element:l,...u}=this.options,h=new t6({...u,keyframes:i,duration:r,type:n,ease:s,times:a,isGenerator:!0}),c=U(this.time);e.setWithVelocity(h.sample(c-10).value,h.sample(c).value,10)}let{onStop:o}=this.options;o&&o(),this.cancel()}complete(){let{resolved:e}=this;e&&e.animation.finish()}cancel(){let{resolved:e}=this;e&&e.animation.cancel()}static supports(e){let{motionValue:t,name:i,repeatDelay:r,repeatType:n,damping:s,type:a}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;let{onUpdate:o,transformTemplate:l}=t.owner.getProps();return t7()&&i&&t4.has(i)&&!o&&!l&&!r&&"mirror"!==n&&0!==s&&"inertia"!==a}}let ii={type:"spring",stiffness:500,damping:25,restSpeed:10},ir=e=>({type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}),is={type:"keyframes",duration:.8},ia={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},io=(e,{keyframes:t})=>t.length>2?is:y.has(e)?e.startsWith("scale")?ir(t[1]):ii:ia,il=(e,t,i,r={},n,s)=>a=>{let o=l(r,e)||{},u=o.delay||r.delay||0,{elapsed:c=0}=r;c-=U(u);let d={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:s?void 0:n};!function({when:e,delay:t,delayChildren:i,staggerChildren:r,staggerDirection:n,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:u,...h}){return!!Object.keys(h).length}(o)&&(d={...d,...io(e,d)}),d.duration&&(d.duration=U(d.duration)),d.repeatDelay&&(d.repeatDelay=U(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let p=!1;if(!1!==d.type&&(0!==d.duration||d.repeatDelay)||(d.duration=0,0!==d.delay||(p=!0)),(J.current||h.skipAnimations)&&(p=!0,d.duration=0,d.delay=0),d.allowFlatten=!o.type&&!o.ease,p&&!s&&void 0!==t.get()){let e=tb(d.keyframes,o);if(void 0!==e)return f.update(()=>{d.onUpdate(e),d.onComplete()}),new j([])}return!s&&it.supports(d)?new it(d):new t6(d)};function iu(e,t,{delay:i=0,transitionOverride:r,type:n}={}){var s;let{transition:a=e.getDefaultTransition(),transitionEnd:u,...h}=t;r&&(a=r);let c=[],d=n&&e.animationState&&e.animationState.getState()[n];for(let t in h){let r=e.getValue(t,null!==(s=e.latestValues[t])&&void 0!==s?s:null),n=h[t];if(void 0===n||d&&function({protectedKeys:e,needsAnimating:t},i){let r=e.hasOwnProperty(i)&&!0!==t[i];return t[i]=!1,r}(d,t))continue;let o={delay:i,...l(a||{},t)},u=!1;if(window.MotionHandoffAnimation){let i=e.props[L];if(i){let e=window.MotionHandoffAnimation(i,t,f);null!==e&&(o.startTime=e,u=!0)}}O(e,t),r.start(il(t,r,n,e.shouldReduceMotion&&B.has(t)?{type:!1}:o,e,u));let p=r.animation;p&&c.push(p)}return u&&Promise.all(c).then(()=>{f.update(()=>{u&&function(e,t){let{transitionEnd:i={},transition:r={},...n}=o(e,t)||{};for(let t in n={...n,...i}){let i=D(n[t]);e.hasValue(t)?e.getValue(t).set(i):e.addValue(t,P(i))}}(e,u)})}),c}function ih(e,t,i={}){var r;let n=o(e,t,"exit"===i.type?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0),{transition:s=e.getDefaultTransition()||{}}=n||{};i.transitionOverride&&(s=i.transitionOverride);let a=n?()=>Promise.all(iu(e,n,i)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(r=0)=>{let{delayChildren:n=0,staggerChildren:a,staggerDirection:o}=s;return function(e,t,i=0,r=0,n=1,s){let a=[],o=(e.variantChildren.size-1)*r,l=1===n?(e=0)=>e*r:(e=0)=>o-e*r;return Array.from(e.variantChildren).sort(ic).forEach((e,r)=>{e.notify("AnimationStart",t),a.push(ih(e,t,{...s,delay:i+l(r)}).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(a)}(e,t,n+r,a,o,i)}:()=>Promise.resolve(),{when:u}=s;if(!u)return Promise.all([a(),l(i.delay)]);{let[e,t]="beforeChildren"===u?[a,l]:[l,a];return e().then(()=>t())}}function ic(e,t){return e.sortNodePosition(t)}function id(e,t){if(!Array.isArray(t))return!1;let i=t.length;if(i!==e.length)return!1;for(let r=0;r<i;r++)if(t[r]!==e[r])return!1;return!0}function ip(e){return"string"==typeof e||Array.isArray(e)}let im=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ig=["initial",...im],iv=ig.length,iA=[...im].reverse(),iy=im.length;function iB(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function iC(){return{animate:iB(!0),whileInView:iB(),whileHover:iB(),whileTap:iB(),whileDrag:iB(),whileFocus:iB(),exit:iB()}}class ib{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ix extends ib{constructor(e){super(e),e.animationState||(e.animationState=function(e){let t=t=>Promise.all(t.map(({animation:t,options:i})=>(function(e,t,i={}){let r;if(e.notify("AnimationStart",t),Array.isArray(t))r=Promise.all(t.map(t=>ih(e,t,i)));else if("string"==typeof t)r=ih(e,t,i);else{let n="function"==typeof t?o(e,t,i.custom):t;r=Promise.all(iu(e,n,i))}return r.then(()=>{e.notify("AnimationComplete",t)})})(e,t,i))),i=iC(),r=!0,s=t=>(i,r)=>{var n;let s=o(e,r,"exit"===t?null===(n=e.presenceContext)||void 0===n?void 0:n.custom:void 0);if(s){let{transition:e,transitionEnd:t,...r}=s;i={...i,...r,...t}}return i};function a(a){let{props:l}=e,u=function e(t){if(!t)return;if(!t.isControllingVariants){let i=t.parent&&e(t.parent)||{};return void 0!==t.props.initial&&(i.initial=t.props.initial),i}let i={};for(let e=0;e<iv;e++){let r=ig[e],n=t.props[r];(ip(n)||!1===n)&&(i[r]=n)}return i}(e.parent)||{},h=[],c=new Set,d={},p=1/0;for(let t=0;t<iy;t++){var f,m;let o=iA[t],g=i[o],v=void 0!==l[o]?l[o]:u[o],A=ip(v),y=o===a?g.isActive:null;!1===y&&(p=t);let B=v===u[o]&&v!==l[o]&&A;if(B&&r&&e.manuallyAnimateOnMount&&(B=!1),g.protectedKeys={...d},!g.isActive&&null===y||!v&&!g.prevProp||n(v)||"boolean"==typeof v)continue;let C=(f=g.prevProp,"string"==typeof(m=v)?m!==f:!!Array.isArray(m)&&!id(m,f)),b=C||o===a&&g.isActive&&!B&&A||t>p&&A,x=!1,w=Array.isArray(v)?v:[v],E=w.reduce(s(o),{});!1===y&&(E={});let{prevResolvedValues:M={}}=g,T={...M,...E},S=t=>{b=!0,c.has(t)&&(x=!0,c.delete(t)),g.needsAnimating[t]=!0;let i=e.getValue(t);i&&(i.liveStyle=!1)};for(let e in T){let t=E[e],i=M[e];if(d.hasOwnProperty(e))continue;let r=!1;(F(t)&&F(i)?id(t,i):t===i)?void 0!==t&&c.has(e)?S(e):g.protectedKeys[e]=!0:null!=t?S(e):c.add(e)}g.prevProp=v,g.prevResolvedValues=E,g.isActive&&(d={...d,...E}),r&&e.blockInitialAnimation&&(b=!1);let P=!(B&&C)||x;b&&P&&h.push(...w.map(e=>({animation:e,options:{type:o}})))}if(c.size){let t={};if("boolean"!=typeof l.initial){let i=o(e,Array.isArray(l.initial)?l.initial[0]:l.initial);i&&i.transition&&(t.transition=i.transition)}c.forEach(i=>{let r=e.getBaseTarget(i),n=e.getValue(i);n&&(n.liveStyle=!0),t[i]=null!=r?r:null}),h.push({animation:t})}let g=!!h.length;return r&&(!1===l.initial||l.initial===l.animate)&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(h):Promise.resolve()}return{animateChanges:a,setActive:function(t,r){var n;if(i[t].isActive===r)return Promise.resolve();null===(n=e.variantChildren)||void 0===n||n.forEach(e=>{var i;return null===(i=e.animationState)||void 0===i?void 0:i.setActive(t,r)}),i[t].isActive=r;let s=a(t);for(let e in i)i[e].protectedKeys={};return s},setAnimateFunction:function(i){t=i(e)},getState:()=>i,reset:()=>{i=iC(),r=!0}}}(e))}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();n(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}let iw=0;class iE extends ib{constructor(){super(...arguments),this.id=iw++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;let r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){let{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}let iM={x:!1,y:!1};function iT(e,t,i,r={passive:!0}){return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i)}let iS=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary;function iP(e){return{point:{x:e.pageX,y:e.pageY}}}let iF=e=>t=>iS(t)&&e(t,iP(t));function iR(e,t,i,r){return iT(e,t,iF(i),r)}function iD({top:e,left:t,right:i,bottom:r}){return{x:{min:t,max:i},y:{min:e,max:r}}}function iI(e){return e.max-e.min}function iO(e,t,i,r=.5){e.origin=r,e.originPoint=tM(t.min,t.max,e.origin),e.scale=iI(i)/iI(t),e.translate=tM(i.min,i.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function iG(e,t,i,r){iO(e.x,t.x,i.x,r?r.originX:void 0),iO(e.y,t.y,i.y,r?r.originY:void 0)}function iL(e,t,i){e.min=i.min+t.min,e.max=e.min+iI(t)}function ik(e,t,i){e.min=t.min-i.min,e.max=e.min+iI(t)}function iH(e,t,i){ik(e.x,t.x,i.x),ik(e.y,t.y,i.y)}let i_=()=>({translate:0,scale:1,origin:0,originPoint:0}),ij=()=>({x:i_(),y:i_()}),iU=()=>({min:0,max:0}),iV=()=>({x:iU(),y:iU()});function iJ(e){return[e("x"),e("y")]}function iN(e){return void 0===e||1===e}function iK({scale:e,scaleX:t,scaleY:i}){return!iN(e)||!iN(t)||!iN(i)}function iW(e){return iK(e)||iX(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function iX(e){var t,i;return(t=e.x)&&"0%"!==t||(i=e.y)&&"0%"!==i}function iQ(e,t,i,r,n){return void 0!==n&&(e=r+n*(e-r)),r+i*(e-r)+t}function iY(e,t=0,i=1,r,n){e.min=iQ(e.min,t,i,r,n),e.max=iQ(e.max,t,i,r,n)}function iz(e,{x:t,y:i}){iY(e.x,t.translate,t.scale,t.originPoint),iY(e.y,i.translate,i.scale,i.originPoint)}function iq(e,t){e.min=e.min+t,e.max=e.max+t}function iZ(e,t,i,r,n=.5){let s=tM(e.min,e.max,n);iY(e,t,i,s,r)}function i$(e,t){iZ(e.x,t.x,t.scaleX,t.scale,t.originX),iZ(e.y,t.y,t.scaleY,t.scale,t.originY)}function i0(e,t){return iD(function(e,t){if(!t)return e;let i=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}let i1=({current:e})=>e?e.ownerDocument.defaultView:null;function i2(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}let i9=(e,t)=>Math.abs(e-t);class i3{constructor(e,t,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:n=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let e=i6(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,i=function(e,t){return Math.sqrt(i9(e.x,t.x)**2+i9(e.y,t.y)**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!i)return;let{point:r}=e,{timestamp:n}=g;this.history.push({...r,timestamp:n});let{onStart:s,onMove:a}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=i5(t,this.transformPagePoint),f.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:i,onSessionEnd:r,resumeAnimation:n}=this.handlers;if(this.dragSnapToOrigin&&n&&n(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let s=i6("pointercancel"===e.type?this.lastMoveEventInfo:i5(t,this.transformPagePoint),this.history);this.startEvent&&i&&i(e,s),r&&r(e,s)},!iS(e))return;this.dragSnapToOrigin=n,this.handlers=t,this.transformPagePoint=i,this.contextWindow=r||window;let s=i5(iP(e),this.transformPagePoint),{point:a}=s,{timestamp:o}=g;this.history=[{...a,timestamp:o}];let{onSessionStart:l}=t;l&&l(e,i6(s,this.history)),this.removeListeners=tG(iR(this.contextWindow,"pointermove",this.handlePointerMove),iR(this.contextWindow,"pointerup",this.handlePointerUp),iR(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),m(this.updatePoint)}}function i5(e,t){return t?{point:t(e.point)}:e}function i8(e,t){return{x:e.x-t.x,y:e.y-t.y}}function i6({point:e},t){return{point:e,delta:i8(e,i4(t)),offset:i8(e,t[0]),velocity:function(e,t){if(e.length<2)return{x:0,y:0};let i=e.length-1,r=null,n=i4(e);for(;i>=0&&(r=e[i],!(n.timestamp-r.timestamp>U(.1)));)i--;if(!r)return{x:0,y:0};let s=V(n.timestamp-r.timestamp);if(0===s)return{x:0,y:0};let a={x:(n.x-r.x)/s,y:(n.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}(t,.1)}}function i4(e){return e[e.length-1]}function i7(e,t,i){return{min:void 0!==t?e.min+t:void 0,max:void 0!==i?e.max+i-(e.max-e.min):void 0}}function re(e,t){let i=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([i,r]=[r,i]),{min:i,max:r}}function rt(e,t,i){return{min:ri(e,t),max:ri(e,i)}}function ri(e,t){return"number"==typeof e?e:e[t]||0}let rr=new WeakMap;class rn{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=iV(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){let{presenceContext:i}=this.visualElement;if(i&&!1===i.isPresent)return;let{dragSnapToOrigin:r}=this.getProps();this.panSession=new i3(e,{onSessionStart:e=>{let{dragSnapToOrigin:i}=this.getProps();i?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(iP(e).point)},onStart:(e,t)=>{var i;let{drag:r,dragPropagation:n,onDragStart:s}=this.getProps();if(r&&!n&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(i=r)||"y"===i?iM[i]?null:(iM[i]=!0,()=>{iM[i]=!1}):iM.x||iM.y?null:(iM.x=iM.y=!0,()=>{iM.x=iM.y=!1}),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),iJ(e=>{let t=this.getAxisMotionValue(e).get()||0;if(eM.test(t)){let{projection:i}=this.visualElement;if(i&&i.layout){let r=i.layout.layoutBox[e];r&&(t=iI(r)*(parseFloat(t)/100))}}this.originPoint[e]=t}),s&&f.postRender(()=>s(e,t)),O(this.visualElement,"transform");let{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(e,t)=>{let{dragPropagation:i,dragDirectionLock:r,onDirectionLock:n,onDrag:s}=this.getProps();if(!i&&!this.openDragLock)return;let{offset:a}=t;if(r&&null===this.currentDirection){this.currentDirection=function(e,t=10){let i=null;return Math.abs(e.y)>t?i="y":Math.abs(e.x)>t&&(i="x"),i}(a),null!==this.currentDirection&&n&&n(this.currentDirection);return}this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>iJ(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:i1(this.visualElement)})}stop(e,t){let i=this.isDragging;if(this.cancel(),!i)return;let{velocity:r}=t;this.startAnimation(r);let{onDragEnd:n}=this.getProps();n&&f.postRender(()=>n(e,t))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){let{drag:r}=this.getProps();if(!i||!rs(e,r,this.currentDirection))return;let n=this.getAxisMotionValue(e),s=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(s=function(e,{min:t,max:i},r){return void 0!==t&&e<t?e=r?tM(t,e,r.min):Math.max(e,t):void 0!==i&&e>i&&(e=r?tM(i,e,r.max):Math.min(e,i)),e}(s,this.constraints[e],this.elastic[e])),n.set(s)}resolveConstraints(){var e;let{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,n=this.constraints;t&&i2(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=function(e,{top:t,left:i,bottom:r,right:n}){return{x:i7(e.x,i,n),y:i7(e.y,t,r)}}(r.layoutBox,t):this.constraints=!1,this.elastic=function(e=.35){return!1===e?e=0:!0===e&&(e=.35),{x:rt(e,"left","right"),y:rt(e,"top","bottom")}}(i),n!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&iJ(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){let i={};return void 0!==t.min&&(i.min=t.min-e.min),void 0!==t.max&&(i.max=t.max-e.min),i}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){var e;let{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!i2(t))return!1;let r=t.current;u(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");let{projection:n}=this.visualElement;if(!n||!n.layout)return!1;let s=function(e,t,i){let r=i0(e,i),{scroll:n}=t;return n&&(iq(r.x,n.offset.x),iq(r.y,n.offset.y)),r}(r,n.root,this.visualElement.getTransformPagePoint()),a={x:re((e=n.layout.layoutBox).x,s.x),y:re(e.y,s.y)};if(i){let e=i(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=iD(e))}return a}startAnimation(e){let{drag:t,dragMomentum:i,dragElastic:r,dragTransition:n,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{};return Promise.all(iJ(a=>{if(!rs(a,t,this.currentDirection))return;let l=o&&o[a]||{};s&&(l={min:0,max:0});let u={type:"inertia",velocity:i?e[a]:0,bounceStiffness:r?200:1e6,bounceDamping:r?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...n,...l};return this.startAxisValueAnimation(a,u)})).then(a)}startAxisValueAnimation(e,t){let i=this.getAxisMotionValue(e);return O(this.visualElement,e),i.start(il(e,i,0,t,this.visualElement,!1))}stopAnimation(){iJ(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){iJ(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps();return i[t]||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){iJ(t=>{let{drag:i}=this.getProps();if(!rs(t,i,this.currentDirection))return;let{projection:r}=this.visualElement,n=this.getAxisMotionValue(t);if(r&&r.layout){let{min:i,max:s}=r.layout.layoutBox[t];n.set(e[t]-tM(i,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!i2(t)||!i||!this.constraints)return;this.stopAnimation();let r={x:0,y:0};iJ(e=>{let t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){let i=t.get();r[e]=function(e,t){let i=.5,r=iI(e),n=iI(t);return n>r?i=Y(t.min,t.max-r,e.min):r>n&&(i=Y(e.min,e.max-n,t.min)),ec(0,1,i)}({min:i,max:i},this.constraints[e])}});let{transformTemplate:n}=this.visualElement.getProps();this.visualElement.current.style.transform=n?n({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),iJ(t=>{if(!rs(t,e,null))return;let i=this.getAxisMotionValue(t),{min:n,max:s}=this.constraints[t];i.set(tM(n,s,r[t]))})}addListeners(){if(!this.visualElement.current)return;rr.set(this.visualElement,this);let e=iR(this.visualElement.current,"pointerdown",e=>{let{drag:t,dragListener:i=!0}=this.getProps();t&&i&&this.start(e)}),t=()=>{let{dragConstraints:e}=this.getProps();i2(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,r=i.addEventListener("measure",t);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),f.read(t);let n=iT(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(iJ(t=>{let i=this.getAxisMotionValue(t);i&&(this.originPoint[t]+=e[t].translate,i.set(i.get()+e[t].translate))}),this.visualElement.render())});return()=>{n(),e(),r(),s&&s()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:n=!1,dragElastic:s=.35,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:n,dragElastic:s,dragMomentum:a}}}function rs(e,t,i){return(!0===t||t===e)&&(null===i||i===e)}class ra extends ib{constructor(e){super(e),this.removeGroupControls=u,this.removeListeners=u,this.controls=new rn(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||u}unmount(){this.removeGroupControls(),this.removeListeners()}}let ro=e=>(t,i)=>{e&&f.postRender(()=>e(t,i))};class rl extends ib{constructor(){super(...arguments),this.removePointerDownListener=u}onPointerDown(e){this.session=new i3(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:i1(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:ro(e),onStart:ro(t),onMove:i,onEnd:(e,t)=>{delete this.session,r&&f.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=iR(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}var ru,rh,rc=i(5155);let{schedule:rd}=p(queueMicrotask,!1);var rp=i(2115),rf=i(4905),rm=i(7728);let rg=(0,rp.createContext)({}),rv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function rA(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}let ry={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!eT.test(e))return e;e=parseFloat(e)}let i=rA(e,t.target.x),r=rA(e,t.target.y);return`${i}% ${r}%`}},rB={};class rC extends rp.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:n}=e;!function(e){for(let t in e)rB[t]=e[t],tc(t)&&(rB[t].isCSSVariable=!0)}(rx),n&&(t.group&&t.group.add(n),i&&i.register&&r&&i.register(n),n.root.didUpdate(),n.addEventListener("animationComplete",()=>{this.safeToRemove()}),n.setOptions({...n.options,onExitComplete:()=>this.safeToRemove()})),rv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:i,drag:r,isPresent:n}=this.props,s=i.projection;return s&&(s.isPresent=n,r||e.layoutDependency!==t||void 0===t||e.isPresent!==n?s.willUpdate():this.safeToRemove(),e.isPresent===n||(n?s.promote():s.relegate()||f.postRender(()=>{let e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),rd.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}}function rb(e){let[t,i]=(0,rf.xQ)(),r=(0,rp.useContext)(rm.L);return(0,rc.jsx)(rC,{...e,layoutGroup:r,switchLayoutGroup:(0,rp.useContext)(rg),isPresent:t,safeToRemove:i})}let rx={borderRadius:{...ry,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ry,borderTopRightRadius:ry,borderBottomLeftRadius:ry,borderBottomRightRadius:ry,boxShadow:{correct:(e,{treeScale:t,projectionDelta:i})=>{let r=eU.parse(e);if(r.length>5)return e;let n=eU.createTransformer(e),s=+("number"!=typeof r[0]),a=i.x.scale*t.x,o=i.y.scale*t.y;r[0+s]/=a,r[1+s]/=o;let l=tM(a,o,.5);return"number"==typeof r[2+s]&&(r[2+s]/=l),"number"==typeof r[3+s]&&(r[3+s]/=l),n(r)}}},rw=(e,t)=>e.depth-t.depth;class rE{constructor(){this.children=[],this.isDirty=!1}add(e){C(this.children,e),this.isDirty=!0}remove(e){b(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(rw),this.isDirty=!1,this.children.forEach(e)}}function rM(e){let t=I(e)?e.get():e;return R(t)?t.toValue():t}let rT=["TopLeft","TopRight","BottomLeft","BottomRight"],rS=rT.length,rP=e=>"string"==typeof e?parseFloat(e):e,rF=e=>"number"==typeof e||eT.test(e);function rR(e,t){return void 0!==e[t]?e[t]:e.borderRadius}let rD=rO(0,.5,el),rI=rO(.5,.95,u);function rO(e,t,i){return r=>r<e?0:r>t?1:i(Y(e,t,r))}function rG(e,t){e.min=t.min,e.max=t.max}function rL(e,t){rG(e.x,t.x),rG(e.y,t.y)}function rk(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function rH(e,t,i,r,n){return e-=t,e=r+1/i*(e-r),void 0!==n&&(e=r+1/n*(e-r)),e}function r_(e,t,[i,r,n],s,a){!function(e,t=0,i=1,r=.5,n,s=e,a=e){if(eM.test(t)&&(t=parseFloat(t),t=tM(a.min,a.max,t/100)-a.min),"number"!=typeof t)return;let o=tM(s.min,s.max,r);e===s&&(o-=t),e.min=rH(e.min,t,i,o,n),e.max=rH(e.max,t,i,o,n)}(e,t[i],t[r],t[n],t.scale,s,a)}let rj=["x","scaleX","originX"],rU=["y","scaleY","originY"];function rV(e,t,i,r){r_(e.x,t,rj,i?i.x:void 0,r?r.x:void 0),r_(e.y,t,rU,i?i.y:void 0,r?r.y:void 0)}function rJ(e){return 0===e.translate&&1===e.scale}function rN(e){return rJ(e.x)&&rJ(e.y)}function rK(e,t){return e.min===t.min&&e.max===t.max}function rW(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function rX(e,t){return rW(e.x,t.x)&&rW(e.y,t.y)}function rQ(e){return iI(e.x)/iI(e.y)}function rY(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class rz{constructor(){this.members=[]}add(e){C(this.members,e),e.scheduleRender()}remove(e){if(b(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t;let i=this.members.findIndex(t=>e===t);if(0===i)return!1;for(let e=i;e>=0;e--){let i=this.members[e];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)}promote(e,t){let i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);let{crossfade:r}=e.options;!1===r&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}let rq={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},rZ=["","X","Y","Z"],r$={visibility:"hidden"},r0=0;function r1(e,t,i,r){let{latestValues:n}=t;n[e]&&(i[e]=n[e],t.setStaticValue(e,0),r&&(r[e]=0))}function r2({attachResizeListener:e,defaultParent:t,measureScroll:i,checkIsScrollRoot:r,resetTransform:n}){return class{constructor(e={},i=null==t?void 0:t()){this.id=r0++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,d.value&&(rq.nodes=rq.calculatedTargetDeltas=rq.calculatedProjections=0),this.nodes.forEach(r5),this.nodes.forEach(ni),this.nodes.forEach(nr),this.nodes.forEach(r8),d.addProjectionMetrics&&d.addProjectionMetrics(rq)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=i?i.root||i:this,this.path=i?[...i.path,i]:[],this.parent=i,this.depth=i?i.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new rE)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new x),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let i=this.eventHandlers.get(e);i&&i.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t,i=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=t instanceof SVGElement&&"svg"!==t.tagName,this.instance=t;let{layoutId:r,layout:n,visualElement:s}=this.options;if(s&&!s.current&&s.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),i&&(n||r)&&(this.isLayoutDirty=!0),e){let i;let r=()=>this.root.updateBlockedByResize=!1;e(t,()=>{this.root.updateBlockedByResize=!0,i&&i(),i=function(e,t){let i=E.now(),r=({timestamp:n})=>{let s=n-i;s>=250&&(m(r),e(s-t))};return f.read(r,!0),()=>m(r)}(r,250),rv.hasAnimatedSinceResize&&(rv.hasAnimatedSinceResize=!1,this.nodes.forEach(nt))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&s&&(r||n)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:i,layout:r})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let n=this.options.transition||s.getDefaultTransition()||nu,{onLayoutAnimationStart:a,onLayoutAnimationComplete:o}=s.getProps(),u=!this.targetLayout||!rX(this.targetLayout,r),h=!t&&i;if(this.options.layoutRoot||this.resumeFrom||h||t&&(u||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,h);let t={...l(n,"layout"),onPlay:a,onComplete:o};(s.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||nt(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,m(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nn),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function e(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;let{visualElement:i}=t.options;if(!i)return;let r=i.props[L];if(window.MotionHasOptimisedAnimation(r,"transform")){let{layout:e,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",f,!(e||i))}let{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&e(n)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:i}=this.options;if(void 0===t&&!i)return;let r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(r4);return}this.isUpdating||this.nodes.forEach(r7),this.isUpdating=!1,this.nodes.forEach(ne),this.nodes.forEach(r9),this.nodes.forEach(r3),this.clearAllSnapshots();let e=E.now();g.delta=ec(0,1e3/60,e-g.timestamp),g.timestamp=e,g.isProcessing=!0,v.update.process(g),v.preRender.process(g),v.render.process(g),g.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,rd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(r6),this.sharedNodes.forEach(ns)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,f.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){f.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),!this.snapshot||iI(this.snapshot.measuredBox.x)||iI(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=iV(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){let t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!n)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!rN(this.projectionDelta),i=this.getTransformTemplate(),r=i?i(this.latestValues,""):void 0,s=r!==this.prevTransformTemplateValue;e&&(t||iW(this.latestValues)||s)&&(n(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){var t;let i=this.measurePageBox(),r=this.removeElementScroll(i);return e&&(r=this.removeTransform(r)),nd((t=r).x),nd(t.y),{animationId:this.root.animationId,measuredBox:i,layoutBox:r,latestValues:{},source:this.id}}measurePageBox(){var e;let{visualElement:t}=this.options;if(!t)return iV();let i=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(nf))){let{scroll:e}=this.root;e&&(iq(i.x,e.offset.x),iq(i.y,e.offset.y))}return i}removeElementScroll(e){var t;let i=iV();if(rL(i,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return i;for(let t=0;t<this.path.length;t++){let r=this.path[t],{scroll:n,options:s}=r;r!==this.root&&n&&s.layoutScroll&&(n.wasRoot&&rL(i,e),iq(i.x,n.offset.x),iq(i.y,n.offset.y))}return i}applyTransform(e,t=!1){let i=iV();rL(i,e);for(let e=0;e<this.path.length;e++){let r=this.path[e];!t&&r.options.layoutScroll&&r.scroll&&r!==r.root&&i$(i,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),iW(r.latestValues)&&i$(i,r.latestValues)}return iW(this.latestValues)&&i$(i,this.latestValues),i}removeTransform(e){let t=iV();rL(t,e);for(let e=0;e<this.path.length;e++){let i=this.path[e];if(!i.instance||!iW(i.latestValues))continue;iK(i.latestValues)&&i.updateSnapshot();let r=iV();rL(r,i.measurePageBox()),rV(t,i.latestValues,i.snapshot?i.snapshot.layoutBox:void 0,r)}return iW(this.latestValues)&&rV(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==g.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){var t,i,r,n;let s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);let a=!!this.resumingFrom||this!==s;if(!(e||a&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:o,layoutId:l}=this.options;if(this.layout&&(o||l)){if(this.resolvedRelativeTargetAt=g.timestamp,!this.targetDelta&&!this.relativeTarget){let e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=iV(),this.relativeTargetOrigin=iV(),iH(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),rL(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if((this.target||(this.target=iV(),this.targetWithTransforms=iV()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target)?(this.forceRelativeParentToResolveTarget(),i=this.target,r=this.relativeTarget,n=this.relativeParent.target,iL(i.x,r.x,n.x),iL(i.y,r.y,n.y)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):rL(this.target,this.layout.layoutBox),iz(this.target,this.targetDelta)):rL(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let e=this.getClosestProjectingParent();e&&!!e.resumingFrom==!!this.resumingFrom&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=iV(),this.relativeTargetOrigin=iV(),iH(this.relativeTargetOrigin,this.target,e.target),rL(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}d.value&&rq.calculatedTargetDeltas++}}}getClosestProjectingParent(){return!this.parent||iK(this.parent.latestValues)||iX(this.parent.latestValues)?void 0:this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;let t=this.getLead(),i=!!this.resumingFrom||this!==t,r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),i&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===g.timestamp&&(r=!1),r)return;let{layout:n,layoutId:s}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(n||s))return;rL(this.layoutCorrected,this.layout.layoutBox);let a=this.treeScale.x,o=this.treeScale.y;!function(e,t,i,r=!1){let n,s;let a=i.length;if(a){t.x=t.y=1;for(let o=0;o<a;o++){s=(n=i[o]).projectionDelta;let{visualElement:a}=n.options;(!a||!a.props.style||"contents"!==a.props.style.display)&&(r&&n.options.layoutScroll&&n.scroll&&n!==n.root&&i$(e,{x:-n.scroll.offset.x,y:-n.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,iz(e,s)),r&&iW(n.latestValues)&&i$(e,n.latestValues))}t.x<1.0000000000001&&t.x>.999999999999&&(t.x=1),t.y<1.0000000000001&&t.y>.999999999999&&(t.y=1)}}(this.layoutCorrected,this.treeScale,this.path,i),t.layout&&!t.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(t.target=t.layout.layoutBox,t.targetWithTransforms=iV());let{target:l}=t;if(!l){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(rk(this.prevProjectionDelta.x,this.projectionDelta.x),rk(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),iG(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===a&&this.treeScale.y===o&&rY(this.projectionDelta.x,this.prevProjectionDelta.x)&&rY(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),d.value&&rq.calculatedProjections++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ij(),this.projectionDelta=ij(),this.projectionDeltaWithTransform=ij()}setAnimationOrigin(e,t=!1){let i;let r=this.snapshot,n=r?r.latestValues:{},s={...this.latestValues},a=ij();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let o=iV(),l=(r?r.source:void 0)!==(this.layout?this.layout.source:void 0),u=this.getStack(),h=!u||u.members.length<=1,c=!!(l&&!h&&!0===this.options.crossfade&&!this.path.some(nl));this.animationProgress=0,this.mixTargetDelta=t=>{let r=t/1e3;if(na(a.x,e.x,r),na(a.y,e.y,r),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var u,d,p,f,m,g;if(iH(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,f=this.relativeTargetOrigin,m=o,g=r,no(p.x,f.x,m.x,g),no(p.y,f.y,m.y,g),i&&(u=this.relativeTarget,d=i,rK(u.x,d.x)&&rK(u.y,d.y)))this.isProjectionDirty=!1;i||(i=iV()),rL(i,this.relativeTarget)}l&&(this.animationValues=s,function(e,t,i,r,n,s){n?(e.opacity=tM(0,void 0!==i.opacity?i.opacity:1,rD(r)),e.opacityExit=tM(void 0!==t.opacity?t.opacity:1,0,rI(r))):s&&(e.opacity=tM(void 0!==t.opacity?t.opacity:1,void 0!==i.opacity?i.opacity:1,r));for(let n=0;n<rS;n++){let s=`border${rT[n]}Radius`,a=rR(t,s),o=rR(i,s);(void 0!==a||void 0!==o)&&(a||(a=0),o||(o=0),0===a||0===o||rF(a)===rF(o)?(e[s]=Math.max(tM(rP(a),rP(o),r),0),(eM.test(o)||eM.test(a))&&(e[s]+="%")):e[s]=o)}(t.rotate||i.rotate)&&(e.rotate=tM(t.rotate||0,i.rotate||0,r))}(s,n,this.latestValues,r,c,h)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=r},this.mixTargetDelta(1e3*!!this.options.layoutRoot)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(m(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=f.update(()=>{rv.hasAnimatedSinceResize=!0,tE.layout++,this.currentAnimation=function(e,t,i){let r=I(0)?0:P(e);return r.start(il("",r,1e3,i)),r.animation}(0,0,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{tE.layout--},onComplete:()=>{tE.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:i,layout:r,latestValues:n}=e;if(t&&i&&r){if(this!==e&&this.layout&&r&&np(this.options.animationType,this.layout.layoutBox,r.layoutBox)){i=this.target||iV();let t=iI(this.layout.layoutBox.x);i.x.min=e.target.x.min,i.x.max=i.x.min+t;let r=iI(this.layout.layoutBox.y);i.y.min=e.target.y.min,i.y.max=i.y.min+r}rL(t,i),i$(t,n),iG(this.projectionDeltaWithTransform,this.layoutCorrected,t,n)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new rz),this.sharedNodes.get(e).add(t);let i=t.options.initialPromotionConfig;t.promote({transition:i?i.transition:void 0,preserveFollowOpacity:i&&i.shouldPreserveFollowOpacity?i.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return!e||e.lead===this}getLead(){var e;let{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;let{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:i}={}){let r=this.getStack();r&&r.promote(this,i),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:i}=e;if((i.z||i.rotate||i.rotateX||i.rotateY||i.rotateZ||i.skewX||i.skewY)&&(t=!0),!t)return;let r={};i.z&&r1("z",e,r,this.animationValues);for(let t=0;t<rZ.length;t++)r1(`rotate${rZ[t]}`,e,r,this.animationValues),r1(`skew${rZ[t]}`,e,r,this.animationValues);for(let t in e.render(),r)e.setStaticValue(t,r[t]),this.animationValues&&(this.animationValues[t]=r[t]);e.scheduleRender()}getProjectionStyles(e){var t,i;if(!this.instance||this.isSVG)return;if(!this.isVisible)return r$;let r={visibility:""},n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=rM(null==e?void 0:e.pointerEvents)||"",r.transform=n?n(this.latestValues,""):"none",r;let s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){let t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=rM(null==e?void 0:e.pointerEvents)||""),this.hasProjected&&!iW(this.latestValues)&&(t.transform=n?n({},""):"none",this.hasProjected=!1),t}let a=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=function(e,t,i){let r="",n=e.x.translate/t.x,s=e.y.translate/t.y,a=(null==i?void 0:i.z)||0;if((n||s||a)&&(r=`translate3d(${n}px, ${s}px, ${a}px) `),(1!==t.x||1!==t.y)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),i){let{transformPerspective:e,rotate:t,rotateX:n,rotateY:s,skewX:a,skewY:o}=i;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),n&&(r+=`rotateX(${n}deg) `),s&&(r+=`rotateY(${s}deg) `),a&&(r+=`skewX(${a}deg) `),o&&(r+=`skewY(${o}deg) `)}let o=e.x.scale*t.x,l=e.y.scale*t.y;return(1!==o||1!==l)&&(r+=`scale(${o}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,a),n&&(r.transform=n(a,r.transform));let{x:o,y:l}=this.projectionDelta;for(let e in r.transformOrigin=`${100*o.origin}% ${100*l.origin}% 0`,s.animationValues?r.opacity=s===this?null!==(i=null!==(t=a.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==i?i:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=s===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0,rB){if(void 0===a[e])continue;let{correct:t,applyTo:i,isCSSVariable:n}=rB[e],o="none"===r.transform?a[e]:t(a[e],s);if(i){let e=i.length;for(let t=0;t<e;t++)r[i[t]]=o}else n?this.options.visualElement.renderState.vars[e]=o:r[e]=o}return this.options.layoutId&&(r.pointerEvents=s===this?rM(null==e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(r4),this.root.sharedNodes.clear()}}}function r9(e){e.updateLayout()}function r3(e){var t;let i=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&i&&e.hasListeners("didUpdate")){let{layoutBox:t,measuredBox:r}=e.layout,{animationType:n}=e.options,s=i.source!==e.layout.source;"size"===n?iJ(e=>{let r=s?i.measuredBox[e]:i.layoutBox[e],n=iI(r);r.min=t[e].min,r.max=r.min+n}):np(n,i.layoutBox,t)&&iJ(r=>{let n=s?i.measuredBox[r]:i.layoutBox[r],a=iI(t[r]);n.max=n.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)});let a=ij();iG(a,t,i.layoutBox);let o=ij();s?iG(o,e.applyTransform(r,!0),i.measuredBox):iG(o,t,i.layoutBox);let l=!rN(a),u=!1;if(!e.resumeFrom){let r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){let{snapshot:n,layout:s}=r;if(n&&s){let a=iV();iH(a,i.layoutBox,n.layoutBox);let o=iV();iH(o,t,s.layoutBox),rX(a,o)||(u=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:i,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function r5(e){d.value&&rq.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function r8(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function r6(e){e.clearSnapshot()}function r4(e){e.clearMeasurements()}function r7(e){e.isLayoutDirty=!1}function ne(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function nt(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ni(e){e.resolveTargetDelta()}function nr(e){e.calcProjection()}function nn(e){e.resetSkewAndRotation()}function ns(e){e.removeLeadSnapshot()}function na(e,t,i){e.translate=tM(t.translate,0,i),e.scale=tM(t.scale,1,i),e.origin=t.origin,e.originPoint=t.originPoint}function no(e,t,i,r){e.min=tM(t.min,i.min,r),e.max=tM(t.max,i.max,r)}function nl(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}let nu={duration:.45,ease:[.4,0,.1,1]},nh=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),nc=nh("applewebkit/")&&!nh("chrome/")?Math.round:u;function nd(e){e.min=nc(e.min),e.max=nc(e.max)}function np(e,t,i){return"position"===e||"preserve-aspect"===e&&!(.2>=Math.abs(rQ(t)-rQ(i)))}function nf(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}let nm=r2({attachResizeListener:(e,t)=>iT(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ng={current:void 0},nv=r2({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ng.current){let e=new nm({});e.mount(window),e.setOptions({layoutScroll:!0}),ng.current=e}return ng.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>"fixed"===window.getComputedStyle(e).position});var nA=i(793);function ny(e,t){let i=(0,nA.K)(e),r=new AbortController;return[i,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function nB(e){return!("touch"===e.pointerType||iM.x||iM.y)}function nC(e,t,i){let{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===i);let n=r["onHover"+i];n&&f.postRender(()=>n(t,iP(t)))}class nb extends ib{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,i={}){let[r,n,s]=ny(e,i),a=e=>{if(!nB(e))return;let{target:i}=e,r=t(i,e);if("function"!=typeof r||!i)return;let s=e=>{nB(e)&&(r(e),i.removeEventListener("pointerleave",s))};i.addEventListener("pointerleave",s,n)};return r.forEach(e=>{e.addEventListener("pointerenter",a,n)}),s}(e,(e,t)=>(nC(this.node,t,"Start"),e=>nC(this.node,e,"End"))))}unmount(){}}class nx extends ib{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=tG(iT(this.node.current,"focus",()=>this.onFocus()),iT(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function nw(e,t){let i=`${t}PointerCapture`;if(e.target instanceof Element&&i in e.target&&void 0!==e.pointerId)try{e.target[i](e.pointerId)}catch(e){}}let nE=(e,t)=>!!t&&(e===t||nE(e,t.parentElement)),nM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),nT=new WeakSet;function nS(e){return t=>{"Enter"===t.key&&e(t)}}function nP(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}let nF=(e,t)=>{let i=e.currentTarget;if(!i)return;let r=nS(()=>{if(nT.has(i))return;nP(i,"down");let e=nS(()=>{nP(i,"up")});i.addEventListener("keyup",e,t),i.addEventListener("blur",()=>nP(i,"cancel"),t)});i.addEventListener("keydown",r,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),t)};function nR(e){return iS(e)&&!(iM.x||iM.y)}function nD(e,t,i){let{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===i);let n=r["onTap"+("End"===i?"":i)];n&&f.postRender(()=>n(t,iP(t)))}class nI extends ib{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,i={}){let[r,n,s]=ny(e,i),a=e=>{let i=e.currentTarget;if(!i||!nR(e)||nT.has(i))return;nT.add(i),nw(e,"set");let r=t(i,e),s=(e,t)=>{i.removeEventListener("pointerup",a),i.removeEventListener("pointercancel",o),nw(e,"release"),nR(e)&&nT.has(i)&&(nT.delete(i),"function"==typeof r&&r(e,{success:t}))},a=e=>{var t,r;e.isTrusted&&(t=e,r=i instanceof Element?i.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight},t.clientX<r.left||t.clientX>r.right||t.clientY<r.top||t.clientY>r.bottom)?s(e,!1):s(e,!(i instanceof Element)||nE(i,e.target))},o=e=>{s(e,!1)};i.addEventListener("pointerup",a,n),i.addEventListener("pointercancel",o,n),i.addEventListener("lostpointercapture",o,n)};return r.forEach(e=>{e=i.useGlobalTarget?window:e;let t=!1;if(e instanceof HTMLElement){var r;t=!0,r=e,!nM.has(r.tagName)&&-1===r.tabIndex&&null===e.getAttribute("tabindex")&&(e.tabIndex=0)}e.addEventListener("pointerdown",a,n),t&&e.addEventListener("focus",e=>nF(e,n),n)}),s}(e,(e,t)=>(nD(this.node,t,"Start"),(e,{success:t})=>nD(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}let nO=new WeakMap,nG=new WeakMap,nL=e=>{let t=nO.get(e.target);t&&t(e)},nk=e=>{e.forEach(nL)},nH={some:0,all:1};class n_ extends ib{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:n}=e,s={root:t?t.current:void 0,rootMargin:i,threshold:"number"==typeof r?r:nH[r]};return function(e,t,i){let r=function({root:e,...t}){let i=e||document;nG.has(i)||nG.set(i,{});let r=nG.get(i),n=JSON.stringify(t);return r[n]||(r[n]=new IntersectionObserver(nk,{root:e,...t})),r[n]}(t);return nO.set(e,i),r.observe(e),()=>{nO.delete(e),r.unobserve(e)}}(this.node.current,s,e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,n&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);let{onViewportEnter:i,onViewportLeave:r}=this.node.getProps(),s=t?i:r;s&&s(e)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return i=>e[i]!==t[i]}(e,t))&&this.startObserver()}unmount(){}}let nj=(0,rp.createContext)({strict:!1});var nU=i(7471);let nV=(0,rp.createContext)({});function nJ(e){return n(e.animate)||ig.some(t=>ip(e[t]))}function nN(e){return!!(nJ(e)||e.variants)}function nK(e){return Array.isArray(e)?e.join(" "):e}var nW=i(2801);let nX={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},nQ={};for(let e in nX)nQ[e]={isEnabled:t=>nX[e].some(e=>!!t[e])};let nY=Symbol.for("motionComponentSymbol");var nz=i(430),nq=i(9025);function nZ(e,{layout:t,layoutId:i}){return y.has(e)||e.startsWith("origin")||(t||void 0!==i)&&(!!rB[e]||"opacity"===e)}let n$=(e,t)=>t&&"number"==typeof e?t.transform(e):e,n0={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},n1=A.length;function n2(e,t,i){let{style:r,vars:n,transformOrigin:s}=e,a=!1,o=!1;for(let e in t){let i=t[e];if(y.has(e)){a=!0;continue}if(tc(e)){n[e]=i;continue}{let t=n$(i,eX[e]);e.startsWith("origin")?(o=!0,s[e]=t):r[e]=t}}if(!t.transform&&(a||i?r.transform=function(e,t,i){let r="",n=!0;for(let s=0;s<n1;s++){let a=A[s],o=e[a];if(void 0===o)continue;let l=!0;if(!(l="number"==typeof o?o===+!!a.startsWith("scale"):0===parseFloat(o))||i){let e=n$(o,eX[a]);if(!l){n=!1;let t=n0[a]||a;r+=`${t}(${e}) `}i&&(t[a]=e)}}return r=r.trim(),i?r=i(t,n?"":r):n&&(r="none"),r}(t,e.transform,i):r.transform&&(r.transform="none")),o){let{originX:e="50%",originY:t="50%",originZ:i=0}=s;r.transformOrigin=`${e} ${t} ${i}`}}let n9=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function n3(e,t,i){for(let r in t)I(t[r])||nZ(r,i)||(e[r]=t[r])}let n5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function n8(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||n5.has(e)}let n6=e=>!n8(e);try{!function(e){e&&(n6=t=>t.startsWith("on")?!n8(t):e(t))}(require("@emotion/is-prop-valid").default)}catch(e){}let n4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function n7(e){if("string"!=typeof e||e.includes("-"));else if(n4.indexOf(e)>-1||/[A-Z]/u.test(e))return!0;return!1}let se={offset:"stroke-dashoffset",array:"stroke-dasharray"},st={offset:"strokeDashoffset",array:"strokeDasharray"};function si(e,t,i){return"string"==typeof e?e:eT.transform(t+i*e)}function sr(e,{attrX:t,attrY:i,attrScale:r,originX:n,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...u},h,c){if(n2(e,u,c),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:d,style:p,dimensions:f}=e;d.transform&&(f&&(p.transform=d.transform),delete d.transform),f&&(void 0!==n||void 0!==s||p.transform)&&(p.transformOrigin=function(e,t,i){let r=si(t,e.x,e.width),n=si(i,e.y,e.height);return`${r} ${n}`}(f,void 0!==n?n:.5,void 0!==s?s:.5)),void 0!==t&&(d.x=t),void 0!==i&&(d.y=i),void 0!==r&&(d.scale=r),void 0!==a&&function(e,t,i=1,r=0,n=!0){e.pathLength=1;let s=n?se:st;e[s.offset]=eT.transform(-r);let a=eT.transform(t),o=eT.transform(i);e[s.array]=`${a} ${o}`}(d,a,o,l,!1)}let sn=()=>({...n9(),attrs:{}}),ss=e=>"string"==typeof e&&"svg"===e.toLowerCase();var sa=i(6168);let so=e=>(t,i)=>{let r=(0,rp.useContext)(nV),s=(0,rp.useContext)(nz.t),o=()=>(function({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:i},r,s,o){let l={latestValues:function(e,t,i,r){let s={},o=r(e,{});for(let e in o)s[e]=rM(o[e]);let{initial:l,animate:u}=e,h=nJ(e),c=nN(e);t&&c&&!h&&!1!==e.inherit&&(void 0===l&&(l=t.initial),void 0===u&&(u=t.animate));let d=!!i&&!1===i.initial,p=(d=d||!1===l)?u:l;if(p&&"boolean"!=typeof p&&!n(p)){let t=Array.isArray(p)?p:[p];for(let i=0;i<t.length;i++){let r=a(e,t[i]);if(r){let{transitionEnd:e,transition:t,...i}=r;for(let e in i){let t=i[e];if(Array.isArray(t)){let e=d?t.length-1:0;t=t[e]}null!==t&&(s[e]=t)}for(let t in e)s[t]=e[t]}}}return s}(r,s,o,e),renderState:t()};return i&&(l.onMount=e=>i({props:r,current:e,...l}),l.onUpdate=e=>i(e)),l})(e,t,r,s);return i?o():(0,sa.M)(o)};function sl(e,t,i){var r;let{style:n}=e,s={};for(let a in n)(I(n[a])||t.style&&I(t.style[a])||nZ(a,e)||(null===(r=null==i?void 0:i.getValue(a))||void 0===r?void 0:r.liveStyle)!==void 0)&&(s[a]=n[a]);return s}let su={useVisualState:so({scrapeMotionValuesFromProps:sl,createRenderState:n9})};function sh(e,t){try{t.dimensions="function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(e){t.dimensions={x:0,y:0,width:0,height:0}}}function sc(e,{style:t,vars:i},r,n){for(let s in Object.assign(e.style,t,n&&n.getProjectionStyles(r)),i)e.style.setProperty(s,i[s])}let sd=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sp(e,t,i,r){for(let i in sc(e,t,void 0,r),t.attrs)e.setAttribute(sd.has(i)?i:G(i),t.attrs[i])}function sf(e,t,i){let r=sl(e,t,i);for(let i in e)(I(e[i])||I(t[i]))&&(r[-1!==A.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]);return r}let sm=["x","y","width","height","cx","cy","r"],sg={useVisualState:so({scrapeMotionValuesFromProps:sf,createRenderState:sn,onUpdate:({props:e,prevProps:t,current:i,renderState:r,latestValues:n})=>{if(!i)return;let s=!!e.drag;if(!s){for(let e in n)if(y.has(e)){s=!0;break}}if(!s)return;let a=!t;if(t)for(let i=0;i<sm.length;i++){let r=sm[i];e[r]!==t[r]&&(a=!0)}a&&f.read(()=>{sh(i,r),f.render(()=>{sr(r,n,ss(i.tagName),e.transformTemplate),sp(i,r)})})}})},sv={current:null},sA={current:!1},sy=[...tv,eD,eU],sB=e=>sy.find(tg(e)),sC=new WeakMap,sb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class sx{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:n,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=tl,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=E.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,f.render(this.render,!1,!0))};let{latestValues:o,renderState:l,onUpdate:u}=s;this.onUpdate=u,this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!n,this.isControllingVariants=nJ(t),this.isVariantNode=nN(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);let{willChange:h,...c}=this.scrapeMotionValuesFromProps(t,{},this);for(let e in c){let t=c[e];void 0!==o[e]&&I(t)&&t.set(o[e],!1)}}mount(e){this.current=e,sC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),sA.current||function(){if(sA.current=!0,nW.B){if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>sv.current=e.matches;e.addListener(t),t()}else sv.current=!1}}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||sv.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){for(let e in this.projection&&this.projection.unmount(),m(this.notifyUpdate),m(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){let i;this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();let r=y.has(e);r&&this.onBindTransform&&this.onBindTransform();let n=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&f.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{n(),s(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in nQ){let t=nQ[e];if(!t)continue;let{isEnabled:i,Feature:r}=t;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):iV()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<sb.length;t++){let i=sb[t];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);let r=e["on"+i];r&&(this.propEventSubscriptions[i]=this.on(i,r))}this.prevMotionValues=function(e,t,i){for(let r in t){let n=t[r],s=i[r];if(I(n))e.addValue(r,n);else if(I(s))e.addValue(r,P(n,{owner:e}));else if(s!==n){if(e.hasValue(r)){let t=e.getValue(r);!0===t.liveStyle?t.jump(n):t.hasAnimated||t.set(n)}else{let t=e.getStaticValue(r);e.addValue(r,P(void 0!==t?t:n,{owner:e}))}}}for(let r in i)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return void 0===i&&void 0!==t&&(i=P(null===t?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){var i;let r=void 0===this.latestValues[e]&&this.current?null!==(i=this.getBaseTargetFromProps(this.props,e))&&void 0!==i?i:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return null!=r&&("string"==typeof r&&(tu(r)||eh(r))?r=parseFloat(r):!sB(r)&&eU.test(t)&&(r=ez(e,t)),this.setBaseTarget(e,I(r)?r.get():r)),I(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;let i;let{initial:r}=this.props;if("string"==typeof r||"object"==typeof r){let n=a(this.props,r,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);n&&(i=n[e])}if(r&&void 0!==i)return i;let n=this.getBaseTargetFromProps(this.props,e);return void 0===n||I(n)?void 0!==this.initialValues[e]&&void 0===i?void 0:this.baseTarget[e]:n}on(e,t){return this.events[e]||(this.events[e]=new x),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class sw extends sx{constructor(){super(...arguments),this.KeyframeResolver=ty}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;I(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class sE extends sw{constructor(){super(...arguments),this.type="html",this.renderInstance=sc}readValueFromInstance(e,t){if(y.has(t))return e6(e,t);{let i=window.getComputedStyle(e),r=(tc(t)?i.getPropertyValue(t):i[t])||0;return"string"==typeof r?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return i0(e,t)}build(e,t,i){n2(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return sl(e,t,i)}}class sM extends sw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=iV,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&sh(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(y.has(t)){let e=eY(t);return e&&e.default||0}return t=sd.has(t)?t:G(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return sf(e,t,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&f.postRender(this.updateDimensions)}build(e,t,i){sr(e,t,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,i,r){sp(e,t,i,r)}mount(e){this.isSVGTag=ss(e.tagName),super.mount(e)}}let sT=function(e){if("undefined"==typeof Proxy)return e;let t=new Map;return new Proxy((...t)=>e(...t),{get:(i,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}((ru={animation:{Feature:ix},exit:{Feature:iE},inView:{Feature:n_},tap:{Feature:nI},focus:{Feature:nx},hover:{Feature:nb},pan:{Feature:rl},drag:{Feature:ra,ProjectionNode:nv,MeasureLayout:rb},layout:{ProjectionNode:nv,MeasureLayout:rb}},rh=(e,t)=>n7(e)?new sM(t):new sE(t,{allowProjection:e!==rp.Fragment}),function(e,{forwardMotionProps:t}={forwardMotionProps:!1}){return function(e){var t,i;let{preloadedFeatures:r,createVisualElement:n,useRender:s,useVisualState:a,Component:o}=e;function l(e,t){var i,r,l;let u;let h={...(0,rp.useContext)(nU.Q),...e,layoutId:function(e){let{layoutId:t}=e,i=(0,rp.useContext)(rm.L).id;return i&&void 0!==t?i+"-"+t:t}(e)},{isStatic:c}=h,d=function(e){let{initial:t,animate:i}=function(e,t){if(nJ(e)){let{initial:t,animate:i}=e;return{initial:!1===t||ip(t)?t:void 0,animate:ip(i)?i:void 0}}return!1!==e.inherit?t:{}}(e,(0,rp.useContext)(nV));return(0,rp.useMemo)(()=>({initial:t,animate:i}),[nK(t),nK(i)])}(e),p=a(e,c);if(!c&&nW.B){r=0,l=0,(0,rp.useContext)(nj).strict;let e=function(e){let{drag:t,layout:i}=nQ;if(!t&&!i)return{};let r={...t,...i};return{MeasureLayout:(null==t?void 0:t.isEnabled(e))||(null==i?void 0:i.isEnabled(e))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(h);u=e.MeasureLayout,d.visualElement=function(e,t,i,r,n){var s,a;let{visualElement:o}=(0,rp.useContext)(nV),l=(0,rp.useContext)(nj),u=(0,rp.useContext)(nz.t),h=(0,rp.useContext)(nU.Q).reducedMotion,c=(0,rp.useRef)(null);r=r||l.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:o,props:i,presenceContext:u,blockInitialAnimation:!!u&&!1===u.initial,reducedMotionConfig:h}));let d=c.current,p=(0,rp.useContext)(rg);d&&!d.projection&&n&&("html"===d.type||"svg"===d.type)&&function(e,t,i,r){let{layoutId:n,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u}=t;e.projection=new i(e.latestValues,t["data-framer-portal-id"]?void 0:function e(t){if(t)return!1!==t.options.allowProjection?t.projection:e(t.parent)}(e.parent)),e.projection.setOptions({layoutId:n,layout:s,alwaysMeasureLayout:!!a||o&&i2(o),visualElement:e,animationType:"string"==typeof s?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}(c.current,i,n,p);let f=(0,rp.useRef)(!1);(0,rp.useInsertionEffect)(()=>{d&&f.current&&d.update(i,u)});let m=i[L],g=(0,rp.useRef)(!!m&&!(null===(s=window.MotionHandoffIsComplete)||void 0===s?void 0:s.call(window,m))&&(null===(a=window.MotionHasOptimisedAnimation)||void 0===a?void 0:a.call(window,m)));return(0,nq.E)(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),rd.render(d.render),g.current&&d.animationState&&d.animationState.animateChanges())}),(0,rp.useEffect)(()=>{d&&(!g.current&&d.animationState&&d.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,m)}),g.current=!1))}),d}(o,p,h,n,e.ProjectionNode)}return(0,rc.jsxs)(nV.Provider,{value:d,children:[u&&d.visualElement?(0,rc.jsx)(u,{visualElement:d.visualElement,...h}):null,s(o,e,(i=d.visualElement,(0,rp.useCallback)(e=>{e&&p.onMount&&p.onMount(e),i&&(e?i.mount(e):i.unmount()),t&&("function"==typeof t?t(e):i2(t)&&(t.current=e))},[i])),p,c,d.visualElement)]})}r&&function(e){for(let t in e)nQ[t]={...nQ[t],...e[t]}}(r),l.displayName="motion.".concat("string"==typeof o?o:"create(".concat(null!==(i=null!==(t=o.displayName)&&void 0!==t?t:o.name)&&void 0!==i?i:"",")"));let u=(0,rp.forwardRef)(l);return u[nY]=o,u}({...n7(e)?sg:su,preloadedFeatures:ru,useRender:function(e=!1){return(t,i,r,{latestValues:n},s)=>{let a=(n7(t)?function(e,t,i,r){let n=(0,rp.useMemo)(()=>{let i=sn();return sr(i,t,ss(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){let t={};n3(t,e.style,e),n.style={...t,...n.style}}return n}:function(e,t){let i={},r=function(e,t){let i=e.style||{},r={};return n3(r,i,e),Object.assign(r,function({transformTemplate:e},t){return(0,rp.useMemo)(()=>{let i=n9();return n2(i,t,e),Object.assign({},i.vars,i.style)},[t])}(e,t)),r}(e,t);return e.drag&&!1!==e.dragListener&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":`pan-${"x"===e.drag?"y":"x"}`),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=r,i})(i,n,s,t),o=function(e,t,i){let r={};for(let n in e)("values"!==n||"object"!=typeof e.values)&&(n6(n)||!0===i&&n8(n)||!t&&!n8(n)||e.draggable&&n.startsWith("onDrag"))&&(r[n]=e[n]);return r}(i,"string"==typeof t,e),l=t!==rp.Fragment?{...o,...a,ref:r}:{},{children:u}=i,h=(0,rp.useMemo)(()=>I(u)?u.get():u,[u]);return(0,rp.createElement)(t,{...l,children:h})}}(t),createVisualElement:rh,Component:e})}))},8453:(e,t,i)=>{i.d(t,{B:()=>s});let r=1,n={};class s{constructor(e,{vertex:t,fragment:i,uniforms:n={},transparent:s=!1,cullFace:a=e.BACK,frontFace:o=e.CCW,depthTest:l=!0,depthWrite:u=!0,depthFunc:h=e.LEQUAL}={}){e.canvas||console.error("gl not passed as first argument to Program"),this.gl=e,this.uniforms=n,this.id=r++,t||console.warn("vertex shader not supplied"),i||console.warn("fragment shader not supplied"),this.transparent=s,this.cullFace=a,this.frontFace=o,this.depthTest=l,this.depthWrite=u,this.depthFunc=h,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:t,fragment:i})}setShaders({vertex:e,fragment:t}){if(e&&(this.gl.shaderSource(this.vertexShader,e),this.gl.compileShader(this.vertexShader),""!==this.gl.getShaderInfoLog(this.vertexShader)&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${o(e)}`)),t&&(this.gl.shaderSource(this.fragmentShader,t),this.gl.compileShader(this.fragmentShader),""!==this.gl.getShaderInfoLog(this.fragmentShader)&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${o(t)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let i=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let e=0;e<i;e++){let t=this.gl.getActiveUniform(this.program,e);this.uniformLocations.set(t,this.gl.getUniformLocation(this.program,t.name));let i=t.name.match(/(\w+)/g);t.uniformName=i[0],t.nameComponents=i.slice(1)}this.attributeLocations=new Map;let r=[],n=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let e=0;e<n;e++){let t=this.gl.getActiveAttrib(this.program,e),i=this.gl.getAttribLocation(this.program,t.name);-1!==i&&(r[i]=t.name,this.attributeLocations.set(t,i))}this.attributeOrder=r.join("")}setBlendFunc(e,t,i,r){this.blendFunc.src=e,this.blendFunc.dst=t,this.blendFunc.srcAlpha=i,this.blendFunc.dstAlpha=r,e&&(this.transparent=!0)}setBlendEquation(e,t){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=t}setStencilFunc(e,t,i){this.stencilRef=t,this.stencilFunc.func=e,this.stencilFunc.ref=t,this.stencilFunc.mask=i}setStencilOp(e,t,i){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=t,this.stencilOp.depthPass=i}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:e=!1}={}){let t=-1;this.gl.renderer.state.currentProgram!==this.id&&(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((e,i)=>{let r=this.uniforms[i.uniformName];for(let e of i.nameComponents){if(!r)break;if(e in r)r=r[e];else if(Array.isArray(r.value))break;else{r=void 0;break}}if(!r)return u(`Active uniform ${i.name} has not been supplied`);if(r&&void 0===r.value)return u(`${i.name} uniform is missing a value parameter`);if(r.value.texture)return t+=1,r.value.update(t),a(this.gl,i.type,e,t);if(r.value.length&&r.value[0].texture){let n=[];return r.value.forEach(e=>{t+=1,e.update(t),n.push(t)}),a(this.gl,i.type,e,n)}a(this.gl,i.type,e,r.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function a(e,t,i,r){r=r.length?function(e){let t=e.length,i=e[0].length;if(void 0===i)return e;let r=t*i,s=n[r];s||(n[r]=s=new Float32Array(r));for(let r=0;r<t;r++)s.set(e[r],r*i);return s}(r):r;let s=e.renderer.state.uniformLocations.get(i);if(r.length){if(void 0===s||s.length!==r.length)e.renderer.state.uniformLocations.set(i,r.slice(0));else{if(function(e,t){if(e.length!==t.length)return!1;for(let i=0,r=e.length;i<r;i++)if(e[i]!==t[i])return!1;return!0}(s,r))return;s.set?s.set(r):function(e,t){for(let i=0,r=e.length;i<r;i++)e[i]=t[i]}(s,r),e.renderer.state.uniformLocations.set(i,s)}}else{if(s===r)return;e.renderer.state.uniformLocations.set(i,r)}switch(t){case 5126:return r.length?e.uniform1fv(i,r):e.uniform1f(i,r);case 35664:return e.uniform2fv(i,r);case 35665:return e.uniform3fv(i,r);case 35666:return e.uniform4fv(i,r);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return r.length?e.uniform1iv(i,r):e.uniform1i(i,r);case 35671:case 35667:return e.uniform2iv(i,r);case 35672:case 35668:return e.uniform3iv(i,r);case 35673:case 35669:return e.uniform4iv(i,r);case 35674:return e.uniformMatrix2fv(i,!1,r);case 35675:return e.uniformMatrix3fv(i,!1,r);case 35676:return e.uniformMatrix4fv(i,!1,r)}}function o(e){let t=e.split("\n");for(let e=0;e<t.length;e++)t[e]=e+1+": "+t[e];return t.join("\n")}let l=0;function u(e){!(l>100)&&(console.warn(e),++l>100&&console.warn("More than 100 program warnings - stopping logs."))}},8619:(e,t,i)=>{i.d(t,{d:()=>o});var r=i(5443),n=i(2115),s=i(1508),a=i(2885);function o(e){let t=(0,a.M)(()=>(0,r.OQ)(e)),{isStatic:i}=(0,n.useContext)(s.Q);if(i){let[,i]=(0,n.useState)(e);(0,n.useEffect)(()=>t.on("change",i),[])}return t}},8724:(e,t,i)=>{i.d(t,{A:()=>s});let r=new(i(4851)).e,n=1;class s{constructor({canvas:e=document.createElement("canvas"),width:t=300,height:i=150,dpr:r=1,alpha:s=!1,depth:a=!0,stencil:o=!1,antialias:l=!1,premultipliedAlpha:u=!1,preserveDrawingBuffer:h=!1,powerPreference:c="default",autoClear:d=!0,webgl:p=2}={}){let f={alpha:s,depth:a,stencil:o,antialias:l,premultipliedAlpha:u,preserveDrawingBuffer:h,powerPreference:c};this.dpr=r,this.alpha=s,this.color=!0,this.depth=a,this.stencil=o,this.premultipliedAlpha=u,this.autoClear=d,this.id=n++,2===p&&(this.gl=e.getContext("webgl2",f)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",f)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(t,i),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,t){this.width=e,this.height=t,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=t*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:t+"px"})}setViewport(e,t,i=0,r=0){(this.state.viewport.width!==e||this.state.viewport.height!==t)&&(this.state.viewport.width=e,this.state.viewport.height=t,this.state.viewport.x=i,this.state.viewport.y=r,this.gl.viewport(i,r,e,t))}setScissor(e,t,i=0,r=0){this.gl.scissor(i,r,e,t)}enable(e){!0!==this.state[e]&&(this.gl.enable(e),this.state[e]=!0)}disable(e){!1!==this.state[e]&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,t,i,r){(this.state.blendFunc.src!==e||this.state.blendFunc.dst!==t||this.state.blendFunc.srcAlpha!==i||this.state.blendFunc.dstAlpha!==r)&&(this.state.blendFunc.src=e,this.state.blendFunc.dst=t,this.state.blendFunc.srcAlpha=i,this.state.blendFunc.dstAlpha=r,void 0!==i?this.gl.blendFuncSeparate(e,t,i,r):this.gl.blendFunc(e,t))}setBlendEquation(e,t){e=e||this.gl.FUNC_ADD,(this.state.blendEquation.modeRGB!==e||this.state.blendEquation.modeAlpha!==t)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=t,void 0!==t?this.gl.blendEquationSeparate(e,t):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}setStencilMask(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}setStencilFunc(e,t,i){(this.state.stencilFunc!==e||this.state.stencilRef!==t||this.state.stencilFuncMask!==i)&&(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=t||0,this.state.stencilFuncMask=i||0,this.gl.stencilFunc(e||this.gl.ALWAYS,t||0,i||0))}setStencilOp(e,t,i){(this.state.stencilFail!==e||this.state.stencilDepthFail!==t||this.state.stencilDepthPass!==i)&&(this.state.stencilFail=e,this.state.stencilDepthFail=t,this.state.stencilDepthPass=i,this.gl.stencilOp(e,t,i))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:t=null}={}){this.state.framebuffer!==t&&(this.state.framebuffer=t,this.gl.bindFramebuffer(e,t))}getExtension(e,t,i){return t&&this.gl[t]?this.gl[t].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),t)?this.extensions[e]?this.extensions[e][i].bind(this.extensions[e]):null:this.extensions[e]}sortOpaque(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program.id!==t.program.id?e.program.id-t.program.id:e.zDepth!==t.zDepth?e.zDepth-t.zDepth:t.id-e.id}sortTransparent(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.zDepth!==t.zDepth?t.zDepth-e.zDepth:t.id-e.id}sortUI(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program.id!==t.program.id?e.program.id-t.program.id:t.id-e.id}getRenderList({scene:e,camera:t,frustumCull:i,sort:n}){let s=[];if(t&&i&&t.updateFrustum(),e.traverse(e=>{if(!e.visible)return!0;if(e.draw){if(i&&e.frustumCulled&&t&&!t.frustumIntersectsMesh(e))return;s.push(e)}}),n){let e=[],i=[],n=[];s.forEach(s=>{s.program.transparent?s.program.depthTest?i.push(s):n.push(s):e.push(s),s.zDepth=0,0===s.renderOrder&&s.program.depthTest&&t&&(s.worldMatrix.getTranslation(r),r.applyMatrix4(t.projectionViewMatrix),s.zDepth=r.z)}),e.sort(this.sortOpaque),i.sort(this.sortTransparent),n.sort(this.sortUI),s=e.concat(i,n)}return s}render({scene:e,camera:t,target:i=null,update:r=!0,sort:n=!0,frustumCull:s=!0,clear:a}){null===i?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(i),this.setViewport(i.width,i.height)),(a||this.autoClear&&!1!==a)&&(this.depth&&(!i||i.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!i||i.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),r&&e.updateMatrixWorld(),t&&t.updateMatrixWorld(),this.getRenderList({scene:e,camera:t,frustumCull:s,sort:n}).forEach(e=>{e.draw({camera:t})})}}},8781:(e,t,i)=>{i.d(t,{l:()=>u});var r=i(4851);let n=new r.e,s=1,a=1,o=!1;class l{constructor(e,t={}){for(let i in e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=t,this.id=s++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state,t)this.addAttribute(i,t[i])}addAttribute(e,t){if(this.attributes[e]=t,t.id=a++,t.size=t.size||1,t.type=t.type||(t.data.constructor===Float32Array?this.gl.FLOAT:t.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),t.target="index"===e?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,t.normalized=t.normalized||!1,t.stride=t.stride||0,t.offset=t.offset||0,t.count=t.count||(t.stride?t.data.byteLength/t.stride:t.data.length/t.size),t.divisor=t.instanced||0,t.needsUpdate=!1,t.usage=t.usage||this.gl.STATIC_DRAW,t.buffer||this.updateAttribute(t),t.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==t.count*t.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,t.count*t.divisor);this.instancedCount=t.count*t.divisor}else"index"===e?this.drawRange.count=t.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,t.count))}updateAttribute(e){let t=!e.buffer;t&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),t?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((e,{name:t,type:i})=>{if(!this.attributes[t]){console.warn(`active attribute ${t} not being supplied`);return}let r=this.attributes[t];this.gl.bindBuffer(r.target,r.buffer),this.glState.boundBuffer=r.buffer;let n=1;35674===i&&(n=2),35675===i&&(n=3),35676===i&&(n=4);let s=r.size/n,a=1===n?0:n*n*4,o=1===n?0:4*n;for(let t=0;t<n;t++)this.gl.vertexAttribPointer(e+t,s,r.type,r.normalized,r.stride+a,r.offset+t*o),this.gl.enableVertexAttribArray(e+t),this.gl.renderer.vertexAttribDivisor(e+t,r.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:t=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach((e,{name:t})=>{let i=this.attributes[t];i.needsUpdate&&this.updateAttribute(i)});let i=2;this.attributes.index?.type===this.gl.UNSIGNED_INT&&(i=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(t,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*i,this.instancedCount):this.gl.renderer.drawArraysInstanced(t,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(t,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*i):this.gl.drawArrays(t,this.drawRange.start,this.drawRange.count)}getPosition(){let e=this.attributes.position;return e.data?e:o?void 0:(console.warn("No position buffer data found to compute bounds"),o=!0)}computeBoundingBox(e){e||(e=this.getPosition());let t=e.data,i=e.size;this.bounds||(this.bounds={min:new r.e,max:new r.e,center:new r.e,scale:new r.e,radius:1/0});let n=this.bounds.min,s=this.bounds.max,a=this.bounds.center,o=this.bounds.scale;n.set(Infinity),s.set(-1/0);for(let e=0,r=t.length;e<r;e+=i){let i=t[e],r=t[e+1],a=t[e+2];n.x=Math.min(i,n.x),n.y=Math.min(r,n.y),n.z=Math.min(a,n.z),s.x=Math.max(i,s.x),s.y=Math.max(r,s.y),s.z=Math.max(a,s.z)}o.sub(s,n),a.add(n,s).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());let t=e.data,i=e.size;this.bounds||this.computeBoundingBox(e);let r=0;for(let e=0,s=t.length;e<s;e+=i)n.fromArray(t,e),r=Math.max(r,this.bounds.center.squaredDistance(n));this.bounds.radius=Math.sqrt(r)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}class u extends l{constructor(e,{attributes:t={}}={}){Object.assign(t,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(e,t)}}},8972:(e,t,i)=>{i.d(t,{B:()=>r});let r="undefined"!=typeof window},9017:(e,t,i)=>{i.d(t,{W:()=>a});var r=i(2115),n=i(793);let s={some:0,all:1};function a(e,{root:t,margin:i,amount:o,once:l=!1,initial:u=!1}={}){let[h,c]=(0,r.useState)(u);return(0,r.useEffect)(()=>{if(!e.current||l&&h)return;let r={root:t&&t.current||void 0,margin:i,amount:o};return function(e,t,{root:i,margin:r,amount:a="some"}={}){let o=(0,n.K)(e),l=new WeakMap,u=new IntersectionObserver(e=>{e.forEach(e=>{let i=l.get(e.target);if(!!i!==e.isIntersecting){if(e.isIntersecting){let i=t(e.target,e);"function"==typeof i?l.set(e.target,i):u.unobserve(e.target)}else"function"==typeof i&&(i(e),l.delete(e.target))}})},{root:i,rootMargin:r,threshold:"number"==typeof a?a:s[a]});return o.forEach(e=>u.observe(e)),()=>u.disconnect()}(e.current,()=>(c(!0),l?void 0:()=>c(!1)),r)},[t,e,i,l,o]),h}},9025:(e,t,i)=>{i.d(t,{E:()=>n});var r=i(2115);let n=i(2801).B?r.useLayoutEffect:r.useEffect},9033:(e,t,i)=>{e.exports=i(2436)},9280:(e,t,i)=>{i.d(t,{E4:()=>o,Hr:()=>c,W9:()=>h});var r=i(3082),n=i(5471),s=i(7387),a=i(4576);let o=e=>e===r.ai||e===n.px,l=new Set(["x","y","z"]),u=s.U.filter(e=>!l.has(e));function h(e){let t=[];return u.forEach(i=>{let r=e.getValue(i);void 0!==r&&(t.push([i,r.get()]),r.set(+!!i.startsWith("scale")))}),t}let c={width:({x:e},{paddingLeft:t="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),height:({y:e},{paddingTop:t="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>(0,a.r)(t,"x"),y:(e,{transform:t})=>(0,a.r)(t,"y")};c.translateX=c.x,c.translateY=c.y},9282:(e,t,i)=>{i.d(t,{po:()=>s,tn:()=>o,yT:()=>a});var r=i(567),n=i(6498);let s=e=>1-Math.sin(Math.acos(e)),a=(0,n.G)(s),o=(0,r.V)(s)},9630:(e,t,i)=>{i.d(t,{A:()=>r});function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)({}).hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(null,arguments)}}}]);